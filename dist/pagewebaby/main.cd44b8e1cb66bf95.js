(self.webpackChunkpagewebaby=self.webpackChunkpagewebaby||[]).push([[179],{197:(_c,Mn,bt)=>{"use strict";function me(n){return"function"==typeof n}function We(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const St=We(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Gt(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Vt{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(me(i))try{i()}catch(s){e=s instanceof St?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{ot(s)}catch(o){e=null!=e?e:[],o instanceof St?e=[...e,...o.errors]:e.push(o)}}if(e)throw new St(e)}}add(e){var t;if(e&&e!==this)if(this.closed)ot(e);else{if(e instanceof Vt){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Gt(t,e)}remove(e){const{_finalizers:t}=this;t&&Gt(t,e),e instanceof Vt&&e._removeParent(this)}}Vt.EMPTY=(()=>{const n=new Vt;return n.closed=!0,n})();const Ze=Vt.EMPTY;function Ht(n){return n instanceof Vt||n&&"closed"in n&&me(n.remove)&&me(n.add)&&me(n.unsubscribe)}function ot(n){me(n)?n():n.unsubscribe()}const yt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},vt={setTimeout(n,e,...t){const{delegate:i}=vt;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=vt;return((null==e?void 0:e.clearTimeout)||clearTimeout)(n)},delegate:void 0};function jt(n){vt.setTimeout(()=>{const{onUnhandledError:e}=yt;if(!e)throw n;e(n)})}function kn(){}const ci=ms("C",void 0,void 0);function ms(n,e,t){return{kind:n,value:e,error:t}}let Fi=null;function Mr(n){if(yt.useDeprecatedSynchronousErrorHandling){const e=!Fi;if(e&&(Fi={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=Fi;if(Fi=null,t)throw i}}else n()}class Gr extends Vt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ht(e)&&e.add(this)):this.destination=jn}static create(e,t,i){return new Ne(e,t,i)}next(e){this.isStopped?qe(function No(n){return ms("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?qe(function $s(n){return ms("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?qe(ci,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const en=Function.prototype.bind;function di(n,e){return en.call(n,e)}class jr{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){be(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){be(i)}else be(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){be(t)}}}class Ne extends Gr{constructor(e,t,i){let r;if(super(),me(e)||!e)r={next:null!=e?e:void 0,error:null!=t?t:void 0,complete:null!=i?i:void 0};else{let s;this&&yt.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&di(e.next,s),error:e.error&&di(e.error,s),complete:e.complete&&di(e.complete,s)}):r=e}this.destination=new jr(r)}}function be(n){yt.useDeprecatedSynchronousErrorHandling?function ui(n){yt.useDeprecatedSynchronousErrorHandling&&Fi&&(Fi.errorThrown=!0,Fi.error=n)}(n):jt(n)}function qe(n,e){const{onStoppedNotification:t}=yt;t&&vt.setTimeout(()=>t(n,e))}const jn={closed:!0,next:kn,error:function Nt(n){throw n},complete:kn},hi="function"==typeof Symbol&&Symbol.observable||"@@observable";function Jn(n){return n}let Yt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function rr(n){return n&&n instanceof Gr||function Fo(n){return n&&me(n.next)&&me(n.error)&&me(n.complete)}(n)&&Ht(n)}(t)?t:new Ne(t,i,r);return Mr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=Oa(i))((r,s)=>{const o=new Ne({next:a=>{try{t(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[hi](){return this}pipe(...t){return function Yr(n){return 0===n.length?Jn:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}(t)(this)}toPromise(t){return new(t=Oa(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function Oa(n){var e;return null!==(e=null!=n?n:yt.Promise)&&void 0!==e?e:Promise}const Ti=We(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ln=(()=>{class n extends Yt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new ki(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Ti}next(t){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Mr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?Ze:(this.currentObservers=null,s.push(t),new Vt(()=>{this.currentObservers=null,Gt(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Yt;return t.source=this,t}}return n.create=(e,t)=>new ki(e,t),n})();class ki extends ln{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:Ze}}function Sn(n){return me(null==n?void 0:n.lift)}function _t(n){return e=>{if(Sn(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ft(n,e,t,i,r){return new qr(n,e,t,i,r)}class qr extends Gr{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function rt(n,e){return _t((t,i)=>{let r=0;t.subscribe(Ft(i,s=>{i.next(n.call(e,s,r++))}))})}function Zs(n){return this instanceof Zs?(this.v=n,this):new Zs(n)}function R_(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(f){return new Promise(function(p,_){s.push([h,f,p,_])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof Zs?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(i[h](f))}catch(p){d(s[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function O_(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function jp(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Yp=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function L_(n){return me(null==n?void 0:n.then)}function N_(n){return me(n[hi])}function F_(n){return Symbol.asyncIterator&&me(null==n?void 0:n[Symbol.asyncIterator])}function k_(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const U_=function $P(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function z_(n){return me(null==n?void 0:n[U_])}function B_(n){return R_(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield Zs(t.read());if(r)return yield Zs(void 0);yield yield Zs(i)}}finally{t.releaseLock()}})}function V_(n){return me(null==n?void 0:n.getReader)}function sr(n){if(n instanceof Yt)return n;if(null!=n){if(N_(n))return function XP(n){return new Yt(e=>{const t=n[hi]();if(me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Yp(n))return function ZP(n){return new Yt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(L_(n))return function KP(n){return new Yt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,jt)})}(n);if(F_(n))return H_(n);if(z_(n))return function QP(n){return new Yt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(V_(n))return function JP(n){return H_(B_(n))}(n)}throw k_(n)}function H_(n){return new Yt(e=>{(function eI(n,e){var t,i,r,s;return function P_(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(d){o(d)}}function l(u){try{c(i.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=O_(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function gs(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function En(n,e,t=1/0){return me(e)?En((i,r)=>rt((s,o)=>e(i,s,r,o))(sr(n(i,r))),t):("number"==typeof e&&(t=e),_t((i,r)=>function tI(n,e,t,i,r,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=_=>c<i?p(_):l.push(_),p=_=>{s&&e.next(_),c++;let v=!1;sr(t(_,u++)).subscribe(Ft(e,g=>{null==r||r(g),s?f(g):e.next(g)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){const g=l.shift();o?gs(e,o,()=>p(g)):p(g)}h()}catch(g){e.error(g)}}))};return n.subscribe(Ft(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(i,r,n,t)))}function wc(n=1/0){return En(Jn,n)}const ys=new Yt(n=>n.complete());function W_(n){return n&&me(n.schedule)}function qp(n){return n[n.length-1]}function bc(n){return W_(qp(n))?n.pop():void 0}function G_(n,e=0){return _t((t,i)=>{t.subscribe(Ft(i,r=>gs(i,n,()=>i.next(r),e),()=>gs(i,n,()=>i.complete(),e),r=>gs(i,n,()=>i.error(r),e)))})}function j_(n,e=0){return _t((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Y_(n,e){if(!n)throw new Error("Iterable cannot be null");return new Yt(t=>{gs(t,e,()=>{const i=n[Symbol.asyncIterator]();gs(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ti(n,e){return e?function uI(n,e){if(null!=n){if(N_(n))return function sI(n,e){return sr(n).pipe(j_(e),G_(e))}(n,e);if(Yp(n))return function aI(n,e){return new Yt(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(L_(n))return function oI(n,e){return sr(n).pipe(j_(e),G_(e))}(n,e);if(F_(n))return Y_(n,e);if(z_(n))return function lI(n,e){return new Yt(t=>{let i;return gs(t,e,()=>{i=n[U_](),gs(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>me(null==i?void 0:i.return)&&i.return()})}(n,e);if(V_(n))return function cI(n,e){return Y_(B_(n),e)}(n,e)}throw k_(n)}(n,e):sr(n)}function $p(...n){const e=bc(n),t=function rI(n,e){return"number"==typeof qp(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?sr(i[0]):wc(t)(ti(i,e)):ys}function Xp(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ne({next:()=>{i.unsubscribe(),n()}});return e(...t).subscribe(i)}function Xt(n){for(let e in n)if(n[e]===Xt)return e;throw Error("Could not find renamed property on target object.")}function Wt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Wt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Kp(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const hI=Xt({__forward_ref__:Xt});function Qp(n){return n.__forward_ref__=Qp,n.toString=function(){return Wt(this())},n}function at(n){return function q_(n){return"function"==typeof n&&n.hasOwnProperty(hI)&&n.__forward_ref__===Qp}(n)?n():n}class Ee extends Error{constructor(e,t){super(function Jp(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function et(n){return"string"==typeof n?n:null==n?"":String(n)}function fi(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():et(n)}function gd(n,e){const t=e?` in ${e}`:"";throw new Ee(-201,`No provider for ${fi(n)} found${t}`)}function Bi(n,e){null==n&&function nn(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function lt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Xr(n){return{providers:n.providers||[],imports:n.imports||[]}}function em(n){return $_(n,yd)||$_(n,Z_)}function $_(n,e){return n.hasOwnProperty(e)?n[e]:null}function X_(n){return n&&(n.hasOwnProperty(tm)||n.hasOwnProperty(_I))?n[tm]:null}const yd=Xt({\u0275prov:Xt}),tm=Xt({\u0275inj:Xt}),Z_=Xt({ngInjectableDef:Xt}),_I=Xt({ngInjectorDef:Xt});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let nm;function Ks(n){const e=nm;return nm=n,e}function K_(n,e,t){const i=em(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&Ke.Optional?null:void 0!==e?e:void gd(Wt(n),"Injector")}function Qs(n){return{toString:n}.toString()}var Sr=(()=>((Sr=Sr||{})[Sr.OnPush=0]="OnPush",Sr[Sr.Default=1]="Default",Sr))(),Er=(()=>{return(n=Er||(Er={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",Er;var n})();const bI="undefined"!=typeof globalThis&&globalThis,xI="undefined"!=typeof window&&window,MI="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,qt=bI||"undefined"!=typeof global&&global||xI||MI,La={},Zt=[],vd=Xt({\u0275cmp:Xt}),im=Xt({\u0275dir:Xt}),rm=Xt({\u0275pipe:Xt}),Q_=Xt({\u0275mod:Xt}),_s=Xt({\u0275fac:Xt}),xc=Xt({__NG_ELEMENT_ID__:Xt});let SI=0;function Yn(n){return Qs(()=>{const t={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Sr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Zt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||Er.Emulated,id:"c",styles:n.styles||Zt,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,s=n.features,o=n.pipes;return i.id+=SI++,i.inputs=nw(n.inputs,t),i.outputs=nw(n.outputs),s&&s.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(J_):null,i.pipeDefs=o?()=>("function"==typeof o?o():o).map(ew):null,i})}function J_(n){return ii(n)||function Js(n){return n[im]||null}(n)}function ew(n){return function ko(n){return n[rm]||null}(n)}const tw={};function ws(n){return Qs(()=>{const e={type:n.type,bootstrap:n.bootstrap||Zt,declarations:n.declarations||Zt,imports:n.imports||Zt,exports:n.exports||Zt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(tw[n.id]=n.type),e})}function nw(n,e){if(null==n)return La;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}const ni=Yn;function Ai(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function ii(n){return n[vd]||null}function or(n,e){const t=n[Q_]||null;if(!t&&!0===e)throw new Error(`Type ${Wt(n)} does not have '\u0275mod' property.`);return t}function Zr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Tr(n){return Array.isArray(n)&&!0===n[1]}function am(n){return 0!=(8&n.flags)}function xd(n){return 2==(2&n.flags)}function Md(n){return 1==(1&n.flags)}function Ar(n){return null!==n.template}function PI(n){return 0!=(512&n[2])}function Vo(n,e){return n.hasOwnProperty(_s)?n[_s]:null}class OI{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Ho(){return rw}function rw(n){return n.type.prototype.ngOnChanges&&(n.setInput=NI),LI}function LI(){const n=ow(this),e=null==n?void 0:n.current;if(e){const t=n.previous;if(t===La)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function NI(n,e,t,i){const r=ow(n)||function FI(n,e){return n[sw]=e}(n,{previous:La,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[t],l=o[a];s[a]=new OI(l&&l.currentValue,e,o===La),n[i]=e}Ho.ngInherit=!0;const sw="__ngSimpleChanges__";function ow(n){return n[sw]||null}let hm;function hn(n){return!!n.listen}const aw={createRenderer:(n,e)=>function fm(){return void 0!==hm?hm:"undefined"!=typeof document?document:void 0}()};function Cn(n){for(;Array.isArray(n);)n=n[0];return n}function Sd(n,e){return Cn(e[n])}function cr(n,e){return Cn(e[n.index])}function pm(n,e){return n.data[e]}function za(n,e){return n[e]}function Hi(n,e){const t=e[n];return Zr(t)?t:t[0]}function lw(n){return 4==(4&n[2])}function mm(n){return 128==(128&n[2])}function eo(n,e){return null==e?null:n[e]}function cw(n){n[18]=0}function gm(n,e){n[5]+=e;let t=n,i=n[3];for(;null!==i&&(1===e&&1===t[5]||-1===e&&0===t[5]);)i[5]+=e,t=i,i=i[3]}const $e={lFrame:yw(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uw(){return $e.bindingsEnabled}function ie(){return $e.lFrame.lView}function Ot(){return $e.lFrame.tView}function Wo(n){return $e.lFrame.contextLView=n,n[8]}function Un(){let n=dw();for(;null!==n&&64===n.type;)n=n.parent;return n}function dw(){return $e.lFrame.currentTNode}function Kr(n,e){const t=$e.lFrame;t.currentTNode=n,t.isParent=e}function ym(){return $e.lFrame.isParent}function vm(){$e.lFrame.isParent=!1}function Ed(){return $e.isInCheckNoChangesMode}function Cd(n){$e.isInCheckNoChangesMode=n}function pi(){const n=$e.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ba(){return $e.lFrame.bindingIndex++}function JI(n,e){const t=$e.lFrame;t.bindingIndex=t.bindingRootIndex=n,_m(e)}function _m(n){$e.lFrame.currentDirectiveIndex=n}function pw(){return $e.lFrame.currentQueryIndex}function bm(n){$e.lFrame.currentQueryIndex=n}function tR(n){const e=n[1];return 2===e.type?e.declTNode:1===e.type?n[6]:null}function mw(n,e,t){if(t&Ke.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&Ke.Host||(r=tR(s),null===r||(s=s[15],10&r.type))););if(null===r)return!1;e=r,n=s}const i=$e.lFrame=gw();return i.currentTNode=e,i.lView=n,!0}function Td(n){const e=gw(),t=n[1];$e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function gw(){const n=$e.lFrame,e=null===n?null:n.child;return null===e?yw(n):e}function yw(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function vw(){const n=$e.lFrame;return $e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const _w=vw;function Ad(){const n=vw();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function mi(){return $e.lFrame.selectedIndex}function to(n){$e.lFrame.selectedIndex=n}function fn(){const n=$e.lFrame;return pm(n.tView,n.selectedIndex)}function Dd(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(n.contentHooks||(n.contentHooks=[])).push(-t,o),a&&((n.contentHooks||(n.contentHooks=[])).push(t,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(t,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-t,l),c&&((n.viewHooks||(n.viewHooks=[])).push(t,c),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(t,c)),null!=u&&(n.destroyHooks||(n.destroyHooks=[])).push(t,u)}}function Pd(n,e,t){xw(n,e,3,t)}function Id(n,e,t,i){(3&n[2])===t&&xw(n,e,t,i)}function xm(n,e){let t=n[2];(3&t)===e&&(t&=2047,t+=1,n[2]=t)}function xw(n,e,t,i){const s=null!=i?i:-1,o=e.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[18]+=65536),(a<s||-1==s)&&(lR(n,t,e,l),n[18]=(4294901760&n[18])+l+2),l++}function lR(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===e){n[2]+=2048;try{s.call(a)}finally{}}}else try{s.call(a)}finally{}}class Tc{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Rd(n,e,t){const i=hn(n);let r=0;for(;r<t.length;){const s=t[r];if("number"==typeof s){if(0!==s)break;r++;const o=t[r++],a=t[r++],l=t[r++];i?n.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=t[++r];Sm(o)?i&&n.setProperty(e,o,a):i?n.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Mw(n){return 3===n||4===n||6===n}function Sm(n){return 64===n.charCodeAt(0)}function Od(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||Sw(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function Sw(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}function Ew(n){return-1!==n}function Va(n){return 32767&n}function Ha(n,e){let t=function fR(n){return n>>16}(n),i=e;for(;t>0;)i=i[15],t--;return i}let Em=!0;function Ld(n){const e=Em;return Em=n,e}let pR=0;function Dc(n,e){const t=Tm(n,e);if(-1!==t)return t;const i=e[1];i.firstCreatePass&&(n.injectorIndex=e.length,Cm(i.data,n),Cm(e,null),Cm(i.blueprint,null));const r=Nd(n,e),s=n.injectorIndex;if(Ew(r)){const o=Va(r),a=Ha(r,e),l=a[1].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Cm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function Tm(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Nd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){const s=r[1],o=s.type;if(i=2===o?s.declTNode:1===o?r[6]:null,null===i)return-1;if(t++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return-1}function Fd(n,e,t){!function mR(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(xc)&&(i=t[xc]),null==i&&(i=t[xc]=pR++);const r=255&i;e.data[n+(r>>5)]|=1<<r}(n,e,t)}function Aw(n,e,t){if(t&Ke.Optional)return n;gd(e,"NodeInjector")}function Dw(n,e,t,i){if(t&Ke.Optional&&void 0===i&&(i=null),0==(t&(Ke.Self|Ke.Host))){const r=n[9],s=Ks(void 0);try{return r?r.get(e,i,t&Ke.Optional):K_(e,i,t&Ke.Optional)}finally{Ks(s)}}return Aw(i,e,t)}function Pw(n,e,t,i=Ke.Default,r){if(null!==n){const s=function _R(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xc)?n[xc]:void 0;return"number"==typeof e?e>=0?255&e:yR:e}(t);if("function"==typeof s){if(!mw(e,n,i))return i&Ke.Host?Aw(r,t,i):Dw(e,t,i,r);try{const o=s(i);if(null!=o||i&Ke.Optional)return o;gd(t)}finally{_w()}}else if("number"==typeof s){let o=null,a=Tm(n,e),l=-1,c=i&Ke.Host?e[16][6]:null;for((-1===a||i&Ke.SkipSelf)&&(l=-1===a?Nd(n,e):e[a+8],-1!==l&&Ow(i,!1)?(o=e[1],a=Va(l),e=Ha(l,e)):a=-1);-1!==a;){const u=e[1];if(Rw(s,a,u.data)){const d=vR(a,e,t,o,i,c);if(d!==Iw)return d}l=e[a+8],-1!==l&&Ow(i,e[1].data[a+8]===c)&&Rw(s,a,e)?(o=u,a=Va(l),e=Ha(l,e)):a=-1}}}return Dw(e,t,i,r)}const Iw={};function yR(){return new Wa(Un(),ie())}function vR(n,e,t,i,r,s){const o=e[1],a=o.data[n+8],u=kd(a,o,t,null==i?xd(a)&&Em:i!=o&&0!=(3&a.type),r&Ke.Host&&s===a);return null!==u?Pc(e,o,u,a):Iw}function kd(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,l=n.directiveStart,u=s>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=o[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=o[l];if(f&&Ar(f)&&f.type===t)return l}return null}function Pc(n,e,t,i){let r=n[t];const s=e.data;if(function cR(n){return n instanceof Tc}(r)){const o=r;o.resolving&&function fI(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Ee(-200,`Circular dependency in DI detected for ${n}${t}`)}(fi(s[t]));const a=Ld(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?Ks(o.injectImpl):null;mw(n,i,Ke.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function aR(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=rw(e);(t.preOrderHooks||(t.preOrderHooks=[])).push(n,o),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,o)}r&&(t.preOrderHooks||(t.preOrderHooks=[])).push(0-n,r),s&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n,s),(t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n,s))}(t,s[t],e)}finally{null!==l&&Ks(l),Ld(a),o.resolving=!1,_w()}}return r}function Rw(n,e,t){return!!(t[e+(n>>5)]&1<<n)}function Ow(n,e){return!(n&Ke.Self||n&Ke.Host&&e)}class Wa{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return Pw(this._tNode,this._lView,e,i,t)}}const ja="__parameters__";function qa(n,e,t){return Qs(()=>{const i=function Dm(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(ja)?l[ja]:Object.defineProperty(l,ja,{value:[]})[ja];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Lt{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=lt({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const xR=new Lt("AnalyzeForEntryComponents");function ur(n,e){void 0===e&&(e=n);for(let t=0;t<n.length;t++){let i=n[t];Array.isArray(i)?(e===n&&(e=n.slice(0,t)),ur(i,e)):e!==n&&e.push(i)}return e}function Qr(n,e){n.forEach(t=>Array.isArray(t)?Qr(t,e):e(t))}function Nw(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ud(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Wi(n,e,t){let i=$a(n,e);return i>=0?n[1|i]=t:(i=~i,function ER(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function Im(n,e){const t=$a(n,e);if(t>=0)return n[1|t]}function $a(n,e){return function Uw(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const Nc={},Om="__NG_DI_FLAG__",Bd="ngTempTokenPath",RR=/\n/gm,Bw="__source",LR=Xt({provide:String,useValue:Xt});let Fc;function Vw(n){const e=Fc;return Fc=n,e}function NR(n,e=Ke.Default){if(void 0===Fc)throw new Ee(203,"");return null===Fc?K_(n,void 0,e):Fc.get(n,e&Ke.Optional?null:void 0,e)}function Oe(n,e=Ke.Default){return(function wI(){return nm}()||NR)(at(n),e)}const FR=Oe;function Lm(n){const e=[];for(let t=0;t<n.length;t++){const i=at(n[t]);if(Array.isArray(i)){if(0===i.length)throw new Ee(900,"");let r,s=Ke.Default;for(let o=0;o<i.length;o++){const a=i[o],l=kR(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}e.push(Oe(r,s))}else e.push(Oe(i))}return e}function kc(n,e){return n[Om]=e,n.prototype[Om]=e,n}function kR(n){return n[Om]}const Vd=kc(qa("Inject",n=>({token:n})),-1),io=kc(qa("Optional"),8),Uc=kc(qa("SkipSelf"),4);class Zw{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ro(n){return n instanceof Zw?n.changingThisBreaksApplicationSecurity:n}const s2=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,o2=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function Hc(n){const e=function Wc(){const n=ie();return n&&n[12]}();return e?e.sanitize(Tn.URL,n)||"":function Bc(n,e){const t=function t2(n){return n instanceof Zw&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see https://g.co/ng/security#xss)`)}return t===e}(n,"URL")?ro(n):function jd(n){return(n=String(n)).match(s2)||n.match(o2)?n:"unsafe:"+n}(et(n))}const ob="__ngContext__";function si(n,e){n[ob]=e}function Wm(n){const e=function Gc(n){return n[ob]||null}(n);return e?Array.isArray(e)?e:e.lView:null}function jm(n){return n.ngOriginalError}function D2(n,...e){n.error(...e)}class jc{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),i=function A2(n){return n&&n.ngErrorLogger||D2}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&jm(e);for(;t&&jm(t);)t=jm(t);return t||null}}const z2=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(qt))();function es(n){return n instanceof Function?n():n}var Gi=(()=>((Gi=Gi||{})[Gi.Important=1]="Important",Gi[Gi.DashCase=2]="DashCase",Gi))();function qm(n,e){return undefined(n,e)}function Yc(n){const e=n[3];return Tr(e)?e[3]:e}function $m(n){return mb(n[13])}function Xm(n){return mb(n[4])}function mb(n){for(;null!==n&&!Tr(n);)n=n[4];return n}function Qa(n,e,t,i,r){if(null!=i){let s,o=!1;Tr(i)?s=i:Zr(i)&&(o=!0,i=i[0]);const a=Cn(i);0===n&&null!==t?null==r?bb(e,t,a):Go(e,t,a,r||null,!0):1===n&&null!==t?Go(e,t,a,r||null,!0):2===n?function Ab(n,e,t){const i=qd(n,e);i&&function J2(n,e,t,i){hn(n)?n.removeChild(e,t,i):e.removeChild(t)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function nO(n,e,t,i,r){const s=t[7];s!==Cn(t)&&Qa(e,n,i,s,r);for(let a=10;a<t.length;a++){const l=t[a];qc(l[1],l,n,e,i,s)}}(e,n,s,t,r)}}function Km(n,e,t){if(hn(n))return n.createElement(e,t);{const i=null!==t?function BI(n){const e=n.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(t):null;return null===i?n.createElement(e):n.createElementNS(i,e)}}function yb(n,e){const t=n[9],i=t.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,gm(r,-1)),t.splice(i,1)}function Qm(n,e){if(n.length<=10)return;const t=10+e,i=n[t];if(i){const r=i[17];null!==r&&r!==n&&yb(r,i),e>0&&(n[t-1][4]=i[4]);const s=Ud(n,10+e);!function j2(n,e){qc(n,e,e[11],2,null,null),e[0]=null,e[6]=null}(i[1],i);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function vb(n,e){if(!(256&e[2])){const t=e[11];hn(t)&&t.destroyNode&&qc(n,e,t,3,null,null),function $2(n){let e=n[13];if(!e)return Jm(n[1],n);for(;e;){let t=null;if(Zr(e))t=e[13];else{const i=e[10];i&&(t=i)}if(!t){for(;e&&!e[4]&&e!==n;)Zr(e)&&Jm(e[1],e),e=e[3];null===e&&(e=n),Zr(e)&&Jm(e[1],e),t=e&&e[4]}e=t}}(e)}}function Jm(n,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function Q2(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Tc)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];try{l.call(a)}finally{}}else try{s.call(r)}finally{}}}}(n,e),function K2(n,e){const t=n.cleanup,i=e[7];let r=-1;if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+1],a="function"==typeof o?o(e):Cn(e[o]),l=i[r=t[s+2]],c=t[s+3];"boolean"==typeof c?a.removeEventListener(t[s],l,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),s+=2}else{const o=i[r=t[s+1]];t[s].call(o)}if(null!==i){for(let s=r+1;s<i.length;s++)i[s]();e[7]=null}}(n,e),1===e[1].type&&hn(e[11])&&e[11].destroy();const t=e[17];if(null!==t&&Tr(e[3])){t!==e[3]&&yb(t,e);const i=e[19];null!==i&&i.detachView(n)}}}function _b(n,e,t){return function wb(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===Er.None||r===Er.Emulated)return null}return cr(i,t)}(n,e.parent,t)}function Go(n,e,t,i,r){hn(n)?n.insertBefore(e,t,i,r):e.insertBefore(t,i,r)}function bb(n,e,t){hn(n)?n.appendChild(e,t):e.appendChild(t)}function xb(n,e,t,i,r){null!==i?Go(n,e,t,i,r):bb(n,e,t)}function qd(n,e){return hn(n)?n.parentNode(e):e.parentNode}let Eb=function Sb(n,e,t){return 40&n.type?cr(n,t):null};function $d(n,e,t,i){const r=_b(n,i,e),s=e[11],a=function Mb(n,e,t){return Eb(n,e,t)}(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)xb(s,r,t[l],a,!1);else xb(s,r,t,a,!1)}function Xd(n,e){if(null!==e){const t=e.type;if(3&t)return cr(e,n);if(4&t)return tg(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Xd(n,i);{const r=n[e.index];return Tr(r)?tg(-1,r):Cn(r)}}if(32&t)return qm(e,n)()||Cn(n[e.index]);{const i=Tb(n,e);return null!==i?Array.isArray(i)?i[0]:Xd(Yc(n[16]),i):Xd(n,e.next)}}return null}function Tb(n,e){return null!==e?n[16][6].projection[e.projection]:null}function tg(n,e){const t=10+n+1;if(t<e.length){const i=e[t],r=i[1].firstChild;if(null!==r)return Xd(i,r)}return e[7]}function ng(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],l=t.type;if(o&&0===e&&(a&&si(Cn(a),i),t.flags|=4),64!=(64&t.flags))if(8&l)ng(n,e,t.child,i,r,s,!1),Qa(e,n,r,a,s);else if(32&l){const c=qm(t,i);let u;for(;u=c();)Qa(e,n,r,u,s);Qa(e,n,r,a,s)}else 16&l?Db(n,e,i,t,r,s):Qa(e,n,r,a,s);t=o?t.projectionNext:t.next}}function qc(n,e,t,i,r,s){ng(t,i,n.firstChild,e,r,s,!1)}function Db(n,e,t,i,r,s){const o=t[16],l=o[6].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)Qa(e,n,r,l[c],s);else ng(n,e,l,o[3],r,s,!0)}function Pb(n,e,t){hn(n)?n.setAttribute(e,"style",t):e.style.cssText=t}function ig(n,e,t){hn(n)?""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t):e.className=t}function Ib(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}const Rb="ng-template";function rO(n,e,t){let i=0;for(;i<n.length;){let r=n[i++];if(t&&"class"===r){if(r=n[i],-1!==Ib(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function Ob(n){return 4===n.type&&n.value!==Rb}function sO(n,e,t){return e===(4!==n.type||t?n.value:Rb)}function oO(n,e,t){let i=4;const r=n.attrs||[],s=function cO(n){for(let e=0;e<n.length;e++)if(Mw(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!sO(n,l,t)||""===l&&1===e.length){if(Dr(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!rO(n.attrs,c,t)){if(Dr(i))return!1;o=!0}continue}const d=aO(8&i?"class":l,r,Ob(n),t);if(-1===d){if(Dr(i))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==Ib(f,c,0)||2&i&&c!==h){if(Dr(i))return!1;o=!0}}}}else{if(!o&&!Dr(i)&&!Dr(l))return!1;if(o&&Dr(l))continue;o=!1,i=l|1&i}}return Dr(i)||o}function Dr(n){return 0==(1&n)}function aO(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function uO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function Lb(n,e,t=!1){for(let i=0;i<e.length;i++)if(oO(n,e[i],t))return!0;return!1}function Nb(n,e){return n?":not("+e.trim()+")":e}function hO(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!Dr(o)&&(e+=Nb(s,r),r=""),i=o,s=s||!Dr(i);t++}return""!==r&&(e+=Nb(s,r)),e}const tt={};function Ye(n){Fb(Ot(),ie(),mi()+n,Ed())}function Fb(n,e,t,i){if(!i)if(3==(3&e[2])){const s=n.preOrderCheckHooks;null!==s&&Pd(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Id(e,s,0,t)}to(t)}function Zd(n,e){return n<<17|e<<2}function Pr(n){return n>>17&32767}function rg(n){return 2|n}function Ms(n){return(131068&n)>>2}function sg(n,e){return-131069&n|e<<2}function og(n){return 1|n}function qb(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const r=t[i],s=t[i+1];if(-1!==s){const o=n.data[s];bm(r),o.contentQueries(2,e[s],s)}}}function $c(n,e,t,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,cw(u),u[3]=u[15]=n,u[8]=t,u[10]=o||n&&n[10],u[11]=a||n&&n[11],u[12]=l||n&&n[12]||null,u[9]=c||n&&n[9]||null,u[6]=s,u[16]=2==e.type?n[16]:u,u}function Ja(n,e,t,i,r){let s=n.data[e];if(null===s)s=function mg(n,e,t,i,r){const s=dw(),o=ym(),l=n.data[e]=function PO(n,e,t,i,r,s){return{type:t,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l)),l}(n,e,t,i,r),function QI(){return $e.lFrame.inI18n}()&&(s.flags|=64);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Cc(){const n=$e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Kr(s,!0),s}function el(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function Xc(n,e,t){Td(e);try{const i=n.viewQuery;null!==i&&Sg(1,i,t);const r=n.template;null!==r&&$b(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&qb(n,e),n.staticViewQueries&&Sg(2,n.viewQuery,t);const s=n.components;null!==s&&function TO(n,e){for(let t=0;t<e.length;t++)$O(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[2]&=-5,Ad()}}function tl(n,e,t,i){const r=e[2];if(256==(256&r))return;Td(e);const s=Ed();try{cw(e),function hw(n){return $e.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$b(n,e,t,2,i);const o=3==(3&r);if(!s)if(o){const c=n.preOrderCheckHooks;null!==c&&Pd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&Id(e,c,0,null),xm(e,0)}if(function YO(n){for(let e=$m(n);null!==e;e=Xm(e)){if(!e[2])continue;const t=e[9];for(let i=0;i<t.length;i++){const r=t[i],s=r[3];0==(1024&r[2])&&gm(s,1),r[2]|=1024}}}(e),function jO(n){for(let e=$m(n);null!==e;e=Xm(e))for(let t=10;t<e.length;t++){const i=e[t],r=i[1];mm(i)&&tl(r,i,r.template,i[8])}}(e),null!==n.contentQueries&&qb(n,e),!s)if(o){const c=n.contentCheckHooks;null!==c&&Pd(e,c)}else{const c=n.contentHooks;null!==c&&Id(e,c,1),xm(e,1)}!function EO(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)to(~r);else{const s=r,o=t[++i],a=t[++i];JI(o,s),a(2,e[s])}}}finally{to(-1)}}(n,e);const a=n.components;null!==a&&function CO(n,e){for(let t=0;t<e.length;t++)qO(n,e[t])}(e,a);const l=n.viewQuery;if(null!==l&&Sg(2,l,i),!s)if(o){const c=n.viewCheckHooks;null!==c&&Pd(e,c)}else{const c=n.viewHooks;null!==c&&Id(e,c,2),xm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,gm(e[3],-1))}finally{Ad()}}function AO(n,e,t,i){const r=e[10],s=!Ed(),o=lw(e);try{s&&!o&&r.begin&&r.begin(),o&&Xc(n,e,i),tl(n,e,t,i)}finally{s&&!o&&r.end&&r.end()}}function $b(n,e,t,i,r){const s=mi(),o=2&i;try{to(-1),o&&e.length>20&&Fb(n,e,20,Ed()),t(i,r)}finally{to(s)}}function Xb(n,e,t){if(am(e)){const r=e.directiveEnd;for(let s=e.directiveStart;s<r;s++){const o=n.data[s];o.contentQueries&&o.contentQueries(1,t[s],s)}}}function gg(n,e,t){!uw()||(function kO(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;n.firstCreatePass||Dc(t,e),si(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const l=n.data[a],c=Ar(l);c&&HO(e,t,l);const u=Pc(e,n,a,t);si(u,e),null!==o&&WO(0,a-r,u,l,0,o),c&&(Hi(t.index,e)[8]=u)}}(n,e,t,cr(t,e)),128==(128&t.flags)&&function UO(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,a=function eR(){return $e.lFrame.currentDirectiveIndex}();try{to(o);for(let l=i;l<r;l++){const c=n.data[l],u=e[l];_m(l),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&i1(c,u)}}finally{to(-1),_m(a)}}(n,e,t))}function yg(n,e,t=cr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function Zb(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Jd(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):e}function Jd(n,e,t,i,r,s,o,a,l,c){const u=20+i,d=u+r,h=function DO(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:tt);return t}(u,d),f="function"==typeof c?c():c;return h[1]={type:n,blueprint:h,template:t,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function Jb(n,e,t,i){const r=c1(e);null===t?r.push(i):(r.push(t),n.firstCreatePass&&u1(n).push(i,r.length-1))}function e1(n,e,t){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(t=null===t?{}:t).hasOwnProperty(i)?t[i].push(e,r):t[i]=[e,r]}return t}function vg(n,e,t,i){let r=!1;if(uw()){const s=function zO(n,e,t){const i=n.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];Lb(t,o.selectors,!1)&&(r||(r=[]),Fd(Dc(t,e),n,o.type),Ar(o)?(r1(n,t),r.unshift(o)):r.push(o))}return r}(n,e,t),o=null===i?null:{"":-1};if(null!==s){r=!0,s1(t,n.data.length,s.length);for(let u=0;u<s.length;u++){const d=s[u];d.providersResolver&&d.providersResolver(d)}let a=!1,l=!1,c=el(n,e,s.length,null);for(let u=0;u<s.length;u++){const d=s[u];t.mergedAttrs=Od(t.mergedAttrs,d.hostAttrs),o1(n,t,e,c,d),VO(c,d,o),null!==d.contentQueries&&(t.flags|=8),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=128);const h=d.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t.index),l=!0),c++}!function IO(n,e){const i=e.directiveEnd,r=n.data,s=e.attrs,o=[];let a=null,l=null;for(let c=e.directiveStart;c<i;c++){const u=r[c],d=u.inputs,h=null===s||Ob(e)?null:GO(d,s);o.push(h),a=e1(d,c,a),l=e1(u.outputs,c,l)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=l}(n,t)}o&&function BO(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new Ee(-301,!1);i.push(e[r],s)}}}(t,i,o)}return t.mergedAttrs=Od(t.mergedAttrs,t.attrs),r}function n1(n,e,t,i,r,s){const o=s.hostBindings;if(o){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~e.index;(function FO(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(a)!=l&&a.push(l),a.push(i,r,o)}}function i1(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function r1(n,e){e.flags|=2,(n.components||(n.components=[])).push(e.index)}function VO(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Ar(e)&&(t[""]=n)}}function s1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function o1(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=Vo(r.type)),o=new Tc(s,Ar(r),null);n.blueprint[i]=o,t[i]=o,n1(n,e,0,i,el(n,t,r.hostVars,tt),r)}function HO(n,e,t){const i=cr(e,n),r=Zb(t),s=n[10],o=eh(n,$c(n,r,null,t.onPush?64:16,i,e,s,s.createRenderer(i,t),null,null));n[e.index]=o}function ts(n,e,t,i,r,s){const o=cr(n,e);!function _g(n,e,t,i,r,s,o){if(null==s)hn(n)?n.removeAttribute(e,r,t):e.removeAttribute(r);else{const a=null==o?et(s):o(s,i||"",r);hn(n)?n.setAttribute(e,r,a,t):t?e.setAttributeNS(t,r,a):e.setAttribute(r,a)}}(e[11],o,s,n.value,t,i,r)}function WO(n,e,t,i,r,s){const o=s[e];if(null!==o){const a=i.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?i.setInput(t,d,c,u):t[u]=d}}}function GO(n,e){let t=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===t&&(t=[]),t.push(r,n[r],e[i+1])),i+=2}else i+=2;else i+=4}return t}function a1(n,e,t,i){return new Array(n,!0,!1,e,null,0,i,t,null,null)}function qO(n,e){const t=Hi(e,n);if(mm(t)){const i=t[1];80&t[2]?tl(i,t,i.template,t[8]):t[5]>0&&wg(t)}}function wg(n){for(let i=$m(n);null!==i;i=Xm(i))for(let r=10;r<i.length;r++){const s=i[r];if(1024&s[2]){const o=s[1];tl(o,s,o.template,s[8])}else s[5]>0&&wg(s)}const t=n[1].components;if(null!==t)for(let i=0;i<t.length;i++){const r=Hi(t[i],n);mm(r)&&r[5]>0&&wg(r)}}function $O(n,e){const t=Hi(e,n),i=t[1];(function XO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])})(i,t),Xc(i,t,t[8])}function eh(n,e){return n[13]?n[14][4]=e:n[13]=e,n[14]=e,e}function bg(n){for(;n;){n[2]|=64;const e=Yc(n);if(PI(n)&&!e)return n;n=e}return null}function Mg(n,e,t){const i=e[10];i.begin&&i.begin();try{tl(n,e,n.template,t)}catch(r){throw h1(e,r),r}finally{i.end&&i.end()}}function l1(n){!function xg(n){for(let e=0;e<n.components.length;e++){const t=n.components[e],i=Wm(t),r=i[1];AO(r,i,r.template,t)}}(n[8])}function Sg(n,e,t){bm(0),e(n,t)}const JO=(()=>Promise.resolve(null))();function c1(n){return n[7]||(n[7]=[])}function u1(n){return n.cleanup||(n.cleanup=[])}function h1(n,e){const t=n[9],i=t?t.get(jc,null):null;i&&i.handleError(e)}function f1(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++],l=e[o],c=n.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function Ss(n,e,t){const i=Sd(e,n);!function gb(n,e,t){hn(n)?n.setValue(e,t):e.textContent=t}(n[11],i,t)}function th(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=Kp(r,a):2==s&&(i=Kp(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}const Eg=new Lt("INJECTOR",-1);class p1{get(e,t=Nc){if(t===Nc){const i=new Error(`NullInjectorError: No provider for ${Wt(e)}!`);throw i.name="NullInjectorError",i}return t}}const Cg=new Lt("Set Injector scope."),Zc={},nL={};let Tg;function m1(){return void 0===Tg&&(Tg=new p1),Tg}function g1(n,e=null,t=null,i){const r=y1(n,e,t,i);return r._resolveInjectorDefTypes(),r}function y1(n,e=null,t=null,i){return new iL(n,t,e||m1(),i)}class iL{constructor(e,t,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const s=[];t&&Qr(t,a=>this.processProvider(a,e,t)),Qr([e],a=>this.processInjectorType(a,[],s)),this.records.set(Eg,nl(void 0,this));const o=this.records.get(Cg);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:Wt(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Nc,i=Ke.Default){this.assertNotDestroyed();const r=Vw(this),s=Ks(void 0);try{if(!(i&Ke.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function dL(n){return"function"==typeof n||"object"==typeof n&&n instanceof Lt}(e)&&em(e);a=l&&this.injectableDefInScope(l)?nl(Ag(e),Zc):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(i&Ke.Self?m1():this.parent).get(e,t=i&Ke.Optional&&t===Nc?null:t)}catch(o){if("NullInjectorError"===o.name){if((o[Bd]=o[Bd]||[]).unshift(Wt(e)),r)throw o;return function UR(n,e,t,i){const r=n[Bd];throw e[Bw]&&r.unshift(e[Bw]),n.message=function zR(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=Wt(e);if(Array.isArray(e))r=e.map(Wt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Wt(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(RR,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Bd]=null,n}(o,e,"R3InjectorError",this.source)}throw o}finally{Ks(s),Vw(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((i,r)=>e.push(Wt(r))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ee(205,!1)}processInjectorType(e,t,i){if(!(e=at(e)))return!1;let r=X_(e);const s=null==r&&e.ngModule||void 0,o=void 0===s?e:s,a=-1!==i.indexOf(o);if(void 0!==s&&(r=X_(s)),null==r)return!1;if(null!=r.imports&&!a){let u;i.push(o);try{Qr(r.imports,d=>{this.processInjectorType(d,t,i)&&(void 0===u&&(u=[]),u.push(d))})}finally{}if(void 0!==u)for(let d=0;d<u.length;d++){const{ngModule:h,providers:f}=u[d];Qr(f,p=>this.processProvider(p,h,f||Zt))}}this.injectorDefTypes.add(o);const l=Vo(o)||(()=>new o);this.records.set(o,nl(l,Zc));const c=r.providers;if(null!=c&&!a){const u=e;Qr(c,d=>this.processProvider(d,u,c))}return void 0!==s&&void 0!==e.providers}processProvider(e,t,i){let r=il(e=at(e))?e:at(e&&e.provide);const s=function sL(n,e,t){return _1(n)?nl(void 0,n.useValue):nl(function v1(n,e,t){let i;if(il(n)){const r=at(n);return Vo(r)||Ag(r)}if(_1(n))i=()=>at(n.useValue);else if(function aL(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...Lm(n.deps||[]));else if(function oL(n){return!(!n||!n.useExisting)}(n))i=()=>Oe(at(n.useExisting));else{const r=at(n&&(n.useClass||n.provide));if(!function cL(n){return!!n.deps}(n))return Vo(r)||Ag(r);i=()=>new r(...Lm(n.deps))}return i}(n),Zc)}(e);if(il(e)||!0!==e.multi)this.records.get(r);else{let o=this.records.get(r);o||(o=nl(void 0,Zc,!0),o.factory=()=>Lm(o.multi),this.records.set(r,o)),r=e,o.multi.push(e)}this.records.set(r,s)}hydrate(e,t){return t.value===Zc&&(t.value=nL,t.value=t.factory()),"object"==typeof t.value&&t.value&&function uL(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=at(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Ag(n){const e=em(n),t=null!==e?e.factory:Vo(n);if(null!==t)return t;if(n instanceof Lt)throw new Ee(204,!1);if(n instanceof Function)return function rL(n){const e=n.length;if(e>0)throw function Lc(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}(e,"?"),new Ee(204,!1);const t=function yI(n){const e=n&&(n[yd]||n[Z_]);if(e){const t=function vI(n){if(n.hasOwnProperty("name"))return n.name;const e=(""+n).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${t}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${t}" class.`),e}return null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new Ee(204,!1)}function nl(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function _1(n){return null!==n&&"object"==typeof n&&LR in n}function il(n){return"function"==typeof n}let yi=(()=>{class n{static create(t,i){var r;if(Array.isArray(t))return g1({name:""},i,t,"");{const s=null!==(r=t.name)&&void 0!==r?r:"";return g1({name:s},t.parent,t.providers,s)}}}return n.THROW_IF_NOT_FOUND=Nc,n.NULL=new p1,n.\u0275prov=lt({token:n,providedIn:"any",factory:()=>Oe(Eg)}),n.__NG_ELEMENT_ID__=-1,n})();function _L(n,e){Dd(Wm(n)[1],Un())}let nh=null;function rl(){if(!nh){const n=qt.Symbol;if(n&&n.iterator)nh=n.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const i=e[t];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(nh=i)}}}return nh}function Kc(n){return!!Rg(n)&&(Array.isArray(n)||!(n instanceof Map)&&rl()in n)}function Rg(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ns(n,e,t){return n[e]=t}function oi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Yo(n,e,t,i){const r=ie();return oi(r,Ba(),e)&&(Ot(),ts(fn(),r,n,e,t,i)),Yo}function Ut(n,e,t,i,r,s,o,a){const l=ie(),c=Ot(),u=n+20,d=c.firstCreatePass?function PL(n,e,t,i,r,s,o,a,l){const c=e.consts,u=Ja(e,n,4,o||null,eo(c,a));vg(e,t,u,eo(c,l)),Dd(e,u);const d=u.tViews=Jd(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,s,o):c.data[u];Kr(d,!1);const h=l[11].createComment("");$d(c,l,h,d),si(h,l),eh(l,l[u]=a1(h,l,h,d)),Md(d)&&gg(c,l,d),null!=o&&yg(l,d,a)}function is(n){return za(function KI(){return $e.lFrame.contextLView}(),20+n)}function Te(n,e=Ke.Default){const t=ie();return null===t?Oe(n,e):Pw(Un(),t,at(n),e)}function kg(){throw new Error("invalid")}function ut(n,e,t){const i=ie();return oi(i,Ba(),e)&&function ji(n,e,t,i,r,s,o,a){const l=cr(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?(f1(n,t,u,i,r),xd(e)&&function OO(n,e){const t=Hi(e,n);16&t[2]||(t[2]|=64)}(t,e.index)):3&e.type&&(i=function RO(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,hn(s)?s.setProperty(l,i,r):Sm(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}(Ot(),fn(),i,n,e,i[11],t,!1),ut}function Ug(n,e,t,i,r){const o=r?"class":"style";f1(n,t,e.inputs[o],o,i)}function w(n,e,t,i){const r=ie(),s=Ot(),o=20+n,a=r[11],l=r[o]=Km(a,e,function oR(){return $e.lFrame.currentNamespace}()),c=s.firstCreatePass?function KL(n,e,t,i,r,s,o){const a=e.consts,c=Ja(e,n,2,r,eo(a,s));return vg(e,t,c,eo(a,o)),null!==c.attrs&&th(c,c.attrs,!1),null!==c.mergedAttrs&&th(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,r,0,e,t,i):s.data[o];Kr(c,!0);const u=c.mergedAttrs;null!==u&&Rd(a,l,u);const d=c.classes;null!==d&&ig(a,l,d);const h=c.styles;return null!==h&&Pb(a,l,h),64!=(64&c.flags)&&$d(s,r,l,c),0===function YI(){return $e.lFrame.elementDepthCount}()&&si(l,r),function qI(){$e.lFrame.elementDepthCount++}(),Md(c)&&(gg(s,r,c),Xb(s,c,r)),null!==i&&yg(r,c),w}function m(){let n=Un();ym()?vm():(n=n.parent,Kr(n,!1));const e=n;!function $I(){$e.lFrame.elementDepthCount--}();const t=Ot();return t.firstCreatePass&&(Dd(t,n),am(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function dR(n){return 0!=(16&n.flags)}(e)&&Ug(t,e,ie(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function hR(n){return 0!=(32&n.flags)}(e)&&Ug(t,e,ie(),e.stylesWithoutHost,!1),m}function dt(n,e,t,i){return w(n,e,t,i),m(),dt}function zg(n,e,t){const i=ie(),r=Ot(),s=n+20,o=r.firstCreatePass?function QL(n,e,t,i,r){const s=e.consts,o=eo(s,i),a=Ja(e,n,8,"ng-container",o);return null!==o&&th(a,o,!0),vg(e,t,a,eo(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];Kr(o,!0);const a=i[s]=i[11].createComment("");return $d(r,i,a,o),si(a,i),Md(o)&&(gg(r,i,o),Xb(r,o,i)),null!=t&&yg(i,o),zg}function Bg(){let n=Un();const e=Ot();return ym()?vm():(n=n.parent,Kr(n,!1)),e.firstCreatePass&&(Dd(e,n),am(n)&&e.queries.elementEnd(n)),Bg}function ao(n,e,t){return zg(n,e,t),Bg(),ao}function qo(){return ie()}function sh(n){return!!n&&"function"==typeof n.then}const J1=function Q1(n){return!!n&&"function"==typeof n.subscribe};function Yi(n,e,t,i){const r=ie(),s=Ot(),o=Un();return function tx(n,e,t,i,r,s,o,a){const l=Md(i),u=n.firstCreatePass&&u1(n),d=e[8],h=c1(e);let f=!0;if(3&i.type||a){const v=cr(i,e),g=a?a(v):v,x=h.length,b=a?M=>a(Cn(M[i.index])):i.index;if(hn(t)){let M=null;if(!a&&l&&(M=function JL(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[7],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,f=!1;else{s=Vg(i,e,d,s,!1);const E=t.listen(g,r,s);h.push(s,E),u&&u.push(r,b,x,x+1)}}else s=Vg(i,e,d,s,!0),g.addEventListener(r,s,o),h.push(s),u&&u.push(r,b,x,o)}else s=Vg(i,e,d,s,!1);const p=i.outputs;let _;if(f&&null!==p&&(_=p[r])){const v=_.length;if(v)for(let g=0;g<v;g+=2){const T=e[_[g]][_[g+1]].subscribe(s),D=h.length;h.push(s,T),u&&u.push(r,i.index,D,-(D+1))}}}(s,r,r[11],o,n,e,!!t,i),Yi}function nx(n,e,t,i){try{return!1!==t(i)}catch(r){return h1(n,r),!1}}function Vg(n,e,t,i,r){return function s(o){if(o===Function)return i;const a=2&n.flags?Hi(n.index,e):e;0==(32&e[2])&&bg(a);let l=nx(e,0,i,o),c=s.__ngNextListenerFn__;for(;c;)l=nx(e,0,c,o)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function qi(n=1){return function nR(n){return($e.lFrame.contextLView=function iR(n,e){for(;n>0;)e=e[15],n--;return e}(n,$e.lFrame.contextLView))[8]}(n)}function hx(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?Pr(s):Ms(s),l=!1;for(;0!==a&&(!1===l||o);){const u=n[a+1];sN(n[a],e)&&(l=!0,n[a+1]=i?og(u):rg(u)),a=i?Pr(u):Ms(u)}l&&(n[t+1]=i?rg(s):og(s))}function sN(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&$a(n,e)>=0}function Wg(n,e){return function Rr(n,e,t,i){const r=ie(),s=Ot(),o=function xs(n){const e=$e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);s.firstUpdatePass&&function bx(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[mi()],o=function wx(n,e){return e>=n.expandoStartIndex}(n,t);(function Ex(n,e){return 0!=(n.flags&(e?16:32))})(s,i)&&null===e&&!o&&(e=!1),e=function pN(n,e,t,i){const r=function wm(n){const e=$e.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=Jc(t=Gg(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=Gg(r,n,e,t,i),null===s){let l=function mN(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==Ms(i))return n[Pr(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=Gg(null,n,e,l[1],i),l=Jc(l,e.attrs,i),function gN(n,e,t,i){n[Pr(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else s=function yN(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=Jc(i,n[s].hostAttrs,t);return Jc(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function iN(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Pr(o),l=Ms(o);n[i]=t;let u,c=!1;if(Array.isArray(t)){const d=t;u=d[1],(null===u||$a(d,u)>0)&&(c=!0)}else u=t;if(r)if(0!==l){const h=Pr(n[a+1]);n[i+1]=Zd(h,a),0!==h&&(n[h+1]=sg(n[h+1],i)),n[a+1]=function mO(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Zd(a,0),0!==a&&(n[a+1]=sg(n[a+1],i)),a=i;else n[i+1]=Zd(l,0),0===a?a=i:n[l+1]=sg(n[l+1],i),l=i;c&&(n[i+1]=rg(n[i+1])),hx(n,u,i,!0),hx(n,u,i,!1),function rN(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&$a(s,e)>=0&&(t[i+1]=og(t[i+1]))}(e,u,n,i,s),o=Zd(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}(s,n,o,i),e!==tt&&oi(r,o,e)&&function Mx(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const l=n.data,c=l[a+1];oh(function zb(n){return 1==(1&n)}(c)?Sx(l,e,t,r,Ms(c),o):void 0)||(oh(s)||function Ub(n){return 2==(2&n)}(c)&&(s=Sx(l,null,t,r,a,o)),function iO(n,e,t,i,r){const s=hn(n);if(e)r?s?n.addClass(t,i):t.classList.add(i):s?n.removeClass(t,i):t.classList.remove(i);else{let o=-1===i.indexOf("-")?void 0:Gi.DashCase;if(null==r)s?n.removeStyle(t,i,o):t.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),o|=Gi.Important),s?n.setStyle(t,i,r,o):t.style.setProperty(i,r,a?"important":"")}}}(i,o,Sd(mi(),t),r,s))}(s,s.data[mi()],r,r[11],n,r[o+1]=function wN(n,e){return null==n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Wt(ro(n)))),n}(e,t),i,o)}(n,e,null,!0),Wg}function Gg(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=Jc(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function Jc(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Wi(n,o,!!t||e[++s]))}return void 0===n?null:n}function Sx(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===tt&&(h=d?Zt:void 0);let f=d?Im(h,i):u===i?h:void 0;if(c&&!oh(f)&&(f=Im(l,i)),oh(f)&&(a=f,o))return a;const p=n[r+1];r=o?Pr(p):Ms(p)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=Im(l,i))}return a}function oh(n){return void 0!==n}function y(n,e=""){const t=ie(),i=Ot(),r=n+20,s=i.firstCreatePass?Ja(i,r,1,e,null):i.data[r],o=t[r]=function Zm(n,e){return hn(n)?n.createText(e):n.createTextNode(e)}(t[11],e);$d(i,t,o,s),Kr(s,!1)}function ah(n){return lo("",n,""),ah}function lo(n,e,t){const i=ie(),r=function ol(n,e,t,i){return oi(n,Ba(),t)?e+et(t)+i:tt}(i,n,e,t);return r!==tt&&Ss(i,mi(),r),lo}const $o=void 0;var BN=["en",[["a","p"],["AM","PM"],$o],[["AM","PM"],$o,$o],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$o,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$o,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$o,"{1} 'at' {0}",$o],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function zN(n){const t=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===i?1:5}];let gl={};function vi(n){const e=function VN(n){return n.toLowerCase().replace(/_/g,"-")}(n);let t=Yx(e);if(t)return t;const i=e.split("-")[0];if(t=Yx(i),t)return t;if("en"===i)return BN;throw new Error(`Missing locale data for the locale "${n}".`)}function Yx(n){return n in gl||(gl[n]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[n]),gl[n]}var ve=(()=>((ve=ve||{})[ve.LocaleId=0]="LocaleId",ve[ve.DayPeriodsFormat=1]="DayPeriodsFormat",ve[ve.DayPeriodsStandalone=2]="DayPeriodsStandalone",ve[ve.DaysFormat=3]="DaysFormat",ve[ve.DaysStandalone=4]="DaysStandalone",ve[ve.MonthsFormat=5]="MonthsFormat",ve[ve.MonthsStandalone=6]="MonthsStandalone",ve[ve.Eras=7]="Eras",ve[ve.FirstDayOfWeek=8]="FirstDayOfWeek",ve[ve.WeekendRange=9]="WeekendRange",ve[ve.DateFormat=10]="DateFormat",ve[ve.TimeFormat=11]="TimeFormat",ve[ve.DateTimeFormat=12]="DateTimeFormat",ve[ve.NumberSymbols=13]="NumberSymbols",ve[ve.NumberFormats=14]="NumberFormats",ve[ve.CurrencyCode=15]="CurrencyCode",ve[ve.CurrencySymbol=16]="CurrencySymbol",ve[ve.CurrencyName=17]="CurrencyName",ve[ve.Currencies=18]="Currencies",ve[ve.Directionality=19]="Directionality",ve[ve.PluralCase=20]="PluralCase",ve[ve.ExtraData=21]="ExtraData",ve))();const lh="en-US";let qx=lh;class vM{}class WF{resolveComponentFactory(e){throw function HF(n){const e=Error(`No component factory found for ${Wt(n)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=n,e}(e)}}let ru=(()=>{class n{}return n.NULL=new WF,n})();function GF(){return vl(Un(),ie())}function vl(n,e){return new Es(cr(n,e))}let Es=(()=>{class n{constructor(t){this.nativeElement=t}}return n.__NG_ELEMENT_ID__=GF,n})();function jF(n){return n instanceof Es?n.nativeElement:n}class su{}let fh=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function qF(){const n=ie(),t=Hi(Un().index,n);return function YF(n){return n[11]}(Zr(t)?t:n)}(),n})(),$F=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>null}),n})();class ph{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const XF=new ph("13.2.7"),Kg={};function mh(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];if(null!==s&&i.push(Cn(s)),Tr(s))for(let a=10;a<s.length;a++){const l=s[a],c=l[1].firstChild;null!==c&&mh(l[1],l,c,i)}const o=t.type;if(8&o)mh(n,e,t.child,i);else if(32&o){const a=qm(t,e);let l;for(;l=a();)i.push(l)}else if(16&o){const a=Tb(e,t);if(Array.isArray(a))i.push(...a);else{const l=Yc(e[16]);mh(l[1],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}class ou{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return mh(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(Tr(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Qm(e,i),Ud(t,i))}this._attachedToViewContainer=!1}vb(this._lView[1],this._lView)}onDestroy(e){Jb(this._lView[1],this._lView,null,e)}markForCheck(){bg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Mg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function KO(n,e,t){Cd(!0);try{Mg(n,e,t)}finally{Cd(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ee(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function q2(n,e){qc(n,e,e[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Ee(902,"");this._appRef=e}}class ZF extends ou{constructor(e){super(e),this._view=e}detectChanges(){l1(this._view)}checkNoChanges(){!function QO(n){Cd(!0);try{l1(n)}finally{Cd(!1)}}(this._view)}get context(){return null}}class wM extends ru{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=ii(e);return new Qg(t,this.ngModule)}}function bM(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class Qg extends vM{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function fO(n){return n.map(hO).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return bM(this.componentDef.inputs)}get outputs(){return bM(this.componentDef.outputs)}create(e,t,i,r){const s=(r=r||this.ngModule)?function QF(n,e){return{get:(t,i,r)=>{const s=n.get(t,Kg,r);return s!==Kg||i===Kg?s:e.get(t,i,r)}}}(e,r.injector):e,o=s.get(su,aw),a=s.get($F,null),l=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",u=i?function Qb(n,e,t){if(hn(n))return n.selectRootElement(e,t===Er.ShadowDom);let i="string"==typeof e?n.querySelector(e):e;return i.textContent="",i}(l,i,this.componentDef.encapsulation):Km(o.createRenderer(null,this.componentDef),c,function KF(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(c)),d=this.componentDef.onPush?576:528,h=function P1(n,e){return{components:[],scheduler:n||z2,clean:JO,playerHandler:e||null,flags:0}}(),f=Jd(0,null,null,1,0,null,null,null,null,null),p=$c(null,f,h,d,null,null,o,l,a,s);let _,v;Td(p);try{const g=function A1(n,e,t,i,r,s){const o=t[1];t[20]=n;const l=Ja(o,20,2,"#host",null),c=l.mergedAttrs=e.hostAttrs;null!==c&&(th(l,c,!0),null!==n&&(Rd(r,n,c),null!==l.classes&&ig(r,n,l.classes),null!==l.styles&&Pb(r,n,l.styles)));const u=i.createRenderer(n,e),d=$c(t,Zb(e),null,e.onPush?64:16,t[20],l,i,u,s||null,null);return o.firstCreatePass&&(Fd(Dc(l,t),o,e.type),r1(o,l),s1(l,t.length,1)),eh(t,d),t[20]=d}(u,this.componentDef,p,o,l);if(u)if(i)Rd(l,u,["ng-version",XF.full]);else{const{attrs:x,classes:b}=function pO(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!Dr(r))break;r=s}i++}return{attrs:e,classes:t}}(this.componentDef.selectors[0]);x&&Rd(l,u,x),b&&b.length>0&&ig(l,u,b.join(" "))}if(v=pm(f,20),void 0!==t){const x=v.projection=[];for(let b=0;b<this.ngContentSelectors.length;b++){const M=t[b];x.push(null!=M?Array.from(M):null)}}_=function D1(n,e,t,i,r){const s=t[1],o=function NO(n,e,t){const i=Un();n.firstCreatePass&&(t.providersResolver&&t.providersResolver(t),o1(n,i,e,el(n,e,1,null),t));const r=Pc(e,n,i.directiveStart,i);si(r,e);const s=cr(i,e);return s&&si(s,e),r}(s,t,e);if(i.components.push(o),n[8]=o,r&&r.forEach(l=>l(o,e)),e.contentQueries){const l=Un();e.contentQueries(1,o,l.directiveStart)}const a=Un();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(to(a.index),n1(t[1],a,0,a.directiveStart,a.directiveEnd,e),i1(e,o)),o}(g,this.componentDef,p,h,[_L]),Xc(f,p,null)}finally{Ad()}return new ek(this.componentType,_,vl(v,p),p,v)}}class ek extends class VF{}{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.instance=t,this.hostView=this.changeDetectorRef=new ZF(r),this.componentType=e}get injector(){return new Wa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}class Cs{}class xM{}const _l=new Map;class EM extends Cs{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new wM(this);const i=or(e);this._bootstrapComponents=es(i.bootstrap),this._r3Injector=y1(e,t,[{provide:Cs,useValue:this},{provide:ru,useValue:this.componentFactoryResolver}],Wt(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=yi.THROW_IF_NOT_FOUND,i=Ke.Default){return e===yi||e===Cs||e===Eg?this:this._r3Injector.get(e,t,i)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Jg extends xM{constructor(e){super(),this.moduleType=e,null!==or(e)&&function nk(n){const e=new Set;!function t(i){const r=or(i,!0),s=r.id;null!==s&&(function MM(n,e,t){if(e&&e!==t)throw new Error(`Duplicate module registered for ${n} - ${Wt(e)} vs ${Wt(e.name)}`)}(s,_l.get(s),i),_l.set(s,i));const o=es(r.imports);for(const a of o)e.has(a)||(e.add(a),t(a))}(n)}(e)}create(e){return new EM(this.moduleType,e)}}function ey(n,e,t,i){return function CM(n,e,t,i,r,s){const o=e+t;return oi(n,o,r)?ns(n,o+1,s?i.call(s,r):i(r)):au(n,o+1)}(ie(),pi(),n,e,t,i)}function au(n,e){const t=n[e];return t===tt?void 0:t}function TM(n,e,t,i,r,s,o){const a=e+t;return function jo(n,e,t,i){const r=oi(n,e,t);return oi(n,e+1,i)||r}(n,a,r,s)?ns(n,a+2,o?i.call(o,r,s):i(r,s)):au(n,a+2)}function ty(n){return e=>{setTimeout(n,void 0,e)}}const $n=class yk extends ln{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){var r,s,o;let a=e,l=t||(()=>null),c=i;if(e&&"object"==typeof e){const d=e;a=null===(r=d.next)||void 0===r?void 0:r.bind(d),l=null===(s=d.error)||void 0===s?void 0:s.bind(d),c=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}this.__isAsync&&(l=ty(l),a&&(a=ty(a)),c&&(c=ty(c)));const u=super.subscribe({next:a,error:l,complete:c});return e instanceof Vt&&e.add(u),u}};function vk(){return this._results[rl()]()}class ny{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=rl(),i=ny.prototype;i[t]||(i[t]=vk)}get changes(){return this._changes||(this._changes=new $n)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=ur(e);(this._changesDetected=!function MR(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ts=(()=>{class n{}return n.__NG_ELEMENT_ID__=bk,n})();const _k=Ts,wk=class extends _k{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}createEmbeddedView(e){const t=this._declarationTContainer.tViews,i=$c(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[19];return null!==s&&(i[19]=s.createEmbeddedView(t)),Xc(t,i,e),new ou(i)}};function bk(){return gh(Un(),ie())}function gh(n,e){return 4&n.type?new wk(e,n,vl(n,e)):null}let Lr=(()=>{class n{}return n.__NG_ELEMENT_ID__=xk,n})();function xk(){return NM(Un(),ie())}const Mk=Lr,OM=class extends Mk{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return vl(this._hostTNode,this._hostLView)}get injector(){return new Wa(this._hostTNode,this._hostLView)}get parentInjector(){const e=Nd(this._hostTNode,this._hostLView);if(Ew(e)){const t=Ha(e,this._hostLView),i=Va(e);return new Wa(t[1].data[i+8],t)}return new Wa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=LM(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,i){const r=e.createEmbeddedView(t||{});return this.insert(r,i),r}createComponent(e,t,i,r,s){const o=e&&!function Oc(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const d=t||{};a=d.index,i=d.injector,r=d.projectableNodes,s=d.ngModuleRef}const l=o?e:new Qg(ii(e)),c=i||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Cs,null);h&&(s=h)}const u=l.create(c,r,void 0,s);return this.insert(u.hostView,a),u}insert(e,t){const i=e._lView,r=i[1];if(function jI(n){return Tr(n[3])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=i[3],h=new OM(d,d[6],d[3]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;!function X2(n,e,t,i){const r=10+i,s=t.length;i>0&&(t[r-1][4]=e),i<s-10?(e[4]=t[r],Nw(t,10+i,e)):(t.push(e),e[4]=null),e[3]=t;const o=e[17];null!==o&&t!==o&&function Z2(n,e){const t=n[9];e[16]!==e[3][3][16]&&(n[2]=!0),null===t?n[9]=[e]:t.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(n),e[2]|=128}(r,i,o,s);const a=tg(s,o),l=i[11],c=qd(l,o[7]);return null!==c&&function Y2(n,e,t,i,r,s){i[0]=r,i[6]=e,qc(n,i,t,1,r,s)}(r,o[6],l,i,c,a),e.attachToViewContainerRef(),Nw(iy(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=LM(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Qm(this._lContainer,t);i&&(Ud(iy(this._lContainer),t),vb(i[1],i))}detach(e){const t=this._adjustIndex(e,-1),i=Qm(this._lContainer,t);return i&&null!=Ud(iy(this._lContainer),t)?new ou(i):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function LM(n){return n[8]}function iy(n){return n[8]||(n[8]=[])}function NM(n,e){let t;const i=e[n.index];if(Tr(i))t=i;else{let r;if(8&n.type)r=Cn(i);else{const s=e[11];r=s.createComment("");const o=cr(n,e);Go(s,qd(s,o),r,function eO(n,e){return hn(n)?n.nextSibling(e):e.nextSibling}(s,o),!1)}e[n.index]=t=a1(i,e,r,n),eh(e,t)}return new OM(t,n,e)}class ry{constructor(e){this.queryList=e,this.matches=null}clone(){return new ry(this.queryList)}setDirty(){this.queryList.setDirty()}}class sy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new sy(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==BM(e,t).matches&&this.queries[t].setDirty()}}class FM{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class oy{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new oy(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class ay{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new ay(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,Ck(t,s)),this.matchTNodeWithReadOption(e,t,kd(t,e,s,!1,!1))}else i===Ts?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,kd(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Es||r===Lr||r===Ts&&4&t.type)this.addMatch(t.index,-2);else{const s=kd(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Ck(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function Ak(n,e,t,i){return-1===t?function Tk(n,e){return 11&n.type?vl(n,e):4&n.type?gh(n,e):null}(e,n):-2===t?function Dk(n,e,t){return t===Es?vl(e,n):t===Ts?gh(e,n):t===Lr?NM(e,n):void 0}(n,e,i):Pc(n,n[1],t,e)}function kM(n,e,t,i){const r=e[19].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:Ak(e,s[c],o[l+1],t.metadata.read))}r.matches=a}return r.matches}function ly(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=kM(n,e,r,t);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)i.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=10;d<u.length;d++){const h=u[d];h[17]===h[3]&&ly(h[1],h,c,i)}if(null!==u[9]){const d=u[9];for(let h=0;h<d.length;h++){const f=d[h];ly(f[1],f,c,i)}}}}}return i}function cu(n){const e=ie(),t=Ot(),i=pw();bm(i+1);const r=BM(t,i);if(n.dirty&&lw(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?ly(t,e,i,[]):kM(t,e,r,i);n.reset(s,jF),n.notifyOnChanges()}return!0}return!1}function cy(n,e,t){const i=Ot();i.firstCreatePass&&(function zM(n,e,t){null===n.queries&&(n.queries=new oy),n.queries.track(new ay(e,t))}(i,new FM(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function UM(n,e,t){const i=new ny(4==(4&t));Jb(n,e,i,i.destroy),null===e[19]&&(e[19]=new sy),e[19].queries.push(new ry(i))}(i,ie(),e)}function uu(){return function Pk(n,e){return n[19].queries[e].queryList}(ie(),pw())}function BM(n,e){return n.queries.getByIndex(e)}function co(n,e){return gh(n,e)}function _h(...n){}const wh=new Lt("Application Initializer");let gy=(()=>{class n{constructor(t){this.appInits=t,this.resolve=_h,this.reject=_h,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const t=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const s=this.appInits[r]();if(sh(s))t.push(s);else if(J1(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});t.push(o)}}Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}}return n.\u0275fac=function(t){return new(t||n)(Oe(wh,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hu=new Lt("AppId",{providedIn:"root",factory:function iS(){return`${yy()}${yy()}${yy()}`}});function yy(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rS=new Lt("Platform Initializer"),fu=new Lt("Platform ID"),sS=new Lt("appBootstrapListener");let oS=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const uo=new Lt("LocaleId",{providedIn:"root",factory:()=>FR(uo,Ke.Optional|Ke.SkipSelf)||function $k(){return"undefined"!=typeof $localize&&$localize.locale||lh}()});class Zk{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let aS=(()=>{class n{compileModuleSync(t){return new Jg(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=es(or(t).declarations).reduce((o,a)=>{const l=ii(a);return l&&o.push(new Qg(l)),o},[]);return new Zk(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Qk=(()=>Promise.resolve(0))();function vy(n){"undefined"==typeof Zone?Qk.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class An{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $n(!1),this.onMicrotaskEmpty=new $n(!1),this.onStable=new $n(!1),this.onError=new $n(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Jk(){let n=qt.requestAnimationFrame,e=qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&e){const t=n[Zone.__symbol__("OriginalDelegate")];t&&(n=t);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function n3(n){const e=()=>{!function t3(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,wy(n),n.isCheckStableRunning=!0,_y(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),wy(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{try{return lS(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),cS(n)}},onInvoke:(t,i,r,s,o,a,l)=>{try{return lS(n),t.invoke(r,s,o,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),cS(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,wy(n),_y(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!An.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(An.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,e3,_h,_h);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const e3={};function _y(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function wy(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function lS(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function cS(n){n._nesting--,_y(n)}class i3{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $n,this.onMicrotaskEmpty=new $n,this.onStable=new $n,this.onError=new $n}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}let by=(()=>{class n{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{An.assertNotInAngularZone(),vy(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vy(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,i,r){return[]}}return n.\u0275fac=function(t){return new(t||n)(Oe(An))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),uS=(()=>{class n{constructor(){this._applications=new Map,xy.addToWindow(this)}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return xy.findTestabilityInTree(this,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class r3{addToWindow(e){}findTestabilityInTree(e,t,i){return null}}let Nr,xy=new r3;const dS=new Lt("AllowMultipleToken");class hS{constructor(e,t){this.name=e,this.token=t}}function fS(n,e,t=[]){const i=`Platform: ${e}`,r=new Lt(i);return(s=[])=>{let o=pS();if(!o||o.injector.get(dS,!1))if(n)n(t.concat(s).concat({provide:r,useValue:!0}));else{const a=t.concat(s).concat({provide:r,useValue:!0},{provide:Cg,useValue:"platform"});!function l3(n){if(Nr&&!Nr.destroyed&&!Nr.injector.get(dS,!1))throw new Ee(400,"");Nr=n.get(mS);const e=n.get(rS,null);e&&e.forEach(t=>t())}(yi.create({providers:a,name:i}))}return function c3(n){const e=pS();if(!e)throw new Ee(401,"");return e}()}}function pS(){return Nr&&!Nr.destroyed?Nr:null}let mS=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const a=function u3(n,e){let t;return t="noop"===n?new i3:("zone.js"===n?void 0:n)||new An({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),t}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:An,useValue:a}];return a.run(()=>{const c=yi.create({providers:l,parent:this.injector,name:t.moduleType.name}),u=t.create(c),d=u.injector.get(jc,null);if(!d)throw new Ee(402,"");return a.runOutsideAngular(()=>{const h=a.onError.subscribe({next:f=>{d.handleError(f)}});u.onDestroy(()=>{My(this._modules,u),h.unsubscribe()})}),function d3(n,e,t){try{const i=t();return sh(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(d,a,()=>{const h=u.injector.get(gy);return h.runInitializers(),h.donePromise.then(()=>(function jN(n){Bi(n,"Expected localeId to be defined"),"string"==typeof n&&(qx=n.toLowerCase().replace(/_/g,"-"))}(u.injector.get(uo,lh)||lh),this._moduleDoBootstrap(u),u))})})}bootstrapModule(t,i=[]){const r=gS({},i);return function o3(n,e,t){const i=new Jg(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(bh);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new Ee(403,"");t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ee(404,"");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(t){return new(t||n)(Oe(yi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function gS(n,e){return Array.isArray(e)?e.reduce(gS,n):Object.assign(Object.assign({},n),e)}let bh=(()=>{class n{constructor(t,i,r,s,o){this._zone=t,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=s,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new Yt(c=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{c.next(this._stable),c.complete()})}),l=new Yt(c=>{let u;this._zone.runOutsideAngular(()=>{u=this._zone.onStable.subscribe(()=>{An.assertNotInAngularZone(),vy(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,c.next(!0))})})});const d=this._zone.onUnstable.subscribe(()=>{An.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{c.next(!1)}))});return()=>{u.unsubscribe(),d.unsubscribe()}});this.isStable=$p(a,l.pipe(function dI(n={}){const{connector:e=(()=>new ln),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{const _=o;f(),null==_||_.unsubscribe()};return _t((_,v)=>{c++,!d&&!u&&h();const g=l=null!=l?l:e();v.add(()=>{c--,0===c&&!d&&!u&&(a=Xp(p,r))}),g.subscribe(v),!o&&c>0&&(o=new Ne({next:x=>g.next(x),error:x=>{d=!0,h(),a=Xp(f,t,x),g.error(x)},complete:()=>{u=!0,h(),a=Xp(f,i),g.complete()}}),sr(_).subscribe(o))})(s)}}()))}bootstrap(t,i){if(!this._initStatus.done)throw new Ee(405,"");let r;r=t instanceof vM?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(r.componentType);const s=function a3(n){return n.isBoundToModule}(r)?void 0:this._injector.get(Cs),a=r.create(yi.NULL,[],i||r.selector,s),l=a.location.nativeElement,c=a.injector.get(by,null),u=c&&a.injector.get(uS);return c&&u&&u.registerApplication(l,c),a.onDestroy(()=>{this.detachView(a.hostView),My(this.components,a),u&&u.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new Ee(101,"");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;My(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(sS,[]).concat(this._bootstrapListeners).forEach(r=>r(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(t){return new(t||n)(Oe(An),Oe(yi),Oe(jc),Oe(ru),Oe(gy))},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function My(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let vS=!0,pu=(()=>{class n{}return n.__NG_ELEMENT_ID__=p3,n})();function p3(n){return function m3(n,e,t){if(xd(n)&&!t){const i=Hi(n.index,e);return new ou(i,i)}return 47&n.type?new ou(e[16],e):null}(Un(),ie(),16==(16&n))}class MS{constructor(){}supports(e){return Kc(e)}create(e){return new b3(e)}}const w3=(n,e)=>e;class b3{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||w3}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<ES(i,r,s)?t:i,a=ES(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Kc(e))throw new Ee(900,"");return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function DL(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[rl()]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new x3(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new SS),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new SS),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class x3{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class M3{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class SS{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new M3,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ES(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class CS{constructor(){}supports(e){return e instanceof Map||Rg(e)}create(){return new S3}}class S3{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Rg(e)))throw new Ee(900,"")}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new E3(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class E3{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TS(){return new Sh([new MS])}let Sh=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||TS()),deps:[[n,new Uc,new io]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new Ee(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:TS}),n})();function AS(){return new mu([new CS])}let mu=(()=>{class n{constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||AS()),deps:[[n,new Uc,new io]]}}find(t){const i=this.factories.find(s=>s.supports(t));if(i)return i;throw new Ee(901,"")}}return n.\u0275prov=lt({token:n,providedIn:"root",factory:AS}),n})();const A3=fS(null,"core",[{provide:fu,useValue:"unknown"},{provide:mS,deps:[yi]},{provide:uS,deps:[]},{provide:oS,deps:[]}]);let D3=(()=>{class n{constructor(t){}}return n.\u0275fac=function(t){return new(t||n)(Oe(bh))},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({}),n})(),Eh=null;function ho(){return Eh}const Pi=new Lt("DocumentToken");let Zo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:function(){return function O3(){return Oe(DS)}()},providedIn:"platform"}),n})();const L3=new Lt("Location Initialized");let DS=(()=>{class n extends Zo{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ho().getBaseHref(this._doc)}onPopState(t){const i=ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=ho().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){PS()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){PS()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pi))},n.\u0275prov=lt({token:n,factory:function(){return function N3(){return new DS(Oe(Pi))}()},providedIn:"platform"}),n})();function PS(){return!!window.history.pushState}function Ay(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function IS(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function As(n){return n&&"?"!==n[0]?"?"+n:n}let bl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:function(){return function F3(n){const e=Oe(Pi).location;return new RS(Oe(Zo),e&&e.origin||"")}()},providedIn:"root"}),n})();const Dy=new Lt("appBaseHref");let RS=(()=>{class n extends bl{constructor(t,i){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ay(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+As(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+As(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+As(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Zo),Oe(Dy,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),k3=(()=>{class n extends bl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=Ay(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+As(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+As(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Zo),Oe(Dy,8))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),Py=(()=>{class n{constructor(t,i){this._subject=new $n,this._urlChangeListeners=[],this._platformStrategy=t;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=IS(OS(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+As(i))}normalize(t){return n.stripTrailingSlash(function z3(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,OS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._platformStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(i)),r)}replaceState(t,i="",r=null){this._platformStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+As(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=As,n.joinWithSlash=Ay,n.stripTrailingSlash=IS,n.\u0275fac=function(t){return new(t||n)(Oe(bl),Oe(Zo))},n.\u0275prov=lt({token:n,factory:function(){return function U3(){return new Py(Oe(bl),Oe(Zo))}()},providedIn:"root"}),n})();function OS(n){return n.replace(/\/index.html$/,"")}var wn=(()=>((wn=wn||{})[wn.Format=0]="Format",wn[wn.Standalone=1]="Standalone",wn))(),Et=(()=>((Et=Et||{})[Et.Narrow=0]="Narrow",Et[Et.Abbreviated=1]="Abbreviated",Et[Et.Wide=2]="Wide",Et[Et.Short=3]="Short",Et))(),cn=(()=>((cn=cn||{})[cn.Short=0]="Short",cn[cn.Medium=1]="Medium",cn[cn.Long=2]="Long",cn[cn.Full=3]="Full",cn))(),Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Group=1]="Group",Ve[Ve.List=2]="List",Ve[Ve.PercentSign=3]="PercentSign",Ve[Ve.PlusSign=4]="PlusSign",Ve[Ve.MinusSign=5]="MinusSign",Ve[Ve.Exponential=6]="Exponential",Ve[Ve.SuperscriptingExponent=7]="SuperscriptingExponent",Ve[Ve.PerMille=8]="PerMille",Ve[Ve.Infinity=9]="Infinity",Ve[Ve.NaN=10]="NaN",Ve[Ve.TimeSeparator=11]="TimeSeparator",Ve[Ve.CurrencyDecimal=12]="CurrencyDecimal",Ve[Ve.CurrencyGroup=13]="CurrencyGroup",Ve))();function Ch(n,e){return fr(vi(n)[ve.DateFormat],e)}function Th(n,e){return fr(vi(n)[ve.TimeFormat],e)}function Ah(n,e){return fr(vi(n)[ve.DateTimeFormat],e)}function hr(n,e){const t=vi(n),i=t[ve.NumberSymbols][e];if(void 0===i){if(e===Ve.CurrencyDecimal)return t[ve.NumberSymbols][Ve.Decimal];if(e===Ve.CurrencyGroup)return t[ve.NumberSymbols][Ve.Group]}return i}function NS(n){if(!n[ve.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[ve.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function Ry(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Q3=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gu={},J3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Vn=(()=>((Vn=Vn||{})[Vn.Short=0]="Short",Vn[Vn.ShortGMT=1]="ShortGMT",Vn[Vn.Long=2]="Long",Vn[Vn.Extended=3]="Extended",Vn))(),je=(()=>((je=je||{})[je.FullYear=0]="FullYear",je[je.Month=1]="Month",je[je.Date=2]="Date",je[je.Hours=3]="Hours",je[je.Minutes=4]="Minutes",je[je.Seconds=5]="Seconds",je[je.FractionalSeconds=6]="FractionalSeconds",je[je.Day=7]="Day",je))(),ht=(()=>((ht=ht||{})[ht.DayPeriods=0]="DayPeriods",ht[ht.Days=1]="Days",ht[ht.Months=2]="Months",ht[ht.Eras=3]="Eras",ht))();function eU(n,e,t,i){let r=function cU(n){if(US(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,o=1]=n.split("-").map(a=>+a);return Dh(r,s-1,o)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let i;if(i=n.match(Q3))return function uU(n){const e=new Date(0);let t=0,i=0;const r=n[8]?e.setUTCFullYear:e.setFullYear,s=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const o=Number(n[4]||0)-t,a=Number(n[5]||0)-i,l=Number(n[6]||0),c=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(e,o,a,l,c),e}(i)}const e=new Date(n);if(!US(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Ds(t,e)||e;let a,o=[];for(;e;){if(a=J3.exec(e),!a){o.push(e);break}{o=o.concat(a.slice(1));const u=o.pop();if(!u)break;e=u}}let l=r.getTimezoneOffset();i&&(l=kS(i,l),r=function lU(n,e,t){const i=t?-1:1,r=n.getTimezoneOffset();return function aU(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,i*(kS(e,r)-r))}(r,i,!0));let c="";return o.forEach(u=>{const d=function oU(n){if(Ly[n])return Ly[n];let e;switch(n){case"G":case"GG":case"GGG":e=Qt(ht.Eras,Et.Abbreviated);break;case"GGGG":e=Qt(ht.Eras,Et.Wide);break;case"GGGGG":e=Qt(ht.Eras,Et.Narrow);break;case"y":e=Pn(je.FullYear,1,0,!1,!0);break;case"yy":e=Pn(je.FullYear,2,0,!0,!0);break;case"yyy":e=Pn(je.FullYear,3,0,!1,!0);break;case"yyyy":e=Pn(je.FullYear,4,0,!1,!0);break;case"Y":e=Oh(1);break;case"YY":e=Oh(2,!0);break;case"YYY":e=Oh(3);break;case"YYYY":e=Oh(4);break;case"M":case"L":e=Pn(je.Month,1,1);break;case"MM":case"LL":e=Pn(je.Month,2,1);break;case"MMM":e=Qt(ht.Months,Et.Abbreviated);break;case"MMMM":e=Qt(ht.Months,Et.Wide);break;case"MMMMM":e=Qt(ht.Months,Et.Narrow);break;case"LLL":e=Qt(ht.Months,Et.Abbreviated,wn.Standalone);break;case"LLLL":e=Qt(ht.Months,Et.Wide,wn.Standalone);break;case"LLLLL":e=Qt(ht.Months,Et.Narrow,wn.Standalone);break;case"w":e=Oy(1);break;case"ww":e=Oy(2);break;case"W":e=Oy(1,!0);break;case"d":e=Pn(je.Date,1);break;case"dd":e=Pn(je.Date,2);break;case"c":case"cc":e=Pn(je.Day,1);break;case"ccc":e=Qt(ht.Days,Et.Abbreviated,wn.Standalone);break;case"cccc":e=Qt(ht.Days,Et.Wide,wn.Standalone);break;case"ccccc":e=Qt(ht.Days,Et.Narrow,wn.Standalone);break;case"cccccc":e=Qt(ht.Days,Et.Short,wn.Standalone);break;case"E":case"EE":case"EEE":e=Qt(ht.Days,Et.Abbreviated);break;case"EEEE":e=Qt(ht.Days,Et.Wide);break;case"EEEEE":e=Qt(ht.Days,Et.Narrow);break;case"EEEEEE":e=Qt(ht.Days,Et.Short);break;case"a":case"aa":case"aaa":e=Qt(ht.DayPeriods,Et.Abbreviated);break;case"aaaa":e=Qt(ht.DayPeriods,Et.Wide);break;case"aaaaa":e=Qt(ht.DayPeriods,Et.Narrow);break;case"b":case"bb":case"bbb":e=Qt(ht.DayPeriods,Et.Abbreviated,wn.Standalone,!0);break;case"bbbb":e=Qt(ht.DayPeriods,Et.Wide,wn.Standalone,!0);break;case"bbbbb":e=Qt(ht.DayPeriods,Et.Narrow,wn.Standalone,!0);break;case"B":case"BB":case"BBB":e=Qt(ht.DayPeriods,Et.Abbreviated,wn.Format,!0);break;case"BBBB":e=Qt(ht.DayPeriods,Et.Wide,wn.Format,!0);break;case"BBBBB":e=Qt(ht.DayPeriods,Et.Narrow,wn.Format,!0);break;case"h":e=Pn(je.Hours,1,-12);break;case"hh":e=Pn(je.Hours,2,-12);break;case"H":e=Pn(je.Hours,1);break;case"HH":e=Pn(je.Hours,2);break;case"m":e=Pn(je.Minutes,1);break;case"mm":e=Pn(je.Minutes,2);break;case"s":e=Pn(je.Seconds,1);break;case"ss":e=Pn(je.Seconds,2);break;case"S":e=Pn(je.FractionalSeconds,1);break;case"SS":e=Pn(je.FractionalSeconds,2);break;case"SSS":e=Pn(je.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ih(Vn.Short);break;case"ZZZZZ":e=Ih(Vn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ih(Vn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ih(Vn.Long);break;default:return null}return Ly[n]=e,e}(u);c+=d?d(r,t,l):"''"===u?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Dh(n,e,t){const i=new Date(0);return i.setFullYear(n,e,t),i.setHours(0,0,0),i}function Ds(n,e){const t=function B3(n){return vi(n)[ve.LocaleId]}(n);if(gu[t]=gu[t]||{},gu[t][e])return gu[t][e];let i="";switch(e){case"shortDate":i=Ch(n,cn.Short);break;case"mediumDate":i=Ch(n,cn.Medium);break;case"longDate":i=Ch(n,cn.Long);break;case"fullDate":i=Ch(n,cn.Full);break;case"shortTime":i=Th(n,cn.Short);break;case"mediumTime":i=Th(n,cn.Medium);break;case"longTime":i=Th(n,cn.Long);break;case"fullTime":i=Th(n,cn.Full);break;case"short":const r=Ds(n,"shortTime"),s=Ds(n,"shortDate");i=Ph(Ah(n,cn.Short),[r,s]);break;case"medium":const o=Ds(n,"mediumTime"),a=Ds(n,"mediumDate");i=Ph(Ah(n,cn.Medium),[o,a]);break;case"long":const l=Ds(n,"longTime"),c=Ds(n,"longDate");i=Ph(Ah(n,cn.Long),[l,c]);break;case"full":const u=Ds(n,"fullTime"),d=Ds(n,"fullDate");i=Ph(Ah(n,cn.Full),[u,d])}return i&&(gu[t][e]=i),i}function Ph(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,i){return null!=e&&i in e?e[i]:t})),n}function Fr(n,e,t="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=t));let o=String(n);for(;o.length<e;)o="0"+o;return i&&(o=o.substr(o.length-e)),s+o}function Pn(n,e,t=0,i=!1,r=!1){return function(s,o){let a=function nU(n,e){switch(n){case je.FullYear:return e.getFullYear();case je.Month:return e.getMonth();case je.Date:return e.getDate();case je.Hours:return e.getHours();case je.Minutes:return e.getMinutes();case je.Seconds:return e.getSeconds();case je.FractionalSeconds:return e.getMilliseconds();case je.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((t>0||a>-t)&&(a+=t),n===je.Hours)0===a&&-12===t&&(a=12);else if(n===je.FractionalSeconds)return function tU(n,e){return Fr(n,3).substr(0,e)}(a,e);const l=hr(o,Ve.MinusSign);return Fr(a,e,l,i,r)}}function Qt(n,e,t=wn.Format,i=!1){return function(r,s){return function iU(n,e,t,i,r,s){switch(t){case ht.Months:return function W3(n,e,t){const i=vi(n),s=fr([i[ve.MonthsFormat],i[ve.MonthsStandalone]],e);return fr(s,t)}(e,r,i)[n.getMonth()];case ht.Days:return function H3(n,e,t){const i=vi(n),s=fr([i[ve.DaysFormat],i[ve.DaysStandalone]],e);return fr(s,t)}(e,r,i)[n.getDay()];case ht.DayPeriods:const o=n.getHours(),a=n.getMinutes();if(s){const c=function q3(n){const e=vi(n);return NS(e),(e[ve.ExtraData][2]||[]).map(i=>"string"==typeof i?Ry(i):[Ry(i[0]),Ry(i[1])])}(e),u=function $3(n,e,t){const i=vi(n);NS(i);const s=fr([i[ve.ExtraData][0],i[ve.ExtraData][1]],e)||[];return fr(s,t)||[]}(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){const[f,p]=h,_=o>=f.hours&&a>=f.minutes,v=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(_&&v)return!0}else if(_||v)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(-1!==d)return u[d]}return function V3(n,e,t){const i=vi(n),s=fr([i[ve.DayPeriodsFormat],i[ve.DayPeriodsStandalone]],e);return fr(s,t)}(e,r,i)[o<12?0:1];case ht.Eras:return function G3(n,e){return fr(vi(n)[ve.Eras],e)}(e,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(r,s,n,e,t,i)}}function Ih(n){return function(e,t,i){const r=-1*i,s=hr(t,Ve.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Vn.Short:return(r>=0?"+":"")+Fr(o,2,s)+Fr(Math.abs(r%60),2,s);case Vn.ShortGMT:return"GMT"+(r>=0?"+":"")+Fr(o,1,s);case Vn.Long:return"GMT"+(r>=0?"+":"")+Fr(o,2,s)+":"+Fr(Math.abs(r%60),2,s);case Vn.Extended:return 0===i?"Z":(r>=0?"+":"")+Fr(o,2,s)+":"+Fr(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function FS(n){return Dh(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Oy(n,e=!1){return function(t,i){let r;if(e){const s=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,o=t.getDate();r=1+Math.floor((o+s)/7)}else{const s=FS(t),o=function sU(n){const e=Dh(n,0,1).getDay();return Dh(n,0,1+(e<=4?4:11)-e)}(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Fr(r,n,hr(i,Ve.MinusSign))}}function Oh(n,e=!1){return function(t,i){return Fr(FS(t).getFullYear(),n,hr(i,Ve.MinusSign),e)}}const Ly={};function kS(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function US(n){return n instanceof Date&&!isNaN(n.valueOf())}let Nh=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Kc(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${Wt(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(Te(Sh),Te(mu),Te(Es),Te(fh))},n.\u0275dir=ni({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class SU{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Fh=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new SU(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),HS(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{HS(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Te(Lr),Te(Ts),Te(Sh))},n.\u0275dir=ni({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function HS(n,e){n.context.$implicit=e.item}let fo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new EU,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){WS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){WS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(Te(Lr),Te(Ts))},n.\u0275dir=ni({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class EU{constructor(){this.$implicit=null,this.ngIf=null}}function WS(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${Wt(e)}'.`)}let Hy=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(Te(Lr))},n.\u0275dir=ni({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Ho]}),n})();const zU=new Lt("DATE_PIPE_DEFAULT_TIMEZONE");let jS=(()=>{class n{constructor(t,i){this.locale=t,this.defaultTimezone=i}transform(t,i="mediumDate",r,s){var o;if(null==t||""===t||t!=t)return null;try{return eU(t,i,s||this.locale,null!==(o=null!=r?r:this.defaultTimezone)&&void 0!==o?o:void 0)}catch(a){throw function kr(n,e){return new Ee(2100,"")}()}}}return n.\u0275fac=function(t){return new(t||n)(Te(uo,16),Te(zU,24))},n.\u0275pipe=Ai({name:"date",type:n,pure:!0}),n})(),ZU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({}),n})();const qS="browser";function $S(n){return n===qS}let ez=(()=>{class n{}return n.\u0275prov=lt({token:n,providedIn:"root",factory:()=>new tz(Oe(Pi),window)}),n})();class tz{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nz(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=XS(this.window.history)||XS(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function XS(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class jy extends class rz extends class R3{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function I3(n){Eh||(Eh=n)}(new jy)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function sz(){return vu=vu||document.querySelector("base"),vu?vu.getAttribute("href"):null}();return null==t?null:function oz(n){kh=kh||document.createElement("a"),kh.setAttribute("href",n);const e=kh.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function xU(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let kh,vu=null;const ZS=new Lt("TRANSITION_ID"),lz=[{provide:wh,useFactory:function az(n,e,t){return()=>{t.get(gy).donePromise.then(()=>{const i=ho(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[ZS,Pi,yi],multi:!0}];class Yy{static init(){!function s3(n){xy=n}(new Yy)}addToWindow(e){qt.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},qt.getAllAngularTestabilities=()=>e.getAllTestabilities(),qt.getAllAngularRootElements=()=>e.getAllRootElements(),qt.frameworkStabilizers||(qt.frameworkStabilizers=[]),qt.frameworkStabilizers.push(i=>{const r=qt.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&i(o)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,t,i){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:i?ho().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let cz=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Uh=new Lt("EventManagerPlugins");let zh=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const o=r[s];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Uh),Oe(An))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class KS{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=ho().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let QS=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),_u=(()=>{class n extends QS{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(s=>{const o=this._doc.createElement("style");o.textContent=s,r.push(i.appendChild(o))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(JS),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(JS))}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function JS(n){ho().remove(n)}const qy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$y=/%COMP%/g;function Bh(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Bh(n,r,t):(r=r.replace($y,n),t.push(r))}return t}function nE(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Vh=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Xy(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case Er.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new mz(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case Er.ShadowDom:return new gz(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Bh(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(Oe(zh),Oe(_u),Oe(hu))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class Xy{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(qy[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,i){e&&e.insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=qy[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=qy[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(Gi.DashCase|Gi.Important)?e.style.setProperty(t,i,r&Gi.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&Gi.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nE(i)):this.eventManager.addEventListener(e,t,nE(i))}}class mz extends Xy{constructor(e,t,i,r){super(e),this.component=i;const s=Bh(r+"-"+i.id,i.styles,[]);t.addStyles(s),this.contentAttr=function hz(n){return"_ngcontent-%COMP%".replace($y,n)}(r+"-"+i.id),this.hostAttr=function fz(n){return"_nghost-%COMP%".replace($y,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class gz extends Xy{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Bh(r.id,r.styles,[]);for(let o=0;o<s.length;o++){const a=document.createElement("style");a.textContent=s[o],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let yz=(()=>{class n extends KS{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const rE=["alt","control","meta","shift"],_z={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sE={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wz={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bz=(()=>{class n extends KS{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ho().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="";if(rE.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const a={};return a.domEventName=r,a.fullKey=o,a}static getEventFullKey(t){let i="",r=function xz(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&sE.hasOwnProperty(e)&&(e=sE[e]))}return _z[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),rE.forEach(s=>{s!=r&&wz[s](t)&&(i+=s+".")}),i+=r,i}static eventCallback(t,i,r){return s=>{n.getEventFullKey(s)===t&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const Cz=fS(A3,"browser",[{provide:fu,useValue:qS},{provide:rS,useValue:function Mz(){jy.makeCurrent(),Yy.init()},multi:!0},{provide:Pi,useFactory:function Ez(){return function VI(n){hm=n}(document),document},deps:[]}]),Tz=[{provide:Cg,useValue:"root"},{provide:jc,useFactory:function Sz(){return new jc},deps:[]},{provide:Uh,useClass:yz,multi:!0,deps:[Pi,An,fu]},{provide:Uh,useClass:bz,multi:!0,deps:[Pi]},{provide:Vh,useClass:Vh,deps:[zh,_u,hu]},{provide:su,useExisting:Vh},{provide:QS,useExisting:_u},{provide:_u,useClass:_u,deps:[Pi]},{provide:by,useClass:by,deps:[An]},{provide:zh,useClass:zh,deps:[Uh,An]},{provide:class iz{},useClass:cz,deps:[]}];let oE=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:hu,useValue:t.appId},{provide:ZS,useExisting:hu},lz]}}}return n.\u0275fac=function(t){return new(t||n)(Oe(n,12))},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({providers:Tz,imports:[ZU,D3]}),n})();function nt(...n){return ti(n,bc(n))}"undefined"!=typeof window&&window;class $i extends ln{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const{isArray:Uz}=Array,{getPrototypeOf:zz,prototype:Bz,keys:Vz}=Object;const{isArray:Gz}=Array;function cE(n){return rt(e=>function jz(n,e){return Gz(e)?n(...e):n(e)}(n,e))}function qz(...n){const e=bc(n),t=function iI(n){return me(qp(n))?n.pop():void 0}(n),{args:i,keys:r}=function Hz(n){if(1===n.length){const e=n[0];if(Uz(e))return{args:e,keys:null};if(function Wz(n){return n&&"object"==typeof n&&zz(n)===Bz}(e)){const t=Vz(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return ti([],e);const s=new Yt(function $z(n,e,t=Jn){return i=>{uE(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)uE(e,()=>{const c=ti(n[l],e);let u=!1;c.subscribe(Ft(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>function Yz(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,o):Jn));return t?s.pipe(cE(t)):s}function uE(n,e,t){n?gs(t,n,e):e()}function wu(n,e){const t=me(n)?n:()=>n,i=r=>r.error(t());return new Yt(e?r=>e.schedule(i,0,r):i)}const Hh=We(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function bu(...n){return function Xz(){return wc(1)}()(ti(n,bc(n)))}function Wh(n){return new Yt(e=>{sr(n()).subscribe(e)})}function dE(){return _t((n,e)=>{let t=null;n._refCount++;const i=Ft(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class hE extends Yt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sn(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Vt;const t=this.getSubject();e.add(this.source.subscribe(Ft(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Vt.EMPTY)}return e}refCount(){return dE()(this)}}function Ur(n,e){return _t((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Ft(i,l=>{null==r||r.unsubscribe();let c=0;const u=s++;sr(n(l,u)).subscribe(r=Ft(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function zr(n){return n<=0?()=>ys:_t((e,t)=>{let i=0;e.subscribe(Ft(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Kz(n,e,t,i,r){return(s,o)=>{let a=t,l=e,c=0;s.subscribe(Ft(o,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function fE(n,e){return _t(Kz(n,e,arguments.length>=2,!0))}function pr(n,e){return _t((t,i)=>{let r=0;t.subscribe(Ft(i,s=>n.call(e,s,r++)&&i.next(s)))})}function mo(n){return _t((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Ft(t,void 0,void 0,o=>{s=sr(n(o,mo(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function xu(n,e){return me(e)?En(n,e,1):En(n,1)}function Ky(n){return n<=0?()=>ys:_t((e,t)=>{let i=[];e.subscribe(Ft(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function pE(n=Qz){return _t((e,t)=>{let i=!1;e.subscribe(Ft(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Qz(){return new Hh}function mE(n){return _t((e,t)=>{let i=!1;e.subscribe(Ft(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function xl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?pr((r,s)=>n(r,s,i)):Jn,zr(1),t?mE(e):pE(()=>new Hh))}function Ri(n,e,t){const i=me(n)||e||t?{next:n,error:e,complete:t}:n;return i?_t((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Ft(s,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),s.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),s.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),s.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):Jn}class Ps{constructor(e,t){this.id=e,this.url=t}}class Qy extends Ps{constructor(e,t,i="imperative",r=null){super(e,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ml extends Ps{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class gE extends Ps{constructor(e,t,i){super(e,t),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tB extends Ps{constructor(e,t,i){super(e,t),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nB extends Ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iB extends Ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rB extends Ps{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class sB extends Ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class oB extends Ps{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yE{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class vE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class aB{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lB{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cB{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uB{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _E{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Mt="primary";class dB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Sl(n){return new dB(n)}const wE="ngNavigationCancelingError";function Jy(n){const e=Error("NavigationCancelingError: "+n);return e[wE]=!0,e}function fB(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function os(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!bE(n[r],e[r]))return!1;return!0}function bE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function xE(n){return Array.prototype.concat.apply([],n)}function ME(n){return n.length>0?n[n.length-1]:null}function Kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function as(n){return J1(n)?n:sh(n)?ti(Promise.resolve(n)):nt(n)}const gB={exact:function CE(n,e,t){if(!Qo(n.segments,e.segments)||!Gh(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!CE(n.children[i],e.children[i],t))return!1;return!0},subset:TE},SE={exact:function yB(n,e){return os(n,e)},subset:function vB(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bE(n[t],e[t]))},ignored:()=>!0};function EE(n,e,t){return gB[t.paths](n.root,e.root,t.matrixParams)&&SE[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function TE(n,e,t){return AE(n,e,e.segments,t)}function AE(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Qo(r,t)||e.hasChildren()||!Gh(r,t,i))}if(n.segments.length===t.length){if(!Qo(n.segments,t)||!Gh(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!TE(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Qo(n.segments,r)&&Gh(n.segments,r,i)&&n.children[Mt])&&AE(n.children[Mt],e,s,i)}}function Gh(n,e,t){return e.every((i,r)=>SE[t](n[r].parameters,i.parameters))}class Ko{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sl(this.queryParams)),this._queryParamMap}toString(){return bB.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kn(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jh(this)}}class Mu{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Sl(this.parameters)),this._parameterMap}toString(){return OE(this)}}function Qo(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class DE{}class PE{parse(e){const t=new PB(e);return new Ko(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Su(e.root,!0)}`,i=function SB(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${Yh(t)}=${Yh(r)}`).join("&"):`${Yh(t)}=${Yh(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function xB(n){return encodeURI(n)}(e.fragment)}`:""}`}}const bB=new PE;function jh(n){return n.segments.map(e=>OE(e)).join("/")}function Su(n,e){if(!n.hasChildren())return jh(n);if(e){const t=n.children[Mt]?Su(n.children[Mt],!1):"",i=[];return Kn(n.children,(r,s)=>{s!==Mt&&i.push(`${s}:${Su(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function wB(n,e){let t=[];return Kn(n.children,(i,r)=>{r===Mt&&(t=t.concat(e(i,r)))}),Kn(n.children,(i,r)=>{r!==Mt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Mt?[Su(n.children[Mt],!1)]:[`${r}:${Su(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Mt]?`${jh(n)}/${t[0]}`:`${jh(n)}/(${t.join("//")})`}}function IE(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yh(n){return IE(n).replace(/%3B/gi,";")}function e0(n){return IE(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qh(n){return decodeURIComponent(n)}function RE(n){return qh(n.replace(/\+/g,"%20"))}function OE(n){return`${e0(n.path)}${function MB(n){return Object.keys(n).map(e=>`;${e0(e)}=${e0(n[e])}`).join("")}(n.parameters)}`}const EB=/^[^\/()?;=#]+/;function $h(n){const e=n.match(EB);return e?e[0]:""}const CB=/^[^=?&#]+/,AB=/^[^&#]+/;class PB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Mt]=new Dt(e,t)),i}parseSegment(){const e=$h(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Mu(qh(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=$h(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=$h(this.remaining);r&&(i=r,this.capture(i))}e[qh(t)]=qh(i)}parseQueryParam(e){const t=function TB(n){const e=n.match(CB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function DB(n){const e=n.match(AB);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=RE(t),s=RE(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=$h(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Mt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Mt]:new Dt([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class LE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=t0(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=t0(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=n0(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return n0(e,this._root).map(t=>t.value)}}function t0(n,e){if(n===e.value)return e;for(const t of e.children){const i=t0(n,t);if(i)return i}return null}function n0(n,e){if(n===e.value)return[e];for(const t of e.children){const i=n0(n,t);if(i.length)return i.unshift(e),i}return[]}class Is{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function El(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class NE extends LE{constructor(e,t){super(e),this.snapshot=t,r0(this,e)}toString(){return this.snapshot.toString()}}function FE(n,e){const t=function IB(n,e){const o=new Xh([],{},{},"",{},Mt,e,null,n.root,-1,{});return new UE("",new Is(o,[]))}(n,e),i=new $i([new Mu("",{})]),r=new $i({}),s=new $i({}),o=new $i({}),a=new $i(""),l=new Cl(i,r,o,a,s,Mt,e,t.root);return l.snapshot=t.root,new NE(new Is(l,[]),t)}class Cl{constructor(e,t,i,r,s,o,a,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(rt(e=>Sl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(rt(e=>Sl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function kE(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],s=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function RB(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(i))}class Xh{constructor(e,t,i,r,s,o,a,l,c,u,d){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Sl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Sl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class UE extends LE{constructor(e,t){super(t),this.url=e,r0(this,t)}toString(){return zE(this._root)}}function r0(n,e){e.value._routerState=n,e.children.forEach(t=>r0(n,t))}function zE(n){const e=n.children.length>0?` { ${n.children.map(zE).join(", ")} } `:"";return`${n.value}${e}`}function s0(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,os(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),os(e.params,t.params)||n.params.next(t.params),function pB(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!os(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),os(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function o0(n,e){const t=os(n.params,e.params)&&function _B(n,e){return Qo(n,e)&&n.every((t,i)=>os(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||o0(n.parent,e.parent))}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function LB(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Eu(n,i,r);return Eu(n,i)})}(n,e,t);return new Is(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Eu(n,a)),o}}const i=function NB(n){return new Cl(new $i(n.url),new $i(n.params),new $i(n.queryParams),new $i(n.fragment),new $i(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>Eu(n,s));return new Is(i,r)}}function Zh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cu(n){return"object"==typeof n&&null!=n&&n.outlets}function a0(n,e,t,i,r){let s={};if(i&&Kn(i,(a,l)=>{s[l]=Array.isArray(a)?a.map(c=>`${c}`):`${a}`}),n===e)return new Ko(t,s,r);const o=BE(n,e,t);return new Ko(o,s,r)}function BE(n,e,t){const i={};return Kn(n.children,(r,s)=>{i[s]=r===e?t:BE(r,e,t)}),new Dt(n.segments,i)}class VE{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Zh(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Cu);if(r&&r!==ME(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class l0{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function HE(n,e,t){if(n||(n=new Dt([],{})),0===n.segments.length&&n.hasChildren())return Kh(n,e,t);const i=function VB(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(Cu(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!GE(l,c,o))return s;i+=2}else{if(!GE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Dt(n.segments.slice(0,i.pathIndex),{});return s.children[Mt]=new Dt(n.segments.slice(i.pathIndex),n.children),Kh(s,0,r)}return i.match&&0===r.length?new Dt(n.segments,{}):i.match&&!n.hasChildren()?c0(n,e,t):i.match?Kh(n,0,r):c0(n,e,t)}function Kh(n,e,t){if(0===t.length)return new Dt(n.segments,{});{const i=function BB(n){return Cu(n[0])?n[0].outlets:{[Mt]:n}}(t),r={};return Kn(i,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=HE(n.children[o],e,s))}),Kn(n.children,(s,o)=>{void 0===i[o]&&(r[o]=s)}),new Dt(n.segments,r)}}function c0(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(Cu(s)){const l=HB(s.outlets);return new Dt(i,l)}if(0===r&&Zh(t[0])){i.push(new Mu(n.segments[e].path,WE(t[0]))),r++;continue}const o=Cu(s)?s.outlets[Mt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&Zh(a)?(i.push(new Mu(o,WE(a))),r+=2):(i.push(new Mu(o,{})),r++)}return new Dt(i,{})}function HB(n){const e={};return Kn(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=c0(new Dt([],{}),0,t))}),e}function WE(n){const e={};return Kn(n,(t,i)=>e[i]=`${t}`),e}function GE(n,e,t){return n==t.path&&os(e,t.parameters)}class GB{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),s0(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=El(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Kn(r,(s,o)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=El(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=El(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new uB(s.value.snapshot))}),e.children.length&&this.forwardEvent(new lB(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(s0(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),s0(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=function jB(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=l,o.outlet&&o.outlet.activateWith(r,l),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class u0{constructor(e,t){this.routes=e,this.module=t}}function go(n){return"function"==typeof n}function Jo(n){return n instanceof Ko}const Tu=Symbol("INITIAL_VALUE");function Au(){return Ur(n=>qz(n.map(e=>e.pipe(zr(1),function Zz(...n){const e=bc(n);return _t((t,i)=>{(e?bu(n,t,e):bu(n,t)).subscribe(i)})}(Tu)))).pipe(fE((e,t)=>{let i=!1;return t.reduce((r,s,o)=>r!==Tu?r:(s===Tu&&(i=!0),i||!1!==s&&o!==t.length-1&&!Jo(s)?r:s),e)},Tu),pr(e=>e!==Tu),rt(e=>Jo(e)?e:!0===e),zr(1)))}class KB{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Du,this.attachRef=null}}class Du{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new KB,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let d0=(()=>{class n{constructor(t,i,r,s,o){this.parentContexts=t,this.location=i,this.resolver=r,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new $n,this.deactivateEvents=new $n,this.attachEvents=new $n,this.detachEvents=new $n,this.name=s||Mt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const o=(i=i||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new QB(t,a,this.location.injector);this.activated=this.location.createComponent(o,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(Te(Du),Te(Lr),Te(ru),function Ic(n){return function gR(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const s=t[r];if(Mw(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(s===e)return t[r+1];r+=2}}}return null}(Un(),n)}("name"),Te(pu))},n.\u0275dir=ni({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class QB{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Cl?this.route:e===Du?this.childContexts:this.parent.get(e,t)}}let jE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&dt(0,"router-outlet")},directives:[d0],encapsulation:2}),n})();function YE(n,e=""){for(let t=0;t<n.length;t++){const i=n[t];JB(i,e4(e,i))}}function JB(n,e){n.children&&YE(n.children,e)}function e4(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function h0(n){const e=n.children&&n.children.map(h0),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Mt&&(t.component=jE),t}function mr(n){return n.outlet||Mt}function qE(n,e){const t=n.filter(i=>mr(i)===e);return t.push(...n.filter(i=>mr(i)!==e)),t}const $E={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qh(n,e,t){var i;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},$E):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||fB)(t,n,e);if(!s)return Object.assign({},$E);const o={};Kn(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?Object.assign(Object.assign({},o),s.consumed[s.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(i=s.posParams)&&void 0!==i?i:{}}}function Jh(n,e,t,i,r="corrected"){if(t.length>0&&function i4(n,e,t){return t.some(i=>ef(n,e,i)&&mr(i)!==Mt)}(n,t,i)){const o=new Dt(e,function n4(n,e,t,i){const r={};r[Mt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&mr(s)!==Mt){const o=new Dt([],{});o._sourceSegment=n,o._segmentIndexShift=e.length,r[mr(s)]=o}return r}(n,e,i,new Dt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function r4(n,e,t){return t.some(i=>ef(n,e,i))}(n,t,i)){const o=new Dt(n.segments,function t4(n,e,t,i,r,s){const o={};for(const a of i)if(ef(n,t,a)&&!r[mr(a)]){const l=new Dt([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===s?n.segments.length:e.length,o[mr(a)]=l}return Object.assign(Object.assign({},r),o)}(n,e,t,i,n.children,r));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const s=new Dt(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function ef(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function XE(n,e,t,i){return!!(mr(n)===i||i!==Mt&&ef(e,t,n))&&("**"===n.path||Qh(e,n,t).matched)}function ZE(n,e,t){return 0===e.length&&!n.children[t]}class tf{constructor(e){this.segmentGroup=e||null}}class KE{constructor(e){this.urlTree=e}}function Pu(n){return wu(new tf(n))}function QE(n){return wu(new KE(n))}class l4{constructor(e,t,i,r,s){this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(Cs)}apply(){const e=Jh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Mt).pipe(rt(s=>this.createUrlTree(f0(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mo(s=>{if(s instanceof KE)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof tf?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Mt).pipe(rt(r=>this.createUrlTree(f0(r),e.queryParams,e.fragment))).pipe(mo(r=>{throw r instanceof tf?this.noMatchError(r):r}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,i){const r=e.segments.length>0?new Dt([],{[Mt]:e}):e;return new Ko(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe(rt(s=>new Dt([],s))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ti(r).pipe(xu(s=>{const o=i.children[s],a=qE(t,s);return this.expandSegmentGroup(e,a,o,s).pipe(rt(l=>({segment:l,outlet:s})))}),fE((s,o)=>(s[o.outlet]=o.segment,s),{}),function Jz(n,e){const t=arguments.length>=2;return i=>i.pipe(n?pr((r,s)=>n(r,s,i)):Jn,Ky(1),t?mE(e):pE(()=>new Hh))}())}expandSegment(e,t,i,r,s,o){return ti(i).pipe(xu(a=>this.expandSegmentAgainstRoute(e,t,i,a,r,s,o).pipe(mo(c=>{if(c instanceof tf)return nt(null);throw c}))),xl(a=>!!a),mo((a,l)=>{if(a instanceof Hh||"EmptyError"===a.name)return ZE(t,r,s)?nt(new Dt([],{})):Pu(t);throw a}))}expandSegmentAgainstRoute(e,t,i,r,s,o,a){return XE(r,t,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o):Pu(t):Pu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?QE(s):this.lineralizeSegments(i,s).pipe(En(o=>{const a=new Dt(o,{});return this.expandSegment(e,a,t,o,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=Qh(t,r,s);if(!a)return Pu(t);const d=this.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?QE(d):this.lineralizeSegments(r,d).pipe(En(h=>this.expandSegment(e,t,i,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?nt(i._loadedConfig):this.configLoader.load(e.injector,i)).pipe(rt(d=>(i._loadedConfig=d,new Dt(r,{})))):nt(new Dt(r,{}));const{matched:o,consumedSegments:a,remainingSegments:l}=Qh(t,i,r);return o?this.getChildConfig(e,i,r).pipe(En(u=>{const d=u.module,h=u.routes,{segmentGroup:f,slicedSegments:p}=Jh(t,a,l,h),_=new Dt(f.segments,f.children);if(0===p.length&&_.hasChildren())return this.expandChildren(d,h,_).pipe(rt(b=>new Dt(a,b)));if(0===h.length&&0===p.length)return nt(new Dt(a,{}));const v=mr(i)===s;return this.expandSegment(d,_,h,p,v?Mt:s,!0).pipe(rt(x=>new Dt(a.concat(x.segments),x.children)))})):Pu(t)}getChildConfig(e,t,i){return t.children?nt(new u0(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?nt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,i).pipe(En(r=>r?this.configLoader.load(e.injector,t).pipe(rt(s=>(t._loadedConfig=s,s))):function o4(n){return wu(Jy(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):nt(new u0([],e))}runCanLoadGuards(e,t,i){const r=t.canLoad;return r&&0!==r.length?nt(r.map(o=>{const a=e.get(o);let l;if(function qB(n){return n&&go(n.canLoad)}(a))l=a.canLoad(t,i);else{if(!go(a))throw new Error("Invalid CanLoad guard");l=a(t,i)}return as(l)})).pipe(Au(),Ri(o=>{if(!Jo(o))return;const a=Jy(`Redirecting to "${this.urlSerializer.serialize(o)}"`);throw a.url=o,a}),rt(o=>!0===o)):nt(!0)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return nt(i);if(r.numberOfChildren>1||!r.children[Mt])return wu(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));r=r.children[Mt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreatreUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Ko(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Kn(e,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[s]=t[a]}else i[s]=r}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Kn(t.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,i,r)}),new Dt(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}function f0(n){const e={};for(const i of Object.keys(n.children)){const s=f0(n.children[i]);(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function c4(n){if(1===n.numberOfChildren&&n.children[Mt]){const e=n.children[Mt];return new Dt(n.segments.concat(e.segments),e.children)}return n}(new Dt(n.segments,e))}class JE{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class nf{constructor(e,t){this.component=e,this.route=t}}function d4(n,e,t){const i=n._root;return Iu(i,e?e._root:null,t,[i.value])}function rf(n,e,t){const i=function f4(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(i?i.module.injector:t).get(n)}function Iu(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=El(e);return n.children.forEach(o=>{(function p4(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function m4(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qo(n.url,e.url)||!os(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!o0(n,e)||!os(n.queryParams,e.queryParams);default:return!o0(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new JE(i)):(s.data=o.data,s._resolvedData=o._resolvedData),Iu(n,e,s.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new nf(a.outlet.component,o))}else o&&Ru(e,a,r),r.canActivateChecks.push(new JE(i)),Iu(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Kn(s,(o,a)=>Ru(o,t.getContext(a),r)),r}function Ru(n,e,t){const i=El(n),r=n.value;Kn(i,(s,o)=>{Ru(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new nf(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}class S4{}function eC(n){return new Yt(e=>e.error(n))}class C4{constructor(e,t,i,r,s,o){this.rootComponentType=e,this.config=t,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=o}recognize(){const e=Jh(this.urlTree.root,[],[],this.config.filter(o=>void 0===o.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Mt);if(null===t)return null;const i=new Xh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Mt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Is(i,t),s=new UE(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,i=kE(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,i)}processChildren(e,t){const i=[];for(const s of Object.keys(t.children)){const o=t.children[s],a=qE(e,s),l=this.processSegmentGroup(a,o,s);if(null===l)return null;i.push(...l)}const r=tC(i);return function T4(n){n.sort((e,t)=>e.value.outlet===Mt?-1:t.value.outlet===Mt?1:e.value.outlet.localeCompare(t.value.outlet))}(r),r}processSegment(e,t,i,r){for(const s of e){const o=this.processSegmentAgainstRoute(s,t,i,r);if(null!==o)return o}return ZE(t,i,r)?[]:null}processSegmentAgainstRoute(e,t,i,r){if(e.redirectTo||!XE(e,t,i,r))return null;let s,o=[],a=[];if("**"===e.path){const f=i.length>0?ME(i).parameters:{};s=new Xh(i,f,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rC(e),mr(e),e.component,e,nC(t),iC(t)+i.length,sC(e))}else{const f=Qh(t,e,i);if(!f.matched)return null;o=f.consumedSegments,a=f.remainingSegments,s=new Xh(o,f.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rC(e),mr(e),e.component,e,nC(t),iC(t)+o.length,sC(e))}const l=function A4(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:u}=Jh(t,o,a,l.filter(f=>void 0===f.redirectTo),this.relativeLinkResolution);if(0===u.length&&c.hasChildren()){const f=this.processChildren(l,c);return null===f?null:[new Is(s,f)]}if(0===l.length&&0===u.length)return[new Is(s,[])];const d=mr(e)===r,h=this.processSegment(l,c,u,d?Mt:r);return null===h?null:[new Is(s,h)]}}function D4(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tC(n){const e=[],t=new Set;for(const i of n){if(!D4(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=tC(i.children);e.push(new Is(i.value,r))}return e.filter(i=>!t.has(i))}function nC(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function iC(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function rC(n){return n.data||{}}function sC(n){return n.resolve||{}}function oC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function p0(n){return Ur(e=>{const t=n(e);return t?ti(t).pipe(rt(()=>e)):nt(e)})}class k4 extends class F4{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const m0=new Lt("ROUTES");class aC{constructor(e,t,i,r){this.injector=e,this.compiler=t,this.onLoadStartListener=i,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const r=this.loadModuleFactory(t.loadChildren).pipe(rt(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const o=s.create(e);return new u0(xE(o.injector.get(m0,void 0,Ke.Self|Ke.Optional)).map(h0),o)}),mo(s=>{throw t._loader$=void 0,s}));return t._loader$=new hE(r,()=>new ln).pipe(dE()),t._loader$}loadModuleFactory(e){return as(e()).pipe(En(t=>t instanceof xM?nt(t):ti(this.compiler.compileModuleAsync(t))))}}class z4{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function B4(n){throw n}function V4(n,e,t){return e.parse("/")}function lC(n,e){return nt(null)}const H4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},W4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let wi=(()=>{class n{constructor(t,i,r,s,o,a,l){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ln,this.errorHandler=B4,this.malformedUriErrorHandler=V4,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:lC,afterPreactivation:lC},this.urlHandlingStrategy=new z4,this.routeReuseStrategy=new k4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(Cs),this.console=o.get(oS);const d=o.get(An);this.isNgZoneEnabled=d instanceof An&&An.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function mB(){return new Ko(new Dt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new aC(o,a,h=>this.triggerEvent(new yE(h)),h=>this.triggerEvent(new vE(h))),this.routerState=FE(this.currentUrlTree,this.rootComponentType),this.transitions=new $i({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(pr(r=>0!==r.id),rt(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Ur(r=>{let s=!1,o=!1;return nt(r).pipe(Ri(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ur(a=>{const l=this.browserUrlTree.toString(),c=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||c)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return cC(a.source)&&(this.browserUrlTree=a.extractedUrl),nt(a).pipe(Ur(d=>{const h=this.transitions.getValue();return i.next(new Qy(d.id,this.serializeUrl(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions.getValue()?ys:Promise.resolve(d)}),function u4(n,e,t,i){return Ur(r=>function a4(n,e,t,i,r){return new l4(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe(rt(s=>Object.assign(Object.assign({},r),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),Ri(d=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:d.urlAfterRedirects})}),function P4(n,e,t,i,r){return En(s=>function E4(n,e,t,i,r="emptyOnly",s="legacy"){try{const o=new C4(n,e,t,i,r,s).recognize();return null===o?eC(new S4):nt(o)}catch(o){return eC(o)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),i,r).pipe(rt(o=>Object.assign(Object.assign({},s),{targetSnapshot:o}))))}(this.rootComponentType,this.config,d=>this.serializeUrl(d),this.paramsInheritanceStrategy,this.relativeLinkResolution),Ri(d=>{if("eager"===this.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);this.setBrowserUrl(f,d)}this.browserUrlTree=d.urlAfterRedirects}const h=new nB(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);i.next(h)}));if(c&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:h,extractedUrl:f,source:p,restoredState:_,extras:v}=a,g=new Qy(h,this.serializeUrl(f),p,_);i.next(g);const x=FE(f,this.rootComponentType).snapshot;return nt(Object.assign(Object.assign({},a),{targetSnapshot:x,urlAfterRedirects:f,extras:Object.assign(Object.assign({},v),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),ys}),p0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.beforePreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),Ri(a=>{const l=new iB(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),rt(a=>Object.assign(Object.assign({},a),{guards:d4(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function g4(n,e){return En(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?nt(Object.assign(Object.assign({},t),{guardsResult:!0})):function y4(n,e,t,i){return ti(n).pipe(En(r=>function M4(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nt(s.map(a=>{const l=rf(a,e,r);let c;if(function ZB(n){return n&&go(n.canDeactivate)}(l))c=as(l.canDeactivate(n,e,t,i));else{if(!go(l))throw new Error("Invalid CanDeactivate guard");c=as(l(n,e,t,i))}return c.pipe(xl())})).pipe(Au()):nt(!0)}(r.component,r.route,t,e,i)),xl(r=>!0!==r,!0))}(o,i,r,n).pipe(En(a=>a&&function YB(n){return"boolean"==typeof n}(a)?function v4(n,e,t,i){return ti(e).pipe(xu(r=>bu(function w4(n,e){return null!==n&&e&&e(new aB(n)),nt(!0)}(r.route.parent,i),function _4(n,e){return null!==n&&e&&e(new cB(n)),nt(!0)}(r.route,i),function x4(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function h4(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Wh(()=>nt(o.guards.map(l=>{const c=rf(l,o.node,t);let u;if(function XB(n){return n&&go(n.canActivateChild)}(c))u=as(c.canActivateChild(i,n));else{if(!go(c))throw new Error("Invalid CanActivateChild guard");u=as(c(i,n))}return u.pipe(xl())})).pipe(Au())));return nt(s).pipe(Au())}(n,r.path,t),function b4(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return nt(!0);const r=i.map(s=>Wh(()=>{const o=rf(s,e,t);let a;if(function $B(n){return n&&go(n.canActivate)}(o))a=as(o.canActivate(e,n));else{if(!go(o))throw new Error("Invalid CanActivate guard");a=as(o(e,n))}return a.pipe(xl())}));return nt(r).pipe(Au())}(n,r.route,t))),xl(r=>!0!==r,!0))}(i,s,n,e):nt(a)),rt(a=>Object.assign(Object.assign({},t),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),Ri(a=>{if(Jo(a.guardsResult)){const c=Jy(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw c.url=a.guardsResult,c}const l=new rB(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),pr(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),p0(a=>{if(a.guards.canActivateChecks.length)return nt(a).pipe(Ri(l=>{const c=new sB(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}),Ur(l=>{let c=!1;return nt(l).pipe(function I4(n,e){return En(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return nt(t);let s=0;return ti(r).pipe(xu(o=>function R4(n,e,t,i){return function O4(n,e,t,i){const r=oC(n);if(0===r.length)return nt({});const s={};return ti(r).pipe(En(o=>function L4(n,e,t,i){const r=rf(n,e,i);return as(r.resolve?r.resolve(e,t):r(e,t))}(n[o],e,t,i).pipe(Ri(a=>{s[o]=a}))),Ky(1),En(()=>oC(s).length===r.length?nt(s):ys))}(n._resolve,n,e,i).pipe(rt(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),kE(n,t).resolve),null)))}(o.route,i,n,e)),Ri(()=>s++),Ky(1),En(o=>s===r.length?nt(t):ys))})}(this.paramsInheritanceStrategy,this.ngModule.injector),Ri({next:()=>c=!0,complete:()=>{c||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),Ri(l=>{const c=new oB(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(c)}))}),p0(a=>{const{targetSnapshot:l,id:c,extractedUrl:u,rawUrl:d,extras:{skipLocationChange:h,replaceUrl:f}}=a;return this.hooks.afterPreactivation(l,{navigationId:c,appliedUrlTree:u,rawUrlTree:d,skipLocationChange:!!h,replaceUrl:!!f})}),rt(a=>{const l=function OB(n,e,t){const i=Eu(n,e._root,t?t._root:void 0);return new NE(i,e)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),Ri(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,e,t)=>rt(i=>(new GB(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),Ri({next(){s=!0},complete(){s=!0}}),function eB(n){return _t((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var a;s||o||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),mo(a=>{if(o=!0,function hB(n){return n&&n[wE]}(a)){const l=Jo(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const c=new gE(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(c),l?setTimeout(()=>{const u=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),d={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||cC(r.source)};this.scheduleNavigation(u,"imperative",null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new tB(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(c){r.reject(c)}}return ys}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const s={replaceUrl:!0},o=(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null;if(o){const l=Object.assign({},o);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(t.url);this.scheduleNavigation(a,i,o,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){YE(t),this.config=t.map(h0),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=i,c=r||this.routerState.root,u=l?this.currentUrlTree.fragment:o;let d=null;switch(a){case"merge":d=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}return null!==d&&(d=this.removeEmptyProps(d)),function FB(n,e,t,i,r){if(0===t.length)return a0(e.root,e.root,e.root,i,r);const s=function kB(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new VE(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Kn(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new VE(t,e,i)}(t);if(s.toRoot())return a0(e.root,e.root,new Dt([],{}),i,r);const o=function UB(n,e,t){if(n.isAbsolute)return new l0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new l0(s,s===e.root,0)}const i=Zh(n.commands[0])?0:1;return function zB(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new l0(i,!1,r-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,e,n),a=o.processChildren?Kh(o.segmentGroup,o.index,s.commands):HE(o.segmentGroup,o.index,s.commands);return a0(e.root,o.segmentGroup,a,i,r)}(c,this.currentUrlTree,t,d,null!=u?u:null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Jo(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function G4(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?Object.assign({},H4):!1===i?Object.assign({},W4):i,Jo(t))return EE(this.currentUrlTree,t,r);const s=this.parseUrl(t);return EE(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ml(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,s,o){var a,l;if(this.disposed)return Promise.resolve(!1);let c,u,d;o?(c=o.resolve,u=o.reject,d=o.promise):d=new Promise((p,_)=>{c=p,u=_});const h=++this.navigationId;let f;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),f=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):f=0,this.setTransition({id:h,targetPageId:f,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(p=>Promise.reject(p))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(t,i=!1){var r,s;if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i){const r=new gE(t.id,this.serializeUrl(t.extractedUrl),i);this.triggerEvent(r),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){kg()},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function cC(n){return"imperative"!==n}let Ou=(()=>{class n{constructor(t,i,r){this.router=t,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new ln,this.subscription=t.events.subscribe(s=>{s instanceof Ml&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,i,r,s,o){if(0!==t||i||r||s||o||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const a={skipLocationChange:Tl(this.skipLocationChange),replaceUrl:Tl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,a),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Tl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(Te(wi),Te(Cl),Te(bl))},n.\u0275dir=ni({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,i){1&t&&Yi("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&Yo("target",i.target)("href",i.href,Hc)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[Ho]}),n})();function Tl(n){return""===n||!!n}class uC{}class dC{preload(e,t){return nt(null)}}let hC=(()=>{class n{constructor(t,i,r,s){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=new aC(r,i,l=>t.triggerEvent(new yE(l)),l=>t.triggerEvent(new vE(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(pr(t=>t instanceof Ml),xu(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Cs);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const o=s._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(t,s)):s.children&&r.push(this.processRoutes(t,s.children));return ti(r).pipe(wc(),rt(s=>{}))}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?nt(i._loadedConfig):this.loader.load(t.injector,i)).pipe(En(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(Oe(wi),Oe(aS),Oe(yi),Oe(uC))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),y0=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Qy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ml&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _E&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new _E(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){kg()},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const ea=new Lt("ROUTER_CONFIGURATION"),fC=new Lt("ROUTER_FORROOT_GUARD"),$4=[Py,{provide:DE,useClass:PE},{provide:wi,useFactory:function J4(n,e,t,i,r,s,o={},a,l){const c=new wi(null,n,e,t,i,r,xE(s));return a&&(c.urlHandlingStrategy=a),l&&(c.routeReuseStrategy=l),function e5(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(o,c),o.enableTracing&&c.events.subscribe(u=>{var d,h;null===(d=console.group)||void 0===d||d.call(console,`Router Event: ${u.constructor.name}`),console.log(u.toString()),console.log(u),null===(h=console.groupEnd)||void 0===h||h.call(console)}),c},deps:[DE,Du,Py,yi,aS,m0,ea,[class U4{},new io],[class N4{},new io]]},Du,{provide:Cl,useFactory:function t5(n){return n.routerState.root},deps:[wi]},hC,dC,class q4{preload(e,t){return t().pipe(mo(()=>nt(null)))}},{provide:ea,useValue:{enableTracing:!1}}];function X4(){return new hS("Router",wi)}let pC=(()=>{class n{constructor(t,i){}static forRoot(t,i){return{ngModule:n,providers:[$4,mC(t),{provide:fC,useFactory:Q4,deps:[[wi,new io,new Uc]]},{provide:ea,useValue:i||{}},{provide:bl,useFactory:K4,deps:[Zo,[new Vd(Dy),new io],ea]},{provide:y0,useFactory:Z4,deps:[wi,ez,ea]},{provide:uC,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:dC},{provide:hS,multi:!0,useFactory:X4},[v0,{provide:wh,multi:!0,useFactory:n5,deps:[v0]},{provide:gC,useFactory:i5,deps:[v0]},{provide:sS,multi:!0,useExisting:gC}]]}}static forChild(t){return{ngModule:n,providers:[mC(t)]}}}return n.\u0275fac=function(t){return new(t||n)(Oe(fC,8),Oe(wi,8))},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({}),n})();function Z4(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new y0(n,e,t)}function K4(n,e,t={}){return t.useHash?new k3(n,e):new RS(n,e)}function Q4(n){return"guarded"}function mC(n){return[{provide:xR,multi:!0,useValue:n},{provide:m0,multi:!0,useValue:n}]}let v0=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ln}appInitializer(){return this.injector.get(L3,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),s=this.injector.get(wi),o=this.injector.get(ea);return"disabled"===o.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===o.initialNavigation||"enabledBlocking"===o.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?nt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(t){const i=this.injector.get(ea),r=this.injector.get(hC),s=this.injector.get(y0),o=this.injector.get(wi),a=this.injector.get(bh);t===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&o.initialNavigation(),r.setUpPreloading(),s.init(),o.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(Oe(yi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();function n5(n){return n.appInitializer.bind(n)}function i5(n){return n.bootstrapListener.bind(n)}const gC=new Lt("Router Initializer");class s5 extends Vt{constructor(e,t){super()}schedule(e,t=0){return this}}const sf={setInterval(n,e,...t){const{delegate:i}=sf;return(null==i?void 0:i.setInterval)?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=sf;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0},yC={now:()=>(yC.delegate||Date).now(),delegate:void 0};class Lu{constructor(e,t=Lu.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Lu.now=yC.now;const vC=new class a5 extends Lu{constructor(e,t=Lu.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}(class o5 extends s5{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,i=0){return sf.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&sf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Gt(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}),l5=vC;function _C(n=0,e,t=l5){let i=-1;return null!=e&&(W_(e)?t=e:i=e),new Yt(r=>{let s=function c5(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){r.closed||(r.next(o++),0<=i?this.schedule(void 0,i):r.complete())},s)})}let wC=(()=>{class n{constructor(){this.clickedButtonSource=new $i(null),this.videoPlayState=new $i(!1),this.clickedButton$=this.clickedButtonSource.asObservable()}setClickedButton(t){this.clickedButtonSource.next(t)}triggerVideo(t){console.log("Triggering video play:",t),this.videoPlayState.next(t)}getVideoState(){return this.videoPlayState.asObservable()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u5(n,e){if(1&n){const t=qo();w(0,"div",5)(1,"video",6,7),Yi("ended",function(){return Wo(t),qi().onVideoEnd()}),dt(3,"source",8),y(4," Your browser does not support the video tag. "),m()()}2&n&&(Ye(1),ut("autoplay",!0)("muted",!0)("loop",!1))}let bC=(()=>{class n{constructor(t,i){this.sharedService=t,this.router=i,this.introEnded=new $n,this.videoEnded=new $n,this.val=10,_C(5500).subscribe(()=>this.val=-1)}ngOnInit(){this.sharedService.getVideoState().subscribe(t=>{this.val=t?10:-1})}onVideoEnd(){this.val=-1,this.sharedService.triggerVideo(!1)}ngOnDestroy(){this.introEnded.emit(!0)}}return n.\u0275fac=function(t){return new(t||n)(Te(wC),Te(wi))},n.\u0275cmp=Yn({type:n,selectors:[["app-intro"]],outputs:{introEnded:"introEnded",videoEnded:"videoEnded"},decls:6,vars:2,consts:[[1,"logo_container"],[1,"logo"],[1,"navbar","navbar-expand-lg"],[1,"badge","bg-primary",3,"hidden"],["class","video-background video-opacity-low-down",4,"ngIf"],[1,"video-background","video-opacity-low-down"],["type","video/mp4",1,"video",3,"autoplay","muted","loop","ended"],["videoPlayer",""],["src","./../../assets/video/movie-sprites-3.0.mp4","type","video/mp4"]],template:function(t,i){1&t&&(w(0,"div",0),dt(1,"div",1),w(2,"nav",2)(3,"span",3),y(4,"WeBaby Game Company"),m(),Ut(5,u5,5,3,"div",4),m()()),2&t&&(Ye(3),ut("hidden",!0),Ye(2),ut("ngIf",i.val>1))},directives:[fo],styles:["body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#000!important}body[_ngcontent-%COMP%]{background-color:#000!important;min-width:100%;min-height:100vh;display:flex;align-items:flex-start;justify-content:center;perspective:20em;perspective-origin:30% 45%}a[_ngcontent-%COMP%]{font-family:Segoe UI,sans-serif}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{text-decoration:none}.logo[_ngcontent-%COMP%]{background-image:url(wbbaby24a.8a6b2ad368e2001a.png);background-repeat:no-repeat;background-size:contain;min-width:70vd;min-height:70vh;animation:spin 4s linear 3s}@keyframes spin{to{transform:rotate(360deg)}}.logo_container[_ngcontent-%COMP%]{display:flex;flex:column;justify-content:flex-start;width:50vw;height:100vh}@keyframes fadeInOut{0%{opacity:0}50%{opacity:1}to{opacity:0}}.video[_ngcontent-%COMP%]{width:auto;height:95vh;opacity:100%}.video-opacity-low-down[_ngcontent-%COMP%]{animation:fadein 3s ease-in alternate infinite}@keyframes fadein{0%{opacity:0}to{opacity:1}}.video-background[_ngcontent-%COMP%]{width:100%;height:auto;visibility:visible;color:#fff}.video[_ngcontent-%COMP%]{width:100%;height:auto}.video-size[_ngcontent-%COMP%]{width:80vw;height:80vh}"]}),n})(),xC=(()=>{class n{constructor(){this.title="pagewebaby",this.isToDisplay=!1,this.introEnded=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-root"]],inputs:{isToDisplay:"isToDisplay",introEnded:"introEnded"},decls:1,vars:0,template:function(t,i){1&t&&dt(0,"router-outlet")},directives:[d0],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#051223}body[_ngcontent-%COMP%]{font-family:serif sans-serif,"Roboto";font-size:2em;background-color:#051223!important}button[_ngcontent-%COMP%]{font-family:serif sans-serif,"Roboto"}']}),n})();function d5(n,e){1&n&&(w(0,"div",11)(1,"video",12),dt(2,"source",13),m()()),2&n&&(Ye(1),ut("autoplay",!0)("muted",!0)("loop",!1))}function h5(n,e){if(1&n&&(w(0,"div",9),Ut(1,d5,3,3,"div",10),m()),2&n){const t=qi();Ye(1),ut("ngIf",t.val>0)}}function f5(n,e){1&n&&(w(0,"div",14)(1,"ul",15)(2,"li",16)(3,"a",17),y(4,"Login"),m()(),w(5,"li",16)(6,"a",17),y(7,"Register"),m()()()())}function p5(n,e){1&n&&(w(0,"div",18),dt(1,"img",19),m())}function m5(n,e){1&n&&(w(0,"div"),dt(1,"img",19),m())}let g5=(()=>{class n{constructor(t,i){this.sharedService=t,this.cdRef=i,this.introEnded=!1,this.val=10,this.showNeonEffect=!1,this.sharedService.getVideoState().subscribe(r=>{console.log("Received play trigger:",r),r&&(this.val=10,setTimeout(()=>{this.val=-1,this.cdRef.detectChanges()},5500))})}buttonClicked(){this.sharedService.setClickedButton("Button was clicked")}}return n.\u0275fac=function(t){return new(t||n)(Te(wC),Te(pu))},n.\u0275cmp=Yn({type:n,selectors:[["app-navbar"]],inputs:{introEnded:"introEnded"},decls:15,vars:5,consts:[[1,"container"],[1,"navbar","navbar-expand-lg",2,"font-size","3em"],[1,"badge","bg-primary",3,"hidden"],["class","video-background video-opacity-low-down",4,"ngIf"],[1,"btn","btn-colorchange",3,"click"],[1,"campaign_motto"],["class","collapse navbar-collapse","id","navbarSupportedContent",4,"ngIf"],["data-aos","zoom-out-left","class","img_fit",4,"ngIf"],[4,"ngIf"],[1,"video-background","video-opacity-low-down"],["class","video-background",4,"ngIf"],[1,"video-background"],["type","video/mp4",1,"video",3,"autoplay","muted","loop"],["src","./../../assets/video/movie-sprites-3.0.mp4"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","ml-auto"],[1,"nav-item"],["href","#",1,"nav-link"],["data-aos","zoom-out-left",1,"img_fit"],["src","../../assets/wbbaby24white.png"]],template:function(t,i){1&t&&(w(0,"div",0)(1,"nav",1)(2,"span",2),y(3,"WeBaby Game Company"),m(),dt(4,"br"),Ut(5,h5,2,1,"div",3),dt(6,"br"),w(7,"div")(8,"button",4),Yi("click",function(){return i.buttonClicked()}),y(9," WeBaby "),w(10,"span",5),y(11,"We are in play"),m()()(),Ut(12,f5,8,0,"div",6),Ut(13,p5,2,0,"div",7),Ut(14,m5,2,0,"div",8),m()()),2&t&&(Ye(2),ut("hidden",!0),Ye(3),ut("ngIf",i.val>1),Ye(7),ut("ngIf",i.showNeonEffect),Ye(1),ut("ngIf",i.showNeonEffect),Ye(1),ut("ngIf",!i.showNeonEffect))},directives:[fo],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%]{background-color:#051223}@keyframes colorwave{20%{color:#0a0a0a}40%{color:#2f2f41}60%{color:#7979d3}80%{color:#cfcffa}to{color:#fff}}.colorwave[_ngcontent-%COMP%], .text[_ngcontent-%COMP%]{animation:colorwave 5s infinite linear;animation-direction:reverse}.text-effect[_ngcontent-%COMP%]{overflow:hidden;position:relative;filter:contrast(110%) brightness(190%)}.neon[_ngcontent-%COMP%]{position:relative;background:black;color:transparent}.neon[_ngcontent-%COMP%]:before, .neon[_ngcontent-%COMP%]:after{content:attr(data-text);color:#fff;filter:blur(.01em);position:absolute;top:0;left:0;pointer-events:none}.neon[_ngcontent-%COMP%]:after{mix-blend-mode:difference}.gradient[_ngcontent-%COMP%], .spotlight[_ngcontent-%COMP%]{position:absolute;inset:0;pointer-events:none;z-index:10}.gradient[_ngcontent-%COMP%]{background:linear-gradient(45deg,blue,orange);mix-blend-mode:multiply}.spotlight[_ngcontent-%COMP%]{animation:light 5s infinite linear;background:radial-gradient(circle,white,transparent 25%) 0 0/25% 25%,radial-gradient(circle,white,black 25%) 50% 50%/12.5% 12.5%;top:-100%;left:-100%;mix-blend-mode:color-dodge}@keyframes light{to{transform:translate(50%,50%)}}@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%]{background-color:#000!important}.text[_ngcontent-%COMP%]{font-family:Roboto,sans-serif}.btn-colorchange[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;letter-spacing:-.09em;font-size:1em;animation:color-change 3s infinite}@keyframes color-change{0%{color:#140637}10%{color:#0215a7e6}20%{color:#4f8ee6b3}30%{color:#dedeee80}40%{color:#c5c5dcb3}60%{color:#4f8ee6e6}90%{color:#0215a7e6}to{color:#140637}}body[_ngcontent-%COMP%]{font-family:Roboto,sans-serif;font-size:2em;letter-spacing:.5em;background-color:#051223!important;display:flex}.img_fit[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.container[_ngcontent-%COMP%]{display:flex;flex-shrink:3;background-color:#051223!important}.campaign_motto[_ngcontent-%COMP%]{font-size:60%;font-family:Roboto,sans-serif;letter-spacing:-.09em}.neon[_ngcontent-%COMP%]{font:700 4em Roboto,sans-serif;text-align:center;margin:0}.video[_ngcontent-%COMP%]{width:80%;height:80%;opacity:100%}@keyframes fadein{0%{opacity:0}to{opacity:1}}.video-background[_ngcontent-%COMP%]{width:100%;height:auto;visibility:visible}.video[_ngcontent-%COMP%]{width:100%;height:auto}.video-opacity-low-down[_ngcontent-%COMP%]{animation:fadein 3s ease-in alternate infinite}']}),n})(),y5=(()=>{class n{constructor(){this.isToDisplay=!0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-side-menu"]],decls:24,vars:1,consts:[[1,"sticky",3,"hidden"],["hidden",""],[1,"awrap"],["href","#"]],template:function(t,i){1&t&&(w(0,"div",0)(1,"div",1),y(2,"MENU"),m(),w(3,"ul")(4,"li")(5,"div",2)(6,"a",3),y(7,"Games"),m()()(),w(8,"li")(9,"div",2)(10,"a",3),y(11,"Shop"),m()()(),w(12,"li")(13,"div",2)(14,"a",3),y(15,"Contact"),m()()(),w(16,"li")(17,"div",2)(18,"a",3),y(19,"Login"),m()()(),w(20,"li")(21,"div",2)(22,"a",3),y(23,"Register"),m()()()()()),2&t&&ut("hidden",0==i.isToDisplay)},styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%]{background-color:#051223!important;color:#fc3455}.sticky[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited{text-decoration:none;color:#bbbba0}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:menuFontColorActive}a[_ngcontent-%COMP%]:active{text-decoration:none}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;font-size:4em;font-weight:500;letter-spacing:.09em;display:flex;gap:4%;background-color:#05230a66}.awrap[_ngcontent-%COMP%]:hover{background-color:255,255,255,.2;color:#7ba04d1a;animation:awrap 1s ease infinite}@keyframes awrap{0%{transform:scale(1)}50%{transform:scale(1.5)}to{transform:scale(1)}}']}),n})();class MC{}const Rs="*";function SC(n,e){return{type:7,name:n,definitions:e,options:{}}}function _0(n,e=null){return{type:4,styles:e,timings:n}}function EC(n,e=null){return{type:2,steps:n,options:e}}function Al(n){return{type:6,styles:n,offset:null}}function of(n,e,t){return{type:0,name:n,styles:e,options:t}}function w0(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function CC(n){Promise.resolve(null).then(n)}class Nu{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){CC(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class TC{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const s=this.players.length;0==s?CC(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++i==s&&this._onDestroy()}),o.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}var _5=bt(123),x0=bt.n(_5);function w5(n,e){1&n&&dt(0,"span")}function b5(n,e){if(1&n&&(w(0,"span",20),y(1),Ut(2,w5,1,0,"span",21),m()),2&n){const t=e.$implicit,i=e.index,r=qi().$implicit;Ye(1),lo("",t," "),Ye(1),ut("ngIf",i<r.category.length-1)}}function x5(n,e){if(1&n&&(w(0,"div")(1,"div",2)(2,"div",3),dt(3,"img",4),m(),w(4,"div",5)(5,"div",6),y(6),dt(7,"br"),Ut(8,b5,3,2,"span",7),m(),w(9,"div",8)(10,"div",9)(11,"a",10),y(12,"Kup gr\u0119"),m()(),w(13,"div",11)(14,"div",12),y(15),m(),w(16,"p",13),y(17),m(),w(18,"a",14),y(19,"Go UP"),m()()(),w(20,"div")(21,"button",15)(22,"div",16),y(23),function IM(n,e){const t=Ot();let i;const r=n+20;t.firstCreatePass?(i=function hk(n,e){if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];if(n===i.name)return i}}(e,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(r,i.onDestroy)):i=t.data[r];const s=i.factory||(i.factory=Vo(i.type)),o=Ks(Te);try{const a=Ld(!1),l=s();return Ld(a),function IL(n,e,t,i){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=i}(t,ie(),r,l),l}finally{Ks(o)}}(24,"date"),w(25,"span",17),y(26),m()(),w(27,"div",18),y(28," Zobacz filmy o grze. Dowiesz si\u0119, wi\u0119cej o rozgrywce, o bohaterach gry i o sposobach na wykonanie niekt\xf3rych zada\u0144 "),m()()()()(),dt(29,"div",19),m()),2&n){const t=e.$implicit;Ye(3),ut("src",t.image,Hc),Ye(3),lo(" ",t.name," "),Ye(2),ut("ngForOf",t.category),Ye(7),ah(t.name),Ye(2),ah(t.description),Ye(5),ut("hidden",!0),Ye(1),lo(" Gra opublikowana w dniu ",function RM(n,e,t,i){const r=n+20,s=ie(),o=za(s,r);return function lu(n,e){return n[1].data[e].pure}(s,r)?TM(s,pi(),e,o.transform,t,i,o):o.transform(t,i)}(24,8,t.createdAt,"dd MMM YYYY HH:mm:ss")," "),Ye(3),lo("Od lat: ",t.age,"")}}let M5=(()=>{class n{constructor(){this.gameimg="./../../assets/NicponRunWithSword.png",this.gamesjson=[],this.random_boolean=Math.random()<.5}ngOnInit(){x0().init(),this.gamesjson=[{name:"Abecad\u0142owo \nZagubione literki",category:["Przygodowa","Edukacyjna"],age:"7-100",image:"./../../assets/nicpon-10a.jpg",description:"Przygody ch\u0142opca, kt\xf3ry ratuje swoj\u0105 krain\u0119 przed zag\u0142ad\u0105. Podczas brawurowej wyprawy po zaginione litery sam doznaje przemiany w dobrego, odwa\u017cnego m\u0142odzie\u0144ca.",price:12,createdAt:Date.now()},{name:"ABC-land wersja angloj\u0119zyczna",category:["Przygodowa","Edukacyjna"],age:"9",image:"./../../assets/nicpon6b.jpg",description:"Angloj\u0119zyczna wersja popularnej gry, w kt\xf3rej bohaterem staje si\u0119 ch\u0142opiec, kt\xf3ry pocz\u0105tkowo nie rokuje wielkich szans w byciu wybawc\u0105 swoich pobraymc\xf3w. Po drodze spotykaj\u0105 go r\xf3\u017cne przygody, w kt\xf3rych musi wykaza\u0107 si\u0119 zr\u0119czno\u015bci\u0105 i pomys\u0142owo\u015bci\u0105.",price:12,createdAt:Date.now()},{name:"Buchstabenland - wersja niemieckoj\u0119zyczna",category:["Przygotowa","Edukacyjna"],age:"3",image:"./../../assets/nicpon8b.jpg",description:"Abecad\u0142owo w wesji niemieckoj\u0119zycznej. Nicpo\u0144 musi uratowa\u0107 swoj\u0105 krain\u0119, ale by tego dokona\u0107 musi odby\u0107 dalek\u0105 podr\xf3\u017c w nieznane. Opr\xf3cz wrog\xf3w i wys\u0142annik\xf3w z\u0142ego w\u0142adcy Sarsenbaja napotka te\u017c na szcz\u0119\u015bcie tych, kt\xf3rzy stan\u0105 si\u0119 jego przyjaci\xf3\u0142mi",price:12,createdAt:Date.now()},{name:"Basketball shots",category:["Sportowa","Zr\u0119czno\u015bciowa"],age:"3",image:"./../../assets/basketShotsWebaby.jpg",description:"Mecz rzut\xf3w do kosza. Gracz mo\u017ce gra\u0107 ze sob\u0105 lub z komputerem. Trzy poziomy trudno\u015bci. Ka\u017cda dru\u017cyna ma pi\u0119ciu zawodnik\xf3w. Ka\u017cdy z zawodnik\xf3w rzuca pi\u0119\u0107 razy.",price:12,createdAt:Date.now()},{name:"System of equations",category:["U\u017cytkowa","Kalkulator"],age:"3",image:"./../../assets/system-of-equations-image.png",description:"Rozwi\u0105zywanie uk\u0142ad\xf3w r\xf3wna\u0144 liniowych z wieloma niewiadommymi. Aplikacja pozwala rozwi\u0105zywa\u0107 uk\u0142ady siedmiu r\xf3wna\u0144. Wystarczy poda\u0107 wsp\xf3\u0142czynniki przy niewiadomych w ka\u017cdym r\xf3wnaniu i wyrazy wolne",price:12,createdAt:Date.now()},{name:"Bubbles word",category:["Edukacyjna","Zr\u0119czno\u015bciowa"],age:"3",image:"./../../assets/bubble-graphics.png",description:"Gra edukacyjno-zr\u0119czno\u015bciowa, polegaj\u0105ca na rozbijaniu baniek nios\u0105cych literki. Gracz ma za zadanie w jak najkr\xf3tszym czasie u\u0142o\u017cy\u0107 litery, w jak najwi\u0119cej s\u0142\xf3w",price:12,createdAt:Date.now()}]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-game-badge"]],decls:2,vars:1,consts:[[1,"container"],[4,"ngFor","ngForOf"],["data-aos-duration","3000","data-aos","fade-up",1,"game-badge"],[1,"image_socket"],["ngClass","img_fit",3,"src"],[1,"game-info"],["data-aos-duration","3000","data-aos","fade-up",1,"gameHeader"],["class","bg-transparent",4,"ngFor","ngForOf"],[1,"card","cr-transparent"],["data-aos-duration","3000","data-aos","fade-right",1,"card-header","card-header-font-size"],["routerLink","/game",1,"btn","btn-outline-warning","font-size-header"],["data-aos-duration","3000","data-aos","fade-up",1,"card-body"],["data-aos-duration","3000","data-aos","fade-up",1,"card-title"],[1,"card-text","font-size-header"],["href","#",1,"btn","btn-primary","font-size-header"],["data-aos-duration","3000","data-aos","fade-left","type","button",1,"card","glow-on-hover"],[3,"hidden"],[1,"card","card-body","glow-on-hover"],[1,"card-text-description"],[1,"spaceBetween"],[1,"bg-transparent"],[4,"ngIf"]],template:function(t,i){1&t&&(w(0,"div",0),Ut(1,x5,30,11,"div",1),m()),2&t&&(Ye(1),ut("ngForOf",i.gamesjson))},directives:[Fh,Nh,fo,Ou],pipes:[jS],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}.container[_ngcontent-%COMP%]{max-width:100%;display:flex;flex-direction:row}@media (min-width: 600px){.container[_ngcontent-%COMP%]{flex-direction:column}}.cr-transparent[_ngcontent-%COMP%]{background:#3f87a6;opacity:.4;color:#000;border-radius:1vh;padding:5%}.img_fit[_ngcontent-%COMP%]{width:100%;height:100%}.image_socket[_ngcontent-%COMP%]{width:100%;height:100%;border:3px solid rgba(57,70,143,.6);border-radius:0%;animation:fadeInAnimation ease 6s;animation-iteration-count:1;animation-fill-mode:forwards}@keyframes fadeInAnimation{0%{opacity:0}to{opacity:1}}.bg-textWhite[_ngcontent-%COMP%]{border-radius:1%;opacity:.6;max-width:10%}@media only screen and (max-width: 600px){.gameHeader[_ngcontent-%COMP%]{font-size:4vw}}@media only screen and (min-width: 600px) and (max-width: 900px){.gameHeader[_ngcontent-%COMP%]{font-size:10vw}}@media only screen and (min-width: 900px){.gameHeader[_ngcontent-%COMP%]{font-size:11vw}}@media only screen and (max-width: 600px){.bg-transparent[_ngcontent-%COMP%]{font-size:9vw}}@media only screen and (min-width: 600px) and (max-width: 900px){.bg-transparent[_ngcontent-%COMP%]{font-size:8vw}}@media only screen and (min-width: 900px){.bg-transparent[_ngcontent-%COMP%]{font-size:7vw}}bg-transparent[_ngcontent-%COMP%]{font-size:5vw}@media only screen and (max-width: 600px){.bg-transparent[_ngcontent-%COMP%]{font-size:7vw}}@media only screen and (min-width: 600px) and (max-width: 900px){.bg-transparent[_ngcontent-%COMP%]{font-size:6vw}}@media only screen and (min-width: 900px){.bg-transparent[_ngcontent-%COMP%]{font-size:50vw}}.game-badge[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%;gap:2%}@media (min-width: 600px){.game-badge[_ngcontent-%COMP%]{flex-direction:row}}.game-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;border-radius:1vh;width:100%;margin-bottom:2%;min-width:156px}.gameHeader[_ngcontent-%COMP%]{font-size:6vh;color:#000;background-color:#a7950f;border-radius:1vh;padding:3%;margin-bottom:2%}.gameHeader[_ngcontent-%COMP%]:hover{box-shadow:0 0 5px #a7950f,0 0 25px #a7950f,0 0 50px #a7950f,0 0 100px #a7950f,0 0 200px #a7950f}.spaceBetween[_ngcontent-%COMP%]{height:5vh}.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:22%}.btn-buttonforGameAge[_ngcontent-%COMP%]{margin:3% 0;padding:3%}.btn-buttonforGameAge[_ngcontent-%COMP%]:hover{color:#262f2f;background:repeating-linear-gradient(45deg,#3f87a6,#ebf8e1 15%,#f69d3c 20%)}.bg-transparent[_ngcontent-%COMP%]{opacity:30%;border-radius:1vh;font-size:5vh;height:auto;width:auto}.glow-on-hover[_ngcontent-%COMP%]{border-radius:1vh;box-sizing:"border-box";font-size:3em;padding:3%;width:100%;height:100%;border:dotted 1px #4d2096;outline:none;color:#fff;background:#111;cursor:pointer;position:relative;z-index:0;margin:2% 0;display:flex;flex-direction:row;align-content:center;align-items:center;column-gap:2%}.glow-on-hover[_ngcontent-%COMP%]:before{content:"";background:linear-gradient(45deg,#ff0000,#ff7300,#fffb00,#48ff00,#00ffd5,#002bff,#7a00ff,#ff00c8,#ff0000);position:absolute;top:-2px;left:-2px;background-size:400%;z-index:-1;filter:blur(5px);width:calc(100% + 4px);height:calc(100% + 4px);animation:glowing 20s linear infinite;opacity:0;transition:opacity .3s ease-in-out;box-sizing:"border-box";border:none;text-align:left;border-radius:1vh}.glow-on-hover[_ngcontent-%COMP%]:active{color:#000}.glow-on-hover[_ngcontent-%COMP%]:active:after{background:transparent}.glow-on-hover[_ngcontent-%COMP%]:hover:before{opacity:1}.glow-on-hover[_ngcontent-%COMP%]:after{z-index:-1;content:"";position:absolute;width:100%;height:100%;background:#111;left:0%;top:0%;border-radius:1vh}.card-text[_ngcontent-%COMP%]{text-align:left;color:#000}@keyframes glowing{0%{background-position:0 0}50%{background-position:400% 0}to{background-position:0 0}}.btn-glow[_ngcontent-%COMP%]{background-color:#a7950f}.btn-glow[_ngcontent-%COMP%]:hover{border-width:0%;box-shadow:0 0 6% #a7950f,0 0 25px #a7950f,0 0 50px #a7950f,0 0 100px #a7950f,0 0 200px #a7950f}.font-size-header[_ngcontent-%COMP%]{font-size:4em}.card-header-font-size[_ngcontent-%COMP%]{font-size:3em;color:#000}.card-text-description[_ngcontent-%COMP%]{color:#3f87a6;opacity:.4}']}),n})();const S5=["videoPlayer"];function E5(n,e){1&n&&ao(0)}function C5(n,e){if(1&n){const t=qo();w(0,"div",7),Yi("click",function(){return Wo(t),qi().playVideo()}),Ut(1,E5,1,0,"ng-container",8),m()}if(2&n){const t=qi(),i=is(11),r=is(9);Ye(1),ut("ngTemplateOutlet",t.showElement?i:r)}}function T5(n,e){if(1&n){const t=qo();w(0,"div",9)(1,"video",10,11),Yi("ended",function(){return Wo(t),qi().onVideoEnd()}),dt(3,"source",12),y(4," Your browser does not support the video tag. "),m()()}2&n&&(Ye(1),ut("muted",!0)("loop",!1))}function A5(n,e){1&n&&dt(0,"img",13)}function D5(n,e){1&n&&dt(0,"img",14)}let P5=(()=>{class n{constructor(){this.message="",this.showElement=!0,this.introEnded=new $n,this.showVideo=!1,this.videoHasEnded=!0,this.animationState="out"}ngAfterViewInit(){this.videoPlayer.nativeElement.play()}playVideo(){console.log("playVideo called"),this.showVideo=!0,this.showElement=!1,setTimeout(()=>{this.videoPlayer&&this.videoPlayer.nativeElement&&(console.log("Playing video"),this.videoPlayer.nativeElement.play())},0)}toggleVideo(){this.animationState="in"===this.animationState?"out":"in","in"===this.animationState&&this.videoPlayer&&setTimeout(()=>this.videoPlayer.nativeElement.play(),0)}onVideoEnd(){this.animationState="out",this.showVideo=!1,this.videoHasEnded=!0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-main-section"]],viewQuery:function(t,i){if(1&t&&cy(S5,5),2&t){let r;cu(r=uu())&&(i.videoPlayer=r.first)}},outputs:{introEnded:"introEnded"},decls:12,vars:4,consts:[["data-aos","fade-up",1,"main-section"],[1,"logo-motto-container"],[3,"click",4,"ngIf"],["class","video-container",4,"ngIf"],[1,"game-badges"],["logoBlack",""],["logoWhite",""],[3,"click"],[4,"ngTemplateOutlet"],[1,"video-container"],["autoplay","","insline","","type","video/mp4",3,"muted","loop","ended"],["videoPlayer",""],["src","./../../assets/video/movie-sprites-3.0.mp4","type","video/mp4"],["src","./../../assets/wbbaby24white.png","alt","Company Logo",1,"img_fit"],["src","./../../assets/wbbaby24white.png","alt","Company2 Logo",1,"img_fit"]],template:function(t,i){1&t&&(w(0,"div",0)(1,"div",1),Ut(2,C5,2,1,"div",2),Ut(3,T5,5,2,"div",3),m(),dt(4,"br")(5,"br"),w(6,"div",4),dt(7,"app-game-badge"),m()(),Ut(8,A5,1,0,"ng-template",null,5,co),Ut(10,D5,1,0,"ng-template",null,6,co)),2&t&&(Ye(1),Wg("fade-in",i.videoHasEnded),Ye(1),ut("ngIf",!i.showVideo),Ye(1),ut("ngIf",i.showVideo))},directives:[fo,Hy,M5],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#051223!important}.logo-motto-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;opacity:0;transition:opacity 2s ease}.fade-in[_ngcontent-%COMP%]{opacity:1}.img_fit[_ngcontent-%COMP%]{max-width:100%;max-height:100%;background:center/cover url(wbbaby24.bd2316ecb42a780d.png) no-repeat;background-color:#f4f7c0 100%}@keyframes move{0%{background-position:180px 0}50%{background-position:-20px 0}to{background-position:180px 0}}.divImg[_ngcontent-%COMP%]{width:50%;height:50%;background:linear-gradient(to right,rgba(16,181,223,.5) 10%,rgba(174,217,228,.5) 50%,#051223 100%);background-size:100% 100%;background-repeat:no-repeat;animation:move 5s linear infinite}.divImg-1[_ngcontent-%COMP%]{color:#fff;width:50%;height:50%}.divImg-alt[_ngcontent-%COMP%]{width:100%;height:100%;background:linear-gradient(217deg,#16446c,rgba(255,0,0,0) 70.71%),linear-gradient(127deg,#805905,rgba(0,255,0,0) 70.71%),linear-gradient(336deg,#62265d,rgba(0,0,255,0) 70.71%);border-radius:50%;font-size:250px;height:1em;width:1em;filter:blur(2px)}.background[_ngcontent-%COMP%]{width:400px;height:400px;background-color:#051223;padding:80px;position:relative}.background[_ngcontent-%COMP%]   .pie[_ngcontent-%COMP%]{width:30%;height:30%;background:white;border-top-left-radius:100%;position:absolute;transform-origin:bottom right;filter:blur(40px)}.background[_ngcontent-%COMP%]   .pie.wineberry[_ngcontent-%COMP%]{transform:rotate(81deg);background:radial-gradient(circle at bottom right,white,#663a6d 40%)}.background[_ngcontent-%COMP%]   .pie.cello[_ngcontent-%COMP%]{transform:rotate(116deg);background:radial-gradient(circle at bottom right,white,#24425e 40%)}.background[_ngcontent-%COMP%]   .pie.greenpea[_ngcontent-%COMP%]{transform:rotate(202deg);background:radial-gradient(circle at bottom right,white,#580327 40%)}.background[_ngcontent-%COMP%]   .pie.greenpea2[_ngcontent-%COMP%]{transform:rotate(287deg)}.background[_ngcontent-%COMP%]   .pie.astronaut[_ngcontent-%COMP%]{transform:rotate(13deg);background:radial-gradient(circle at bottom right,white,#345a7f 40%)}.game-badges[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;flex-shrink:3}@media (min-width: 600px){.game-badges[_ngcontent-%COMP%]{flex-direction:column}}.motto[_ngcontent-%COMP%]{color:#fff;display:flex;flex-direction:column;gap:1%}.glowing[_ngcontent-%COMP%]{max-width:4.2em;font-size:4em;font-family:Roboto,sans-serif}.glow-logo[_ngcontent-%COMP%]{position:relative;width:30vw;height:30vw;line-height:30vw;text-align:center;color:#252b37;background-color:#151823;animation:textColor 10s ease infinite}.glow-logo[_ngcontent-%COMP%]:after{position:absolute;content:"";top:5vw;left:0;right:0;z-index:-1;height:100%;width:100%;margin:0 auto;transform:scale(.75);-moz-filter:blur(5vw);-ms-filter:blur(5vw);filter:blur(5vw);background:linear-gradient(270deg,#0fffc1,#7e0fff);background-size:200% 200%;animation:animateGlow 10s ease infinite}@keyframes animateGlow{0%{background-position:0% 50%}50%{background-position:100% 50%}to{background-position:0% 50%}}@keyframes textColor{0%{color:#7e0fff}50%{color:#0fffc1}to{color:#7e0fff}}.video-container[_ngcontent-%COMP%]{position:relative;width:80%;height:auto;display:flex;justify-content:center;align-items:center}.video-container[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{width:40%;height:auto}'],data:{animation:[SC("fadeInOut",[of("in",Al({opacity:1})),of("out",Al({opacity:0})),w0("out => in",_0("600ms ease-in")),w0("in => out",_0("600ms ease-out"))])]}}),n})();function I5(n,e){1&n&&(w(0,"div"),dt(1,"p"),w(2,"h1"),y(3,"Privacy Policy"),m(),w(4,"p"),y(5,"Last updated: April 10, 2024"),m(),w(6,"p"),y(7,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),m(),w(8,"p"),y(9,"We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy has been created with the help of the "),w(10,"a",5),y(11,"Free Privacy Policy Generator"),m(),y(12,"."),m(),w(13,"h2"),y(14,"Interpretation and Definitions"),m(),w(15,"h3"),y(16,"Interpretation"),m(),w(17,"p"),y(18,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),m(),w(19,"h3"),y(20,"Definitions"),m(),w(21,"p"),y(22,"For the purposes of this Privacy Policy:"),m(),w(23,"ul")(24,"li")(25,"p")(26,"strong"),y(27,"Account"),m(),y(28," means a unique account created for You to access our Service or parts of our Service."),m()(),w(29,"li")(30,"p")(31,"strong"),y(32,"Affiliate"),m(),y(33,' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),m()(),w(34,"li")(35,"p")(36,"strong"),y(37,"Company"),m(),y(38,' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Webaby, ul. \u017bytnia 13, 01-181 Warszawa.'),m()(),w(39,"li")(40,"p")(41,"strong"),y(42,"Cookies"),m(),y(43," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."),m()(),w(44,"li")(45,"p")(46,"strong"),y(47,"Country"),m(),y(48," refers to: Poland"),m()(),w(49,"li")(50,"p")(51,"strong"),y(52,"Device"),m(),y(53," means any device that can access the Service such as a computer, a cellphone or a digital tablet."),m()(),w(54,"li")(55,"p")(56,"strong"),y(57,"Personal Data"),m(),y(58," is any information that relates to an identified or identifiable individual."),m()(),w(59,"li")(60,"p")(61,"strong"),y(62,"Service"),m(),y(63," refers to the Website."),m()(),w(64,"li")(65,"p")(66,"strong"),y(67,"Service Provider"),m(),y(68," means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used."),m()(),w(69,"li")(70,"p")(71,"strong"),y(72,"Usage Data"),m(),y(73," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."),m()(),w(74,"li")(75,"p")(76,"strong"),y(77,"Website"),m(),y(78," refers to Webaby, accessible from "),w(79,"a",6),y(80,"https://webaby.io"),m()()(),w(81,"li")(82,"p")(83,"strong"),y(84,"You"),m(),y(85," means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),m()()(),w(86,"h2"),y(87,"Collecting and Using Your Personal Data"),m(),w(88,"h3"),y(89,"Types of Data Collected"),m(),w(90,"h4"),y(91,"Personal Data"),m(),w(92,"p"),y(93,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),m(),w(94,"ul")(95,"li")(96,"p"),y(97,"Email address"),m()(),w(98,"li")(99,"p"),y(100,"Usage Data"),m()()(),w(101,"h4"),y(102,"Usage Data"),m(),w(103,"p"),y(104,"Usage Data is collected automatically when using the Service."),m(),w(105,"p"),y(106,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."),m(),w(107,"p"),y(108,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers and other diagnostic data."),m(),w(109,"p"),y(110,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),m(),w(111,"h4"),y(112,"Tracking Technologies and Cookies"),m(),w(113,"p"),y(114,"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service. The technologies We use may include:"),m(),w(115,"ul")(116,"li")(117,"strong"),y(118,"Cookies or Browser Cookies."),m(),y(119," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent. However, if You do not accept Cookies, You may not be able to use some parts of our Service. Unless you have adjusted Your browser setting so that it will refuse Cookies, our Service may use Cookies."),m(),w(120,"li")(121,"strong"),y(122,"Web Beacons."),m(),y(123," Certain sections of our Service and our emails may contain small electronic files known as web beacons (also referred to as clear gifs, pixel tags, and single-pixel gifs) that permit the Company, for example, to count users who have visited those pages or opened an email and for other related website statistics (for example, recording the popularity of a certain section and verifying system and server integrity)."),m()(),w(124,"p"),y(125,'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on Your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close Your web browser. Learn more about cookies on the '),w(126,"a",7),y(127,"Free Privacy Policy website"),m(),y(128," article."),m(),w(129,"p"),y(130,"We use both Session and Persistent Cookies for the purposes set out below:"),m(),w(131,"ul")(132,"li")(133,"p")(134,"strong"),y(135,"Necessary / Essential Cookies"),m()(),w(136,"p"),y(137,"Type: Session Cookies"),m(),w(138,"p"),y(139,"Administered by: Us"),m(),w(140,"p"),y(141,"Purpose: These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."),m()(),w(142,"li")(143,"p")(144,"strong"),y(145,"Cookies Policy / Notice Acceptance Cookies"),m()(),w(146,"p"),y(147,"Type: Persistent Cookies"),m(),w(148,"p"),y(149,"Administered by: Us"),m(),w(150,"p"),y(151,"Purpose: These Cookies identify if users have accepted the use of cookies on the Website."),m()(),w(152,"li")(153,"p")(154,"strong"),y(155,"Functionality Cookies"),m()(),w(156,"p"),y(157,"Type: Persistent Cookies"),m(),w(158,"p"),y(159,"Administered by: Us"),m(),w(160,"p"),y(161,"Purpose: These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."),m()()(),w(162,"p"),y(163,"For more information about the cookies we use and your choices regarding cookies, please visit our Cookies Policy or the Cookies section of our Privacy Policy."),m(),w(164,"h3"),y(165,"Use of Your Personal Data"),m(),w(166,"p"),y(167,"The Company may use Personal Data for the following purposes:"),m(),w(168,"ul")(169,"li")(170,"p")(171,"strong"),y(172,"To provide and maintain our Service"),m(),y(173,", including to monitor the usage of our Service."),m()(),w(174,"li")(175,"p")(176,"strong"),y(177,"To manage Your Account:"),m(),y(178," to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),m()(),w(179,"li")(180,"p")(181,"strong"),y(182,"For the performance of a contract:"),m(),y(183," the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),m()(),w(184,"li")(185,"p")(186,"strong"),y(187,"To contact You:"),m(),y(188," To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),m()(),w(189,"li")(190,"p")(191,"strong"),y(192,"To provide You"),m(),y(193," with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),m()(),w(194,"li")(195,"p")(196,"strong"),y(197,"To manage Your requests:"),m(),y(198," To attend and manage Your requests to Us."),m()(),w(199,"li")(200,"p")(201,"strong"),y(202,"For business transfers:"),m(),y(203," We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),m()(),w(204,"li")(205,"p")(206,"strong"),y(207,"For other purposes"),m(),y(208,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),m()()(),w(209,"p"),y(210,"We may share Your personal information in the following situations:"),m(),w(211,"ul")(212,"li")(213,"strong"),y(214,"With Service Providers:"),m(),y(215," We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You."),m(),w(216,"li")(217,"strong"),y(218,"For business transfers:"),m(),y(219," We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company."),m(),w(220,"li")(221,"strong"),y(222,"With Affiliates:"),m(),y(223," We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us."),m(),w(224,"li")(225,"strong"),y(226,"With business partners:"),m(),y(227," We may share Your information with Our business partners to offer You certain products, services or promotions."),m(),w(228,"li")(229,"strong"),y(230,"With other users:"),m(),y(231," when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside."),m(),w(232,"li")(233,"strong"),y(234,"With Your consent"),m(),y(235,": We may disclose Your personal information for any other purpose with Your consent."),m()(),w(236,"h3"),y(237,"Retention of Your Personal Data"),m(),w(238,"p"),y(239,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),m(),w(240,"p"),y(241,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods."),m(),w(242,"h3"),y(243,"Transfer of Your Personal Data"),m(),w(244,"p"),y(245,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."),m(),w(246,"p"),y(247,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),m(),w(248,"p"),y(249,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),m(),w(250,"h3"),y(251,"Delete Your Personal Data"),m(),w(252,"p"),y(253,"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You."),m(),w(254,"p"),y(255,"Our Service may give You the ability to delete certain information about You from within the Service."),m(),w(256,"p"),y(257,"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."),m(),w(258,"p"),y(259,"Please note, however, that We may need to retain certain information when we have a legal obligation or lawful basis to do so."),m(),w(260,"h3"),y(261,"Disclosure of Your Personal Data"),m(),w(262,"h4"),y(263,"Business Transactions"),m(),w(264,"p"),y(265,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),m(),w(266,"h4"),y(267,"Law enforcement"),m(),w(268,"p"),y(269,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency)."),m(),w(270,"h4"),y(271,"Other legal requirements"),m(),w(272,"p"),y(273,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:"),m(),w(274,"ul")(275,"li"),y(276,"Comply with a legal obligation"),m(),w(277,"li"),y(278,"Protect and defend the rights or property of the Company"),m(),w(279,"li"),y(280,"Prevent or investigate possible wrongdoing in connection with the Service"),m(),w(281,"li"),y(282,"Protect the personal safety of Users of the Service or the public"),m(),w(283,"li"),y(284,"Protect against legal liability"),m()(),w(285,"h3"),y(286,"Security of Your Personal Data"),m(),w(287,"p"),y(288,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),m(),w(289,"h2"),y(290,"Children's Privacy"),m(),w(291,"p"),y(292,"Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If You are a parent or guardian and You are aware that Your child has provided Us with Personal Data, please contact Us. If We become aware that We have collected Personal Data from anyone under the age of 13 without verification of parental consent, We take steps to remove that information from Our servers."),m(),w(293,"p"),y(294,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information."),m(),w(295,"h2"),y(296,"Links to Other Websites"),m(),w(297,"p"),y(298,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),m(),w(299,"p"),y(300,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),m(),w(301,"h2"),y(302,"Changes to this Privacy Policy"),m(),w(303,"p"),y(304,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),m(),w(305,"p"),y(306,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),m(),w(307,"p"),y(308,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),m(),w(309,"h2"),y(310,"Contact Us"),m(),w(311,"p"),y(312,"If you have any questions about this Privacy Policy, You can contact us:"),m(),w(313,"ul")(314,"li"),y(315,"By visiting this page on our website: "),w(316,"a",6),y(317,"https://webaby.io"),m()()()())}function R5(n,e){1&n&&(w(0,"div"),dt(1,"p"),w(2,"h1"),y(3,"Polityka prywatno\u015bci"),m(),w(4,"p"),y(5,"Ostatnia aktualizacja: 10 kwietnia 2024"),m(),w(6,"p"),y(7,"Ta Polityka prywatno\u015bci opisuje nasze zasady i procedury dotycz\u0105ce zbierania, wykorzystywania i ujawniania Twoich informacji podczas korzystania z Us\u0142ugi oraz informuje o Twoich prawach dotycz\u0105cych prywatno\u015bci i sposobach, w jakie prawo chroni Twoj\u0105 prywatno\u015b\u0107."),m(),w(8,"p"),y(9,"U\u017cywamy Twoich danych osobowych w celu \u015bwiadczenia i ulepszania Us\u0142ugi. Korzystaj\u0105c z Us\u0142ugi, zgadzasz si\u0119 na zbieranie i wykorzystywanie informacji zgodnie z niniejsz\u0105 Polityk\u0105 prywatno\u015bci. Ta Polityka prywatno\u015bci zosta\u0142a stworzona przy pomocy "),w(10,"a",5),y(11,"Generatora darmowej polityki prywatno\u015bci"),m(),y(12,"."),m(),w(13,"h2"),y(14,"Interpretacja i definicje"),m(),w(15,"h3"),y(16,"Interpretacja"),m(),w(17,"p"),y(18,"S\u0142owa, kt\xf3rych pierwsza litera jest pisana wielk\u0105 liter\u0105, maj\u0105 znaczenie okre\u015blone w poni\u017cszych warunkach. Nast\u0119puj\u0105ce definicje maj\u0105 takie samo znaczenie, niezale\u017cnie od tego, czy wyst\u0119puj\u0105 w liczbie pojedynczej, czy mnogiej."),m(),w(19,"h3"),y(20,"Definicje"),m(),w(21,"p"),y(22,"Do cel\xf3w niniejszej Polityki prywatno\u015bci:"),m(),w(23,"ul")(24,"li")(25,"p")(26,"strong"),y(27,"Konto"),m(),y(28," oznacza unikalne konto utworzone dla Ciebie w celu uzyskania dost\u0119pu do naszej Us\u0142ugi lub jej cz\u0119\u015bci."),m()(),w(29,"li")(30,"p")(31,"strong"),y(32,"Podmiot powi\u0105zany"),m(),y(33,' oznacza podmiot, kt\xf3ry kontroluje, jest kontrolowany przez lub pozostaje pod wsp\xf3ln\u0105 kontrol\u0105 z dan\u0105 stron\u0105, gdzie "kontrola" oznacza posiadanie 50% lub wi\u0119cej udzia\u0142\xf3w, udzia\u0142\xf3w kapita\u0142owych lub innych papier\xf3w warto\u015bciowych uprawnionych do g\u0142osowania na wyb\xf3r dyrektor\xf3w lub innych organ\xf3w zarz\u0105dzaj\u0105cych.'),m()(),w(34,"li")(35,"p")(36,"strong"),y(37,"Firma"),m(),y(38,' (nazywana r\xf3wnie\u017c "Firma", "My", "Nas" lub "Nasz" w niniejszej Umowie) odnosi si\u0119 do Webaby, ul. \u017bytnia 13, 01-181 Warszawa.'),m()(),w(39,"li")(40,"p")(41,"strong"),y(42,"Pliki cookie"),m(),y(43," to ma\u0142e pliki, kt\xf3re s\u0105 umieszczane na Twoim komputerze, urz\u0105dzeniu mobilnym lub innym urz\u0105dzeniu przez stron\u0119 internetow\u0105, zawieraj\u0105ce szczeg\xf3\u0142y Twojej historii przegl\u0105dania na tej stronie w\u015br\xf3d wielu innych zastosowa\u0144."),m()(),w(44,"li")(45,"p")(46,"strong"),y(47,"Kraj"),m(),y(48," odnosi si\u0119 do: Polska"),m()(),w(49,"li")(50,"p")(51,"strong"),y(52,"Urz\u0105dzenie"),m(),y(53," oznacza ka\u017cde urz\u0105dzenie, kt\xf3re mo\u017ce uzyska\u0107 dost\u0119p do Us\u0142ugi, takie jak komputer, telefon kom\xf3rkowy lub tablet cyfrowy."),m()(),w(54,"li")(55,"p")(56,"strong"),y(57,"Dane osobowe"),m(),y(58," oznaczaj\u0105 wszelkie informacje, kt\xf3re odnosz\u0105 si\u0119 do zidentyfikowanej lub mo\u017cliwej do zidentyfikowania osoby fizycznej."),m()(),w(59,"li")(60,"p")(61,"strong"),y(62,"Us\u0142uga"),m(),y(63," odnosi si\u0119 do strony internetowej."),m()(),w(64,"li")(65,"p")(66,"strong"),y(67,"Dostawca us\u0142ug"),m(),y(68," oznacza ka\u017cd\u0105 osob\u0119 fizyczn\u0105 lub prawn\u0105, kt\xf3ra przetwarza dane w imieniu Firmy. Odnosi si\u0119 do firm trzecich lub os\xf3b fizycznych zatrudnionych przez Firm\u0119 w celu u\u0142atwienia \u015bwiadczenia Us\u0142ugi, \u015bwiadczenia Us\u0142ugi w imieniu Firmy, \u015bwiadczenia us\u0142ug zwi\u0105zanych z Us\u0142ug\u0105 lub udzielania Firmie pomocy w analizie sposobu wykorzystywania Us\u0142ugi."),m()(),w(69,"li")(70,"p")(71,"strong"),y(72,"Dane o u\u017cytkowaniu"),m(),y(73," odnosi si\u0119 do danych zbieranych automatycznie, generowanych przez korzystanie z Us\u0142ugi lub z samej infrastruktury Us\u0142ugi (na przyk\u0142ad czas trwania wizyty na stronie)."),m()(),w(74,"li")(75,"p")(76,"strong"),y(77,"Strona internetowa"),m(),y(78," odnosi si\u0119 do Webaby, dost\u0119pna pod adresem "),w(79,"a",6),y(80,"https://webaby.io"),m()()(),w(81,"li")(82,"p")(83,"strong"),y(84,"Ty"),m(),y(85," oznacza osob\u0119 fizyczn\u0105 uzyskuj\u0105c\u0105 dost\u0119p do Us\u0142ugi lub korzystaj\u0105c\u0105 z Us\u0142ugi, albo firm\u0119, lub inny podmiot prawny, w imieniu kt\xf3rego taka osoba uzyskuje dost\u0119p do Us\u0142ugi lub z niej korzysta, w zale\u017cno\u015bci od przypadku."),m()()(),w(86,"h2"),y(87,"Zbieranie i wykorzystywanie Twoich danych osobowych"),m(),w(88,"h3"),y(89,"Rodzaje zbieranych danych"),m(),w(90,"h4"),y(91,"Dane osobowe"),m(),w(92,"p"),y(93,"Podczas korzystania z naszej Us\u0142ugi mo\u017cemy poprosi\u0107 Ci\u0119 o podanie nam pewnych informacji umo\u017cliwiaj\u0105cych identyfikacj\u0119, kt\xf3re mog\u0105 by\u0107 u\u017cywane do kontaktu z Tob\u0105 lub identyfikacji Ciebie. Informacje umo\u017cliwiaj\u0105ce identyfikacj\u0119 mog\u0105 obejmowa\u0107, ale nie ograniczaj\u0105 si\u0119 do:"),m(),w(94,"ul")(95,"li")(96,"p"),y(97,"Adres e-mail"),m()(),w(98,"li")(99,"p"),y(100,"Dane o u\u017cytkowaniu"),m()()(),w(101,"h4"),y(102,"Dane o u\u017cytkowaniu"),m(),w(103,"p"),y(104,"Dane o u\u017cytkowaniu s\u0105 zbierane automatycznie podczas korzystania z Us\u0142ugi."),m(),w(105,"p"),y(106,"Dane o u\u017cytkowaniu mog\u0105 obejmowa\u0107 takie informacje, jak adres protoko\u0142u internetowego Twojego urz\u0105dzenia (np. adres IP), typ przegl\u0105darki, wersja przegl\u0105darki, strony naszej Us\u0142ugi, kt\xf3re odwiedzasz, czas i data Twojej wizyty, czas sp\u0119dzony na tych stronach, unikalne identyfikatory urz\u0105dze\u0144 i inne dane diagnostyczne."),m(),w(107,"p"),y(108,"Gdy uzyskujesz dost\u0119p do Us\u0142ugi za pomoc\u0105 urz\u0105dzenia mobilnego lub za jego po\u015brednictwem, mo\u017cemy automatycznie zbiera\u0107 pewne informacje, w tym, ale nie wy\u0142\u0105cznie, rodzaj u\u017cywanego urz\u0105dzenia mobilnego, unikalny identyfikator urz\u0105dzenia mobilnego, adres IP urz\u0105dzenia mobilnego, system operacyjny urz\u0105dzenia mobilnego, rodzaj przegl\u0105darki internetowej u\u017cywanej na urz\u0105dzeniu mobilnym, unikalne identyfikatory urz\u0105dze\u0144 i inne dane diagnostyczne."),m(),w(109,"p"),y(110,"Mo\u017cemy r\xf3wnie\u017c zbiera\u0107 informacje, kt\xf3re Twoja przegl\u0105darka wysy\u0142a za ka\u017cdym razem, gdy odwiedzasz nasz\u0105 Us\u0142ug\u0119 lub gdy uzyskujesz dost\u0119p do Us\u0142ugi za pomoc\u0105 urz\u0105dzenia mobilnego lub za jego po\u015brednictwem."),m(),w(111,"h4"),y(112,"Technologie \u015bledzenia i pliki cookie"),m(),w(113,"p"),y(114,"U\u017cywamy plik\xf3w cookie i podobnych technologii \u015bledzenia, aby \u015bledzi\u0107 aktywno\u015b\u0107 na naszej Us\u0142udze i przechowywa\u0107 pewne informacje. Technologie \u015bledzenia, kt\xf3re wykorzystujemy, obejmuj\u0105 beacony, tagi i skrypty do zbierania i \u015bledzenia informacji oraz do ulepszania i analizowania naszej Us\u0142ugi. Technologie, kt\xf3re u\u017cywamy, mog\u0105 obejmowa\u0107:"),m(),w(115,"ul")(116,"li")(117,"strong"),y(118,"Pliki cookie lub przegl\u0105darkowe pliki cookie."),m(),y(119," Cookie to ma\u0142y plik umieszczony na Twoim urz\u0105dzeniu. Mo\u017cesz ustawi\u0107 swoj\u0105 przegl\u0105dark\u0119 tak, aby odrzuca\u0142a wszystkie pliki cookie lub aby wskazywa\u0142a, kiedy plik cookie jest wysy\u0142any. Jednak\u017ce, je\u015bli nie zaakceptujesz plik\xf3w cookie, mo\u017cesz nie by\u0107 w stanie korzysta\u0107 z niekt\xf3rych cz\u0119\u015bci naszej Us\u0142ugi. O ile nie dostosujesz ustawie\u0144 przegl\u0105darki tak, aby odrzuca\u0142a pliki cookie, nasza Us\u0142uga mo\u017ce u\u017cywa\u0107 plik\xf3w cookie."),m(),w(120,"li")(121,"strong"),y(122,"Web beacons."),m(),y(123," Niekt\xf3re sekcje naszej Us\u0142ugi i nasze e-maile mog\u0105 zawiera\u0107 ma\u0142e pliki elektroniczne znane jako web beacons (znane r\xf3wnie\u017c jako clear gifs, pixel tags i single-pixel gifs), kt\xf3re umo\u017cliwiaj\u0105 Firmie, na przyk\u0142ad, liczenie u\u017cytkownik\xf3w, kt\xf3rzy odwiedzili te strony lub otworzyli e-mail oraz inne powi\u0105zane statystyki dotycz\u0105ce strony internetowej (na przyk\u0142ad, rejestrowanie popularno\u015bci danej sekcji i weryfikacja integralno\u015bci systemu i serwera)."),m()(),w(124,"p"),y(125,'Pliki cookie mog\u0105 by\u0107 "sta\u0142e" lub "sesyjne". Sta\u0142e pliki cookie pozostaj\u0105 na Twoim komputerze osobistym lub urz\u0105dzeniu mobilnym, gdy przechodzisz w tryb offline, natomiast sesyjne pliki cookie s\u0105 usuwane natychmiast po zamkni\u0119ciu przegl\u0105darki. Dowiedz si\u0119 wi\u0119cej o plikach cookie na stronie '),w(126,"a",7),y(127,"stronie internetowej Free Privacy Policy"),m(),y(128,"."),m(),w(129,"p"),y(130,"U\u017cywamy zar\xf3wno sesyjnych, jak i sta\u0142ych plik\xf3w cookie do cel\xf3w okre\u015blonych poni\u017cej:"),m(),w(131,"ul")(132,"li")(133,"p")(134,"strong"),y(135,"Niezb\u0119dne / niezb\u0119dne pliki cookie"),m()(),w(136,"p"),y(137,"Rodzaj: Sesyjne pliki cookie"),m(),w(138,"p"),y(139,"Administrowane przez: Nas"),m(),w(140,"p"),y(141,"Cel: Te pliki cookie s\u0105 niezb\u0119dne, aby \u015bwiadczy\u0107 Ci us\u0142ugi dost\u0119pne za po\u015brednictwem Strony internetowej i umo\u017cliwia\u0107 korzystanie z niekt\xf3rych jej funkcji. Pomagaj\u0105 one w uwierzytelnianiu u\u017cytkownik\xf3w i zapobiegaj\u0105 oszustwom zwi\u0105zanym z kontami u\u017cytkownik\xf3w. Bez tych plik\xf3w cookie us\u0142ugi, o kt\xf3re prosi\u0142e\u015b, nie mog\u0105 by\u0107 \u015bwiadczone, a my u\u017cywamy tych plik\xf3w cookie wy\u0142\u0105cznie do \u015bwiadczenia Ci tych us\u0142ug."),m()(),w(142,"li")(143,"p")(144,"strong"),y(145,"Polityka plik\xf3w cookie / Akceptacja powiadomienia o plikach cookie"),m()(),w(146,"p"),y(147,"Rodzaj: Sta\u0142e pliki cookie"),m(),w(148,"p"),y(149,"Administrowane przez: Nas"),m(),w(150,"p"),y(151,"Cel: Te pliki cookie identyfikuj\u0105, czy u\u017cytkownicy zaakceptowali u\u017cycie plik\xf3w cookie na Stronie internetowej."),m()(),w(152,"li")(153,"p")(154,"strong"),y(155,"Pliki cookie dotycz\u0105ce funkcjonalno\u015bci"),m()(),w(156,"p"),y(157,"Rodzaj: Sta\u0142e pliki cookie"),m(),w(158,"p"),y(159,"Administrowane przez: Nas"),m(),w(160,"p"),y(161,"Cel: Te pliki cookie umo\u017cliwiaj\u0105 nam zapami\u0119tywanie wybor\xf3w, kt\xf3rych dokonujesz podczas korzystania ze Strony internetowej, takich jak zapami\u0119tywanie danych logowania lub preferencji j\u0119zykowych. Celem tych plik\xf3w cookie jest zapewnienie Ci bardziej osobistego do\u015bwiadczenia i unikni\u0119cie konieczno\u015bci ponownego wprowadzania preferencji za ka\u017cdym razem, gdy korzystasz ze Strony internetowej."),m()()(),w(162,"p"),y(163,"Aby uzyska\u0107 wi\u0119cej informacji na temat plik\xf3w cookie, kt\xf3rych u\u017cywamy i Twoich wybor\xf3w dotycz\u0105cych plik\xf3w cookie, odwied\u017a nasz\u0105 Polityk\u0119 plik\xf3w cookie lub sekcj\u0119 Pliki cookie w naszej Polityce prywatno\u015bci."),m(),w(164,"h3"),y(165,"Wykorzystywanie Twoich danych osobowych"),m(),w(166,"p"),y(167,"Firma mo\u017ce wykorzystywa\u0107 dane osobowe do nast\u0119puj\u0105cych cel\xf3w:"),m(),w(168,"ul")(169,"li")(170,"p")(171,"strong"),y(172,"\u015awiadczenie i utrzymanie naszej Us\u0142ugi"),m(),y(173,", w tym monitorowanie korzystania z naszej Us\u0142ugi."),m()(),w(174,"li")(175,"p")(176,"strong"),y(177,"Zarz\u0105dzanie Twoim kontem:"),m(),y(178," zarz\u0105dzanie Twoj\u0105 rejestracj\u0105 jako u\u017cytkownika Us\u0142ugi. Dane osobowe, kt\xf3re podajesz, mog\u0105 da\u0107 Ci dost\u0119p do r\xf3\u017cnych funkcji Us\u0142ugi, kt\xf3re s\u0105 dost\u0119pne dla Ciebie jako zarejestrowanego u\u017cytkownika."),m()(),w(179,"li")(180,"p")(181,"strong"),y(182,"Wykonanie umowy:"),m(),y(183," rozw\xf3j, zgodno\u015b\u0107 i realizacja umowy zakupu produkt\xf3w, przedmiot\xf3w lub us\u0142ug, kt\xf3re zakupi\u0142e\u015b lub jakiejkolwiek innej umowy z nami za po\u015brednictwem Us\u0142ugi."),m()(),w(184,"li")(185,"p")(186,"strong"),y(187,"Kontakt z Tob\u0105:"),m(),y(188," Kontakt z Tob\u0105 za pomoc\u0105 poczty elektronicznej, po\u0142\u0105cze\u0144 telefonicznych, SMS-\xf3w lub innych r\xf3wnowa\u017cnych form komunikacji elektronicznej, takich jak powiadomienia push aplikacji mobilnej dotycz\u0105cych aktualizacji lub komunikat\xf3w informacyjnych zwi\u0105zanych z funkcjonalno\u015bciami, produktami lub us\u0142ugami zakontraktowanymi, w tym aktualizacjami zabezpiecze\u0144, gdy jest to konieczne lub uzasadnione do ich wdro\u017cenia."),m()(),w(189,"li")(190,"p")(191,"strong"),y(192,"Przekazywanie Ci"),m(),y(193," wiadomo\u015bci, ofert specjalnych i og\xf3lnych informacji na temat innych towar\xf3w, us\u0142ug i wydarze\u0144, kt\xf3re oferujemy, a kt\xf3re s\u0105 podobne do tych, kt\xf3re ju\u017c zakupi\u0142e\u015b lub o kt\xf3re zapyta\u0142e\u015b, chyba \u017ce zrezygnowa\u0142e\u015b z otrzymywania takich informacji."),m()(),w(194,"li")(195,"p")(196,"strong"),y(197,"Zarz\u0105dzanie Twoimi pro\u015bbami:"),m(),y(198," Aby obs\u0142ugiwa\u0107 i zarz\u0105dza\u0107 Twoimi pro\u015bbami skierowanymi do Nas."),m()(),w(199,"li")(200,"p")(201,"strong"),y(202,"W przypadku transfer\xf3w biznesowych:"),m(),y(203," Mo\u017cemy wykorzystywa\u0107 Twoje informacje do oceny lub przeprowadzenia fuzji, zbycia, restrukturyzacji, reorganizacji, rozwi\u0105zania lub innej sprzeda\u017cy lub transferu ca\u0142o\u015bci lub cz\u0119\u015bci naszych aktyw\xf3w, zar\xf3wno w ramach funkcjonuj\u0105cej firmy, jak i w ramach upad\u0142o\u015bci, likwidacji lub podobnego post\u0119powania, w kt\xf3rym dane osobowe przechowywane przez nas dotycz\u0105ce u\u017cytkownik\xf3w naszej Us\u0142ugi s\u0105 jednym z przenoszonych aktyw\xf3w."),m()(),w(204,"li")(205,"p")(206,"strong"),y(207,"Do innych cel\xf3w:"),m(),y(208," Mo\u017cemy wykorzystywa\u0107 Twoje informacje do innych cel\xf3w, takich jak analiza danych, identyfikacja trend\xf3w u\u017cytkowania, ocena skuteczno\u015bci naszych kampanii promocyjnych oraz ocena i poprawa naszej Us\u0142ugi, produkt\xf3w, us\u0142ug, marketingu i Twojego do\u015bwiadczenia."),m()()(),w(209,"p"),y(210,"Mo\u017cemy udost\u0119pnia\u0107 Twoje dane osobowe w nast\u0119puj\u0105cych sytuacjach:"),m(),w(211,"ul")(212,"li")(213,"strong"),y(214,"Wsp\xf3\u0142pracownikom:"),m(),y(215," Mo\u017cemy udost\u0119pnia\u0107 Twoje dane osobowe wsp\xf3\u0142pracownikom w celu monitorowania i analizowania korzystania z naszej Us\u0142ugi, aby si\u0119 z Tob\u0105 skontaktowa\u0107."),m(),w(216,"li")(217,"strong"),y(218,"W przypadku transfer\xf3w biznesowych:"),m(),y(219," Mo\u017cemy udost\u0119pnia\u0107 lub przekazywa\u0107 Twoje dane osobowe w zwi\u0105zku z, lub podczas negocjacji, fuzji, sprzeda\u017cy aktyw\xf3w Firmy, finansowania lub przej\u0119cia ca\u0142o\u015bci lub cz\u0119\u015bci naszej dzia\u0142alno\u015bci przez inn\u0105 firm\u0119."),m(),w(220,"li")(221,"strong"),y(222,"Podmiotom powi\u0105zanym:"),m(),y(223," Mo\u017cemy udost\u0119pnia\u0107 Twoje informacje naszym podmiotom powi\u0105zanym, w takim przypadku b\u0119dziemy wymaga\u0107 od tych podmiot\xf3w powi\u0105zanych przestrzegania niniejszej Polityki prywatno\u015bci. Podmioty powi\u0105zane obejmuj\u0105 nasz\u0105 sp\xf3\u0142k\u0119 macierzyst\u0105 oraz wszelkie inne sp\xf3\u0142ki zale\u017cne, partner\xf3w joint venture lub inne firmy, kt\xf3re kontrolujemy lub kt\xf3re s\u0105 pod wsp\xf3ln\u0105 kontrol\u0105 z nami."),m(),w(224,"li")(225,"strong"),y(226,"Partnerom biznesowym:"),m(),y(227," Mo\u017cemy udost\u0119pnia\u0107 Twoje informacje naszym partnerom biznesowym w celu oferowania Ci okre\u015blonych produkt\xf3w, us\u0142ug lub promocji."),m(),w(228,"li")(229,"strong"),y(230,"Innym u\u017cytkownikom:"),m(),y(231," Gdy udost\u0119pniasz dane osobowe lub w inny spos\xf3b wchodzisz w interakcje w publicznych obszarach z innymi u\u017cytkownikami, takie informacje mog\u0105 by\u0107 przegl\u0105dane przez wszystkich u\u017cytkownik\xf3w i mog\u0105 by\u0107 publicznie rozpowszechniane na zewn\u0105trz."),m(),w(232,"li")(233,"strong"),y(234,"Za Twoj\u0105 zgod\u0105"),m(),y(235,": Mo\u017cemy ujawnia\u0107 Twoje dane osobowe w dowolnym innym celu za Twoj\u0105 zgod\u0105."),m()(),w(236,"h3"),y(237,"Przechowywanie Twoich danych osobowych"),m(),w(238,"p"),y(239,"Firma b\u0119dzie przechowywa\u0107 Twoje dane osobowe tylko przez okres niezb\u0119dny do realizacji cel\xf3w okre\u015blonych w niniejszej Polityce prywatno\u015bci. B\u0119dziemy przechowywa\u0107 i wykorzystywa\u0107 Twoje dane osobowe w zakresie niezb\u0119dnym do spe\u0142nienia naszych obowi\u0105zk\xf3w prawnych (na przyk\u0142ad, je\u015bli b\u0119dziemy zobowi\u0105zani do zachowania Twoich danych w celu spe\u0142nienia obowi\u0105zuj\u0105cych przepis\xf3w prawa), rozstrzygania spor\xf3w i egzekwowania naszych um\xf3w prawnych i zasad."),m(),w(240,"p"),y(241,"Firma b\u0119dzie r\xf3wnie\u017c przechowywa\u0107 dane o u\u017cytkowaniu do cel\xf3w analizy wewn\u0119trznej. Dane o u\u017cytkowaniu s\u0105 zazwyczaj przechowywane przez kr\xf3tszy okres czasu, z wyj\u0105tkiem przypadk\xf3w, gdy te dane s\u0105 wykorzystywane do wzmocnienia bezpiecze\u0144stwa lub poprawy funkcjonalno\u015bci naszej Us\u0142ugi, albo jeste\u015bmy prawnie zobowi\u0105zani do przechowywania tych danych przez d\u0142u\u017cszy okres czasu."),m(),w(242,"h3"),y(243,"Transfer Twoich danych osobowych"),m(),w(244,"p"),y(245,"Twoje informacje, w tym dane osobowe, s\u0105 przetwarzane w biurach operacyjnych Firmy oraz w innych miejscach, w kt\xf3rych znajduj\u0105 si\u0119 strony zaanga\u017cowane w przetwarzanie. Oznacza to, \u017ce te informacje mog\u0105 by\u0107 przesy\u0142ane do \u2014 i przechowywane na \u2014 komputerach znajduj\u0105cych si\u0119 poza Twoim stanem, prowincj\u0105, krajem lub inn\u0105 jurysdykcj\u0105 rz\u0105dow\u0105, gdzie przepisy o ochronie danych mog\u0105 si\u0119 r\xf3\u017cni\u0107 od przepis\xf3w Twojej jurysdykcji."),m(),w(246,"p"),y(247,"Twoja zgoda na niniejsz\u0105 Polityk\u0119 prywatno\u015bci, a nast\u0119pnie przekazanie takich informacji oznacza Twoj\u0105 zgod\u0119 na ten transfer."),m(),w(248,"p"),y(249,"Firma podejmie wszelkie kroki uzasadnione, aby zapewni\u0107, \u017ce Twoje dane s\u0105 traktowane bezpiecznie i zgodnie z niniejsz\u0105 Polityk\u0105 prywatno\u015bci i \u017caden transfer Twoich danych osobowych nie b\u0119dzie mia\u0142 miejsca do organizacji lub kraju, chyba \u017ce s\u0105 wprowadzone odpowiednie kontrole, w tym bezpiecze\u0144stwo Twoich danych i innych danych osobowych."),m(),w(250,"h3"),y(251,"Usuwanie Twoich danych osobowych"),m(),w(252,"p"),y(253,"Masz prawo do usuni\u0119cia lub \u017c\u0105dania naszej pomocy w usuni\u0119ciu danych osobowych, kt\xf3re zebrali\u015bmy o Tobie."),m(),w(254,"p"),y(255,"Nasza Us\u0142uga mo\u017ce da\u0107 Ci mo\u017cliwo\u015b\u0107 usuni\u0119cia pewnych informacji o Tobie w ramach Us\u0142ugi."),m(),w(256,"p"),y(257,"Mo\u017cesz aktualizowa\u0107, zmienia\u0107 lub usuwa\u0107 swoje informacje w dowolnym momencie, loguj\u0105c si\u0119 na swoje konto, je\u015bli je posiadasz, i odwiedzaj\u0105c sekcj\u0119 ustawie\u0144 konta, kt\xf3ra pozwala zarz\u0105dza\u0107 swoimi danymi osobowymi. Mo\u017cesz r\xf3wnie\u017c skontaktowa\u0107 si\u0119 z nami, aby za\u017c\u0105da\u0107 dost\u0119pu, poprawienia lub usuni\u0119cia wszelkich danych osobowych, kt\xf3re nam przekaza\u0142e\u015b."),m(),w(258,"p"),y(259,"Nale\u017cy jednak pami\u0119ta\u0107, \u017ce mo\u017cemy by\u0107 zobowi\u0105zani do zachowania pewnych informacji, gdy mamy prawny obowi\u0105zek lub uzasadnion\u0105 podstaw\u0119 do ich zachowania."),m(),w(260,"h3"),y(261,"Ujawnianie Twoich danych osobowych"),m(),w(262,"h4"),y(263,"Transakcje biznesowe"),m(),w(264,"p"),y(265,"Je\u015bli Firma jest zaanga\u017cowana w fuzj\u0119, przej\u0119cie lub sprzeda\u017c aktyw\xf3w, Twoje dane osobowe mog\u0105 by\u0107 przekazane. Przed przekazaniem Twoich danych osobowych i poddaniem ich innej polityce prywatno\u015bci, poinformujemy Ci\u0119 o tym."),m(),w(266,"h4"),y(267,"Organom \u015bcigania"),m(),w(268,"p"),y(269,"W okre\u015blonych okoliczno\u015bciach Firma mo\u017ce by\u0107 zobowi\u0105zana do ujawnienia Twoich danych osobowych, je\u015bli jest to wymagane przez prawo lub w odpowiedzi na wa\u017cne wnioski organ\xf3w publicznych (np. s\u0105d lub agencja rz\u0105dowa)."),m(),w(270,"h4"),y(271,"Inne wymagania prawne"),m(),w(272,"p"),y(273,"Firma mo\u017ce ujawnia\u0107 Twoje dane osobowe w dobrej wierze, \u017ce takie dzia\u0142anie jest konieczne do:"),m(),w(274,"ul")(275,"li"),y(276,"Spe\u0142nienia obowi\u0105zku prawnego"),m(),w(277,"li"),y(278,"Ochrony i obrony praw lub w\u0142asno\u015bci Firmy"),m(),w(279,"li"),y(280,"Zapobiegania lub badania mo\u017cliwego niew\u0142a\u015bciwego post\u0119powania w zwi\u0105zku z Us\u0142ug\u0105"),m(),w(281,"li"),y(282,"Ochrony osobistego bezpiecze\u0144stwa u\u017cytkownik\xf3w Us\u0142ugi lub spo\u0142ecze\u0144stwa"),m(),w(283,"li"),y(284,"Ochrony przed odpowiedzialno\u015bci\u0105 prawn\u0105"),m()(),w(285,"h3"),y(286,"Bezpiecze\u0144stwo Twoich danych osobowych"),m(),w(287,"p"),y(288,"Bezpiecze\u0144stwo Twoich danych osobowych jest dla nas wa\u017cne, ale pami\u0119taj, \u017ce \u017cadna metoda transmisji przez Internet, ani metoda przechowywania elektronicznego nie jest w 100% bezpieczna. Podczas gdy staramy si\u0119 u\u017cywa\u0107 komercyjnie akceptowalnych \u015brodk\xf3w do ochrony Twoich danych osobowych, nie mo\u017cemy zagwarantowa\u0107 ich absolutnego bezpiecze\u0144stwa."),m(),w(289,"h2"),y(290,"Prywatno\u015b\u0107 dzieci"),m(),w(291,"p"),y(292,"Nasza Us\u0142uga nie jest skierowana do os\xf3b poni\u017cej 13 roku \u017cycia. Nie zbieramy \u015bwiadomie informacji umo\u017cliwiaj\u0105cych identyfikacj\u0119 od nikogo poni\u017cej 13 roku \u017cycia. Je\u015bli jeste\u015b rodzicem lub opiekunem i jeste\u015b \u015bwiadomy, \u017ce Twoje dziecko przekaza\u0142o nam dane osobowe, skontaktuj si\u0119 z nami. Je\u015bli staniemy si\u0119 \u015bwiadomi, \u017ce zebrali\u015bmy dane osobowe od kogokolwiek poni\u017cej 13 roku \u017cycia bez weryfikacji zgody rodzic\xf3w, podejmiemy kroki w celu usuni\u0119cia tych informacji z naszych serwer\xf3w."),m(),w(293,"p"),y(294,"Je\u015bli musimy polega\u0107 na zgodzie jako podstawie prawnej do przetwarzania Twoich informacji, a Tw\xf3j kraj wymaga zgody rodzica, mo\u017cemy wymaga\u0107 zgody Twojego rodzica przed zebraniem i u\u017cyciem tych informacji."),m(),w(295,"h2"),y(296,"Linki do innych stron internetowych"),m(),w(297,"p"),y(298,"Nasza Us\u0142uga mo\u017ce zawiera\u0107 linki do innych stron internetowych, kt\xf3re nie s\u0105 przez nas obs\u0142ugiwane. Je\u015bli klikniesz link do strony trzeciej, zostaniesz przekierowany na stron\u0119 tej strony trzeciej. Zdecydowanie zalecamy zapoznanie si\u0119 z Polityk\u0105 prywatno\u015bci ka\u017cdej odwiedzanej strony."),m(),w(299,"p"),y(300,"Nie mamy \u017cadnej kontroli i nie ponosimy \u017cadnej odpowiedzialno\u015bci za tre\u015b\u0107, polityki prywatno\u015bci lub praktyki stron trzecich lub us\u0142ug."),m(),w(301,"h2"),y(302,"Zmiany w tej Polityce prywatno\u015bci"),m(),w(303,"p"),y(304,"Od czasu do czasu mo\u017cemy aktualizowa\u0107 nasz\u0105 Polityk\u0119 prywatno\u015bci. Powiadomimy Ci\u0119 o wszelkich zmianach, publikuj\u0105c now\u0105 Polityk\u0119 prywatno\u015bci na tej stronie."),m(),w(305,"p"),y(306,'Poinformujemy Ci\u0119 za pomoc\u0105 wiadomo\u015bci e-mail i/lub wyra\u017anego powiadomienia na naszej Us\u0142udze, zanim zmiana wejdzie w \u017cycie, oraz zaktualizujemy dat\u0119 "Ostatnia aktualizacja" na g\xf3rze niniejszej Polityki prywatno\u015bci.'),m(),w(307,"p"),y(308,"Zalecamy okresowe przegl\u0105danie niniejszej Polityki prywatno\u015bci pod k\u0105tem wszelkich zmian. Zmiany w niniejszej Polityce prywatno\u015bci s\u0105 skuteczne, gdy zostan\u0105 opublikowane na tej stronie."),m(),w(309,"h2"),y(310,"Kontakt z nami"),m(),w(311,"p"),y(312,"Je\u015bli masz jakiekolwiek pytania dotycz\u0105ce niniejszej Polityki prywatno\u015bci, mo\u017cesz skontaktowa\u0107 si\u0119 z nami:"),m(),w(313,"ul")(314,"li"),y(315,"Odwiedzaj\u0105c t\u0119 stron\u0119 na naszej stronie internetowej: "),w(316,"a",6),y(317,"https://webaby.io"),m()()()())}function O5(n,e){if(1&n){const t=qo();w(0,"div",1)(1,"div",2)(2,"span",3),Yi("click",function(){return Wo(t),qi().closeModal()}),y(3,"\xd7"),m(),Ut(4,I5,318,0,"div",4),Ut(5,R5,318,0,"div",4),m()()}if(2&n){const t=qi();Ye(4),ut("ngIf",!t.language_pl),Ye(1),ut("ngIf",t.language_pl)}}let AC=(()=>{class n{constructor(){this.showModal=!0,this.language_pl=!0}closeModal(){this.showModal=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-privacy-policy"]],inputs:{showModal:"showModal",language_pl:"language_pl"},decls:1,vars:1,consts:[["class","modal",4,"ngIf"],[1,"modal"],[1,"modal-content"],[1,"close",3,"click"],[4,"ngIf"],["href","https://www.freeprivacypolicy.com/free-privacy-policy-generator/","target","_blank"],["href","https://webaby.io","rel","external nofollow noopener","target","_blank"],["href","https://www.freeprivacypolicy.com/blog/sample-privacy-policy-template/#Use_Of_Cookies_And_Tracking","target","_blank"]],template:function(t,i){1&t&&Ut(0,O5,6,2,"div",0),2&t&&ut("ngIf",i.showModal)},directives:[fo],styles:[".modal[_ngcontent-%COMP%]{display:block;background-color:#0e215f66;color:#dde9a8;position:fixed;top:0;left:0;width:100%;height:100%}.modal-content[_ngcontent-%COMP%]{background-color:#686286;color:#a4aa8b;margin:15% auto;padding:20px;border:1px solid #888;width:80%}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}a[_ngcontent-%COMP%]:link{color:#d67608}a[_ngcontent-%COMP%]:visited{color:#660707}"]}),n})();function L5(n,e){if(1&n&&(w(0,"div")(1,"div",9),dt(2,"i",10),m()()),2&n){const t=e.$implicit;Ye(2),ut("ngClass",t)}}function N5(n,e){1&n&&ao(0)}function F5(n,e){if(1&n&&(w(0,"div",18),Ut(1,N5,1,0,"ng-container",19),m()),2&n){const t=e.$implicit;Ye(1),ut("ngTemplateOutlet",t)}}function k5(n,e){1&n&&ao(0)}function U5(n,e){if(1&n&&(w(0,"div",20),Ut(1,k5,1,0,"ng-container",19),m()),2&n){const t=e.$implicit;Ye(1),ut("ngTemplateOutlet",t)}}function z5(n,e){1&n&&(w(0,"div"),y(1," This is the main content that remains unchanged."),m())}function B5(n,e){1&n&&ao(0)}function V5(n,e){1&n&&ao(0,22)}const DC=function(n){return{content:n}};function H5(n,e){if(1&n&&Ut(0,V5,1,0,"ng-container",21),2&n){qi();const t=is(4),i=is(8);ut("ngTemplateOutlet",t)("ngTemplateOutletContext",ey(2,DC,i))}}function W5(n,e){1&n&&ao(0,24)}function G5(n,e){if(1&n&&Ut(0,W5,1,0,"ng-container",23),2&n){qi();const t=is(6),i=is(8);ut("ngTemplateOutlet",t)("ngTemplateOutletContext",ey(2,DC,i))}}function j5(n,e){if(1&n&&(w(0,"div",11)(1,"div"),y(2,"here various contents "),m(),Ut(3,F5,2,1,"ng-template",null,12,co),Ut(5,U5,2,1,"ng-template",null,13,co),Ut(7,z5,2,0,"ng-template",null,14,co),Ut(9,B5,1,0,"ng-container",15),Ut(10,H5,1,4,"ng-template",null,16,co),Ut(12,G5,1,4,"ng-template",null,17,co),dt(14,"div"),m()),2&n){const t=is(11),i=is(13),r=qi();Ye(9),ut("ngIf",r.random_boolean)("ngIfThen",t)("ngIfElse",i)}}let PC=(()=>{class n{constructor(t,i){this.cdRef=t,this.router=i,this.visible=!1,this.language_pl=!0,this.bgClass="default-bg",this.showModal=!1,this.icons=["bi bi-youtube h1","bi bi-facebook h1","bi bi-twitter-x h1","bi bi-instagram h1","bi bi-linkedin h1","bi bi-envelope h1","bi bi-discord h1"],this.random_boolean=Math.random()<.5}ngOnInit(){x0().init(),this.router.events.subscribe(t=>{t instanceof Ml&&(this.showModal=!1,console.log("showModal ",this.showModal))})}togglePrivacyPolicyModal(){this.showModal=!this.showModal,this.cdRef.detectChanges(),console.log("Modal should be:",this.showModal)}}return n.\u0275fac=function(t){return new(t||n)(Te(pu),Te(wi))},n.\u0275cmp=Yn({type:n,selectors:[["app-footer"]],inputs:{bgClass:"bgClass"},decls:12,vars:4,consts:[[1,"footer"],[1,"container"],[1,"spaceBetweenBlockAndIcons"],[1,"icons-container"],[4,"ngFor","ngForOf"],[1,"policy_privacy",3,"click"],[3,"showModal","language_pl"],[1,"block"],["class","justTowrapTemporaryUnusedCode",4,"ngIf"],[1,"ibi"],[3,"ngClass"],[1,"justTowrapTemporaryUnusedCode"],["trueCondition",""],["falseCondition",""],["mainContentTemplate",""],[4,"ngIf","ngIfThen","ngIfElse"],["trueBlock",""],["falseBlock",""],[1,"true-condition-wrapper"],[4,"ngTemplateOutlet"],[1,"false-condition-wrapper"],["data-aos","fade-up","data-aos-duration","3000",4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-aos","fade-up","data-aos-duration","3000"],["data-aos","fade-left","data-aos-duration","3000",4,"ngTemplateOutlet","ngTemplateOutletContext"],["data-aos","fade-left","data-aos-duration","3000"]],template:function(t,i){1&t&&(w(0,"footer",0)(1,"div",1),dt(2,"div",2),w(3,"div",3),Ut(4,L5,3,1,"div",4),m(),w(5,"div",5),Yi("click",function(){return i.togglePrivacyPolicyModal()}),y(6,"Privacy Policy"),m(),dt(7,"app-privacy-policy",6),w(8,"div",7)(9,"div"),y(10,"\xa9 2023 Webaby Gaming Company"),m()()(),Ut(11,j5,15,3,"div",8),m()),2&t&&(Ye(4),ut("ngForOf",i.icons),Ye(3),ut("showModal",i.showModal)("language_pl",i.language_pl),Ye(4),ut("ngIf",i.visible))},directives:[Fh,Nh,AC,fo,Hy],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#051223!important}.footer[_ngcontent-%COMP%]{background-color:#051223;color:#dbd8a8;height:10%;width:100%;font-size:2rem}.footer.default-bg[_ngcontent-%COMP%]{background-color:#333!important}.footer.alternate-bg[_ngcontent-%COMP%]{background-color:red}.container[_ngcontent-%COMP%]{width:100%;height:70%;margin-bottom:2%;display:flex;flex-direction:column}.block[_ngcontent-%COMP%]{width:100%;height:100%;margin-bottom:2%}.icons-container[_ngcontent-%COMP%]{width:50vw;height:25vh;display:flex;flex-direction:row;gap:5%;row-gap:6%}.box[_ngcontent-%COMP%]{background-color:#8c8c1a;width:90%;height:90%}.icon[_ngcontent-%COMP%]{width:20vw;height:50vh;font-size:60vh}.ibi[_ngcontent-%COMP%]:hover{animation:ibi 1s ease infinite;color:#e48314}@keyframes ibi{0%{transform:scale(1)}50%{transform:scale(1.5)}to{transform:scale(1)}}.spaceBetweenBlockAndIcons[_ngcontent-%COMP%]{height:1vh}.justTowrapTemporaryUnusedCode[_ngcontent-%COMP%]{color:#fff}.policy-privacy[_ngcontent-%COMP%]{min-width:100%;min-height:100%;font-size:3rem;color:#67b47e}']}),n})();function Y5(n,e){if(1&n){const t=qo();w(0,"app-intro",2),Yi("videoEnded",function(){return Wo(t),qi().handleVideoEnd()}),m()}}let q5=(()=>{class n{constructor(){this.isTrue=!1,this.showVideoPlayer=!1}ngOnInit(){}playVideo(){this.showVideoPlayer=!0}handleVideoEnd(){this.showVideoPlayer=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-main"]],decls:7,vars:1,consts:[["hidden",""],[3,"videoEnded",4,"ngIf"],[3,"videoEnded"]],template:function(t,i){1&t&&(dt(0,"app-navbar",0),w(1,"div"),Ut(2,Y5,1,0,"app-intro",1),w(3,"div"),dt(4,"app-side-menu")(5,"app-main-section"),m(),dt(6,"app-footer"),m()),2&t&&(Ye(2),ut("ngIf",i.showVideoPlayer))},directives:[g5,fo,bC,y5,P5,PC],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}body[_ngcontent-%COMP%]{font-family:serif sans-serif monospace;font-size:3em;color:#faebd7!important;background-color:#000!important}.container[_ngcontent-%COMP%]{width:100%}.logo-and-text[_ngcontent-%COMP%]{display:flex;align-items:center}']}),n})(),$5=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-pagenotfound"]],decls:15,vars:0,consts:[[1,"pnf-container"],[1,"bird"],["src","./../../assets/pageNotFound.png",2,"z-index","999","width","40%","height","40%"],[1,"text-container"],[1,"goback"],["routerLink","/"],[1,"waveWrapper","waveAnimation"],[1,"waveWrapperInner","bgTop"],[1,"wave","waveTop",2,"background-image","url('http://front-end-noobs.com/jecko/img/wave-top.png')"],[1,"waveWrapperInner","bgMiddle"],[1,"wave","waveMiddle",2,"background-image","url('http://front-end-noobs.com/jecko/img/wave-mid.png')"],[1,"waveWrapperInner","bgBottom"],[1,"wave","waveBottom",2,"background-image","url('http://front-end-noobs.com/jecko/img/wave-bot.png')"]],template:function(t,i){1&t&&(w(0,"body")(1,"div",0)(2,"div",1),dt(3,"img",2),w(4,"div",3)(5,"div",4)(6,"a",5),y(7," GO BACK TO WEBABY"),m()()()()(),w(8,"div",6)(9,"div",7),dt(10,"div",8),m(),w(11,"div",9),dt(12,"div",10),m(),w(13,"div",11),dt(14,"div",12),m()()())},directives:[Ou],styles:["*[_ngcontent-%COMP%]{margin:0;padding:0}section[_ngcontent-%COMP%]{position:relative;width:100%;height:50vh;background:#3586ff;overflow:hidden}section[_ngcontent-%COMP%]   .air[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;width:100%;height:100%;background:url(wave.9dc57b1c83cc1baf.png);background-size:100% 50%}section[_ngcontent-%COMP%]   .air.air1[_ngcontent-%COMP%]{animation:wave 30s linear infinite;z-index:10;opacity:1;animation-delay:0s;bottom:0}section[_ngcontent-%COMP%]   .air.air2[_ngcontent-%COMP%]{animation:wave2 15s linear infinite;z-index:9;opacity:.5;animation-delay:-5s;bottom:10px}section[_ngcontent-%COMP%]   .air.air3[_ngcontent-%COMP%]{animation:wave 30s linear infinite;z-index:8;opacity:.2;animation-delay:-2s;bottom:15px}section[_ngcontent-%COMP%]   .air.air4[_ngcontent-%COMP%]{animation:wave2 5s linear infinite;z-index:7;opacity:.7;animation-delay:-5s;bottom:40px}@keyframes wave{0%{background-position-x:0px}to{background-position-x:1000px}}@keyframes wave2{0%{background-position-x:0px}to{background-position-x:-1000px}}.bird[_ngcontent-%COMP%]{color:#f0e8ea;font-style:Roboto;font-size:7em;margin-top:0;z-index:999;width:100%;height:100%}body[_ngcontent-%COMP%]{margin:0;padding:0;font-family:Raleway,sans-serif;background-color:#000}.text-container[_ngcontent-%COMP%]{height:50%;width:110%;display:flex;justify-content:center;align-items:flex-start;font-size:2vw;font-family:Roboto,sans-serif;letter-spacing:-1rem;font-weight:600}.text-container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#e1e1e103;background-image:url(animated-background2.9f241ec046b47fb8.jpg);background-repeat:repeat;-webkit-background-clip:text;background-clip:text;animation:animate 15s ease-in-out infinite;text-align:center;text-transform:uppercase;width:100%;height:50%}.goback[_ngcontent-%COMP%]{margin-left:12%;width:100%;height:100%}@keyframes animate{0%,to{background-position:left top}25%{background-position:right bottom}50%{background-position:left bottom}75%{background-position:right top}}a[_ngcontent-%COMP%]{font-size:4em;width:100vw;height:auto}a[_ngcontent-%COMP%]:link, a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]:active{text-decoration:none}@keyframes move_wave{0%{transform:translate(0) translateZ(0) scaleY(1)}50%{transform:translate(-25%) translateZ(0) scaleY(.55)}to{transform:translate(-50%) translateZ(0) scaleY(1)}}.waveWrapper[_ngcontent-%COMP%]{overflow:hidden;position:absolute;inset:0;margin:auto}.waveWrapperInner[_ngcontent-%COMP%]{position:absolute;width:100%;overflow:hidden;height:50%;bottom:-1px;background-image:linear-gradient(to top,#86377b 20%,#27273c 80%)}.bgTop[_ngcontent-%COMP%]{z-index:15;opacity:.5}.bgMiddle[_ngcontent-%COMP%]{z-index:10;opacity:.75}.bgBottom[_ngcontent-%COMP%]{z-index:5}.wave[_ngcontent-%COMP%]{position:absolute;left:0;width:200%;height:100%;background-repeat:repeat no-repeat;background-position:0 bottom;transform-origin:center bottom}.waveTop[_ngcontent-%COMP%]{background-size:50% 100px}.waveAnimation[_ngcontent-%COMP%]   .waveTop[_ngcontent-%COMP%]{animation:move-wave 3s;-webkit-animation:move-wave 3s;animation-delay:1s}.waveMiddle[_ngcontent-%COMP%]{background-size:50% 120px}.waveAnimation[_ngcontent-%COMP%]   .waveMiddle[_ngcontent-%COMP%]{animation:move_wave 10s linear infinite}.waveBottom[_ngcontent-%COMP%]{background-size:50% 100px}.waveAnimation[_ngcontent-%COMP%]   .waveBottom[_ngcontent-%COMP%]{animation:move_wave 15s linear infinite}.pnf-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;align-content:center;row-gap:2vh;width:100%;height:40%}.btn-round[_ngcontent-%COMP%]{font-size:3vw;font-family:Franklin,sans-serif;padding:2%}"]}),n})();function IC(n,e,t,i,r,s,o){try{var a=n[s](o),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}const bi=1001,In=1003,Rn=1006,na=1008,bo=1009,xo=1014,Ns=1015,ku=1016,ia=1020,gr=1023,ra=1026,Il=1027,sa=3001,rn="srgb",ls="srgb-linear",gf="display-p3",Fs=2e3;class Ll{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const ai=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],la=Math.PI/180,Nl=180/Math.PI;function Xi(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(ai[255&n]+ai[n>>8&255]+ai[n>>16&255]+ai[n>>24&255]+"-"+ai[255&e]+ai[e>>8&255]+"-"+ai[e>>16&15|64]+ai[e>>24&255]+"-"+ai[63&t|128]+ai[t>>8&255]+"-"+ai[t>>16&255]+ai[t>>24&255]+ai[255&i]+ai[i>>8&255]+ai[i>>16&255]+ai[i>>24&255]).toLowerCase()}function mn(n,e,t){return Math.max(e,Math.min(t,n))}function Uu(n,e,t){return(1-t)*n+t*e}function U0(n){return 0==(n&n-1)&&0!==n}function _f(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Li(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ft(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class ne{constructor(e=0,t=0){ne.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class wt{constructor(e,t,i,r,s,o,a,l,c){wt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],d=i[7],h=i[2],f=i[5],p=i[8],_=r[0],v=r[3],g=r[6],x=r[1],b=r[4],M=r[7],E=r[2],T=r[5],D=r[8];return s[0]=o*_+a*x+l*E,s[3]=o*v+a*b+l*T,s[6]=o*g+a*M+l*D,s[1]=c*_+u*x+d*E,s[4]=c*v+u*b+d*T,s[7]=c*g+u*M+d*D,s[2]=h*_+f*x+p*E,s[5]=h*v+f*b+p*T,s[8]=h*g+f*M+p*D,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=u*o-a*c,h=a*l-u*s,f=c*s-o*l,p=t*d+i*h+r*f;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const _=1/p;return e[0]=d*_,e[1]=(r*c-u*i)*_,e[2]=(a*i-r*o)*_,e[3]=h*_,e[4]=(u*t-r*l)*_,e[5]=(r*s-a*t)*_,e[6]=f*_,e[7]=(i*l-c*t)*_,e[8]=(o*t-i*s)*_,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(z0.makeScale(e,t)),this}rotate(e){return this.premultiply(z0.makeRotation(-e)),this}translate(e,t){return this.premultiply(z0.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const z0=new wt;function ST(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function zu(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function cH(){const n=zu("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const ET={};function Bu(n){n in ET||(ET[n]=!0,console.warn(n))}function kl(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function B0(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}const uH=(new wt).fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),dH=(new wt).fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]),pH={[ls]:n=>n,[rn]:n=>n.convertSRGBToLinear(),[gf]:function hH(n){return n.convertSRGBToLinear().applyMatrix3(dH)}},mH={[ls]:n=>n,[rn]:n=>n.convertLinearToSRGB(),[gf]:function fH(n){return n.applyMatrix3(uH).convertLinearToSRGB()}},Br={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return ls},set workingColorSpace(n){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(n,e,t){if(!1===this.enabled||e===t||!e||!t)return n;const i=pH[e],r=mH[t];if(void 0===i||void 0===r)throw new Error(`Unsupported color space conversion, "${e}" to "${t}".`);return r(i(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this.workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this.workingColorSpace)}};let Ul;class CT{static getDataURL(e){if(/^data:/i.test(e.src)||"undefined"==typeof HTMLCanvasElement)return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Ul&&(Ul=zu("canvas")),Ul.width=e.width,Ul.height=e.height;const i=Ul.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=Ul}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if("undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap){const t=zu("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*kl(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*kl(t[i]/255)):kl(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let gH=0;class zl{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:gH++}),this.uuid=Xi(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(V0(r[o].isDataTexture?r[o].image:r[o]))}else s=V0(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function V0(n){return"undefined"!=typeof HTMLImageElement&&n instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&n instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&n instanceof ImageBitmap?CT.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yH=0,Mo=(()=>{class n extends Ll{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=bi,s=bi,o=Rn,a=na,l=gr,c=bo,u=n.DEFAULT_ANISOTROPY,d=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yH++}),this.uuid=Xi(),this.name="",this.source=new zl(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=l,this.internalFormat=null,this.type=c,this.offset=new ne(0,0),this.repeat=new ne(1,1),this.center=new ne(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new wt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof d?this.colorSpace=d:(Bu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=d===sa?rn:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case bi:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case bi:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Bu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===rn?sa:3e3}set encoding(t){Bu("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===sa?rn:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class $t{constructor(e=0,t=0,i=0,r=1){$t.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],d=l[8],h=l[1],f=l[5],p=l[9],_=l[2],v=l[6],g=l[10];if(Math.abs(u-h)<.01&&Math.abs(d-_)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+h)<.1&&Math.abs(d+_)<.1&&Math.abs(p+v)<.1&&Math.abs(c+f+g-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,M=(f+1)/2,E=(g+1)/2,T=(u+h)/4,D=(d+_)/4,L=(p+v)/4;return b>M&&b>E?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=T/i,s=D/i):M>E?M<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(M),i=T/r,s=L/r):E<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(E),i=D/s,r=L/s),this.set(i,r,s,t),this}let x=Math.sqrt((v-p)*(v-p)+(d-_)*(d-_)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(v-p)/x,this.y=(d-_)/x,this.z=(h-u)/x,this.w=Math.acos((c+f+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class vH extends Ll{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new $t(0,0,e,t),this.scissorTest=!1,this.viewport=new $t(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(Bu("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===sa?rn:""),this.texture=new Mo(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.internalFormat=void 0!==i.internalFormat?i.internalFormat:null,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:Rn,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null,this.samples=void 0!==i.samples?i.samples:0}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new zl(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ca extends vH{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class H0 extends Mo{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class TT extends Mo{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=In,this.minFilter=In,this.wrapR=bi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Zi{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],d=i[r+3];const h=s[o+0],f=s[o+1],p=s[o+2],_=s[o+3];if(0===a)return e[t+0]=l,e[t+1]=c,e[t+2]=u,void(e[t+3]=d);if(1===a)return e[t+0]=h,e[t+1]=f,e[t+2]=p,void(e[t+3]=_);if(d!==_||l!==h||c!==f||u!==p){let v=1-a;const g=l*h+c*f+u*p+d*_,x=g>=0?1:-1,b=1-g*g;if(b>Number.EPSILON){const E=Math.sqrt(b),T=Math.atan2(E,g*x);v=Math.sin(v*T)/E,a=Math.sin(a*T)/E}const M=a*x;if(l=l*v+h*M,c=c*v+f*M,u=u*v+p*M,d=d*v+_*M,v===1-a){const E=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=E,c*=E,u*=E,d*=E}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=d}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],d=s[o],h=s[o+1],f=s[o+2],p=s[o+3];return e[t]=a*p+u*d+l*f-c*h,e[t+1]=l*p+u*h+c*d-a*f,e[t+2]=c*p+u*f+a*h-l*d,e[t+3]=u*p-a*d-l*h-c*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),d=a(s/2),h=l(i/2),f=l(r/2),p=l(s/2);switch(o){case"XYZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"YXZ":this._x=h*u*d+c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"ZXY":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d-h*f*p;break;case"ZYX":this._x=h*u*d-c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d+h*f*p;break;case"YZX":this._x=h*u*d+c*f*p,this._y=c*f*d+h*u*p,this._z=c*u*p-h*f*d,this._w=c*u*d-h*f*p;break;case"XZY":this._x=h*u*d-c*f*p,this._y=c*f*d-h*u*p,this._z=c*u*p+h*f*d,this._w=c*u*d+h*f*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],d=t[10],h=i+a+d;if(h>0){const f=.5/Math.sqrt(h+1);this._w=.25/f,this._x=(u-l)*f,this._y=(s-c)*f,this._z=(o-r)*f}else if(i>a&&i>d){const f=2*Math.sqrt(1+i-a-d);this._w=(u-l)/f,this._x=.25*f,this._y=(r+o)/f,this._z=(s+c)/f}else if(a>d){const f=2*Math.sqrt(1+a-i-d);this._w=(s-c)/f,this._x=(r+o)/f,this._y=.25*f,this._z=(l+u)/f}else{const f=2*Math.sqrt(1+d-i-a);this._w=(o-r)/f,this._x=(s+c)/f,this._y=(l+u)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(mn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const f=1-t;return this._w=f*o+t*this._w,this._x=f*i+t*this._x,this._y=f*r+t*this._y,this._z=f*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),d=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*d+this._w*h,this._x=i*d+this._x*h,this._y=r*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class I{constructor(e=0,t=0,i=0){I.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(AT.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(AT.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*t+o*r-a*i,u=l*i+a*t-s*r,d=l*r+s*i-o*t,h=-s*t-o*i-a*r;return this.x=c*l+h*-s+u*-a-d*-o,this.y=u*l+h*-o+d*-s-c*-a,this.z=d*l+h*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return W0.copy(this).projectOnVector(e),this.sub(W0)}reflect(e){return this.sub(W0.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(mn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const W0=new I,AT=new Zi;class ks{constructor(e=new I(1/0,1/0,1/0),t=new I(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(zs.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(zs.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=zs.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){if(e.updateWorldMatrix(!1,!1),void 0!==e.boundingBox)null===e.boundingBox&&e.computeBoundingBox(),Bl.copy(e.boundingBox),Bl.applyMatrix4(e.matrixWorld),this.union(Bl);else{const r=e.geometry;if(void 0!==r)if(t&&void 0!==r.attributes&&void 0!==r.attributes.position){const s=r.attributes.position;for(let o=0,a=s.count;o<a;o++)zs.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint(zs)}else null===r.boundingBox&&r.computeBoundingBox(),Bl.copy(r.boundingBox),Bl.applyMatrix4(e.matrixWorld),this.union(Bl)}const i=e.children;for(let r=0,s=i.length;r<s;r++)this.expandByObject(i[r],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,zs),zs.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Vu),wf.subVectors(this.max,Vu),Vl.subVectors(e.a,Vu),Hl.subVectors(e.b,Vu),Wl.subVectors(e.c,Vu),So.subVectors(Hl,Vl),Eo.subVectors(Wl,Hl),ua.subVectors(Vl,Wl);let t=[0,-So.z,So.y,0,-Eo.z,Eo.y,0,-ua.z,ua.y,So.z,0,-So.x,Eo.z,0,-Eo.x,ua.z,0,-ua.x,-So.y,So.x,0,-Eo.y,Eo.x,0,-ua.y,ua.x,0];return!(!G0(t,Vl,Hl,Wl,wf)||(t=[1,0,0,0,1,0,0,0,1],!G0(t,Vl,Hl,Wl,wf)))&&(bf.crossVectors(So,Eo),t=[bf.x,bf.y,bf.z],G0(t,Vl,Hl,Wl,wf))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,zs).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(zs).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Us[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Us[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Us[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Us[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Us[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Us[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Us[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Us[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Us)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Us=[new I,new I,new I,new I,new I,new I,new I,new I],zs=new I,Bl=new ks,Vl=new I,Hl=new I,Wl=new I,So=new I,Eo=new I,ua=new I,Vu=new I,wf=new I,bf=new I,da=new I;function G0(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){da.fromArray(n,s);const a=r.x*Math.abs(da.x)+r.y*Math.abs(da.y)+r.z*Math.abs(da.z),l=e.dot(da),c=t.dot(da),u=i.dot(da);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const _H=new ks,Hu=new I,j0=new I;class cs{constructor(e=new I,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):_H.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Hu.subVectors(e,this.center);const t=Hu.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(Hu,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(j0.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Hu.copy(e.center).add(j0)),this.expandByPoint(Hu.copy(e.center).sub(j0))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Bs=new I,Y0=new I,xf=new I,Co=new I,q0=new I,Mf=new I,$0=new I;class Wu{constructor(e=new I,t=new I(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Bs)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Bs.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Bs.copy(this.origin).addScaledVector(this.direction,t),Bs.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){Y0.copy(e).add(t).multiplyScalar(.5),xf.copy(t).sub(e).normalize(),Co.copy(this.origin).sub(Y0);const s=.5*e.distanceTo(t),o=-this.direction.dot(xf),a=Co.dot(this.direction),l=-Co.dot(xf),c=Co.lengthSq(),u=Math.abs(1-o*o);let d,h,f,p;if(u>0)if(d=o*l-a,h=o*a-l,p=s*u,d>=0)if(h>=-p)if(h<=p){const _=1/u;d*=_,h*=_,f=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;else h<=-p?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c):h<=p?(d=0,h=Math.min(Math.max(-s,-l),s),f=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),f=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),f=-d*d+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,d),r&&r.copy(Y0).addScaledVector(xf,h),f}intersectSphere(e,t){Bs.subVectors(e.center,this.origin);const i=Bs.dot(this.direction),r=Bs.dot(Bs)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:this.at(a<0?l:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),i>l||a>r)||((a>i||i!=i)&&(i=a),(l<r||r!=r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Bs)}intersectTriangle(e,t,i,r,s){q0.subVectors(t,e),Mf.subVectors(i,e),$0.crossVectors(q0,Mf);let a,o=this.direction.dot($0);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Co.subVectors(this.origin,e);const l=a*this.direction.dot(Mf.crossVectors(Co,Mf));if(l<0)return null;const c=a*this.direction.dot(q0.cross(Co));if(c<0||l+c>o)return null;const u=-a*Co.dot($0);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class st{constructor(e,t,i,r,s,o,a,l,c,u,d,h,f,p,_,v){st.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,l,c,u,d,h,f,p,_,v)}set(e,t,i,r,s,o,a,l,c,u,d,h,f,p,_,v){const g=this.elements;return g[0]=e,g[4]=t,g[8]=i,g[12]=r,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=d,g[14]=h,g[3]=f,g[7]=p,g[11]=_,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new st).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Gl.setFromMatrixColumn(e,0).length(),s=1/Gl.setFromMatrixColumn(e,1).length(),o=1/Gl.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),d=Math.sin(s);if("XYZ"===e.order){const h=o*u,f=o*d,p=a*u,_=a*d;t[0]=l*u,t[4]=-l*d,t[8]=c,t[1]=f+p*c,t[5]=h-_*c,t[9]=-a*l,t[2]=_-h*c,t[6]=p+f*c,t[10]=o*l}else if("YXZ"===e.order){const h=l*u,f=l*d,p=c*u,_=c*d;t[0]=h+_*a,t[4]=p*a-f,t[8]=o*c,t[1]=o*d,t[5]=o*u,t[9]=-a,t[2]=f*a-p,t[6]=_+h*a,t[10]=o*l}else if("ZXY"===e.order){const h=l*u,f=l*d,p=c*u,_=c*d;t[0]=h-_*a,t[4]=-o*d,t[8]=p+f*a,t[1]=f+p*a,t[5]=o*u,t[9]=_-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if("ZYX"===e.order){const h=o*u,f=o*d,p=a*u,_=a*d;t[0]=l*u,t[4]=p*c-f,t[8]=h*c+_,t[1]=l*d,t[5]=_*c+h,t[9]=f*c-p,t[2]=-c,t[6]=a*l,t[10]=o*l}else if("YZX"===e.order){const h=o*l,f=o*c,p=a*l,_=a*c;t[0]=l*u,t[4]=_-h*d,t[8]=p*d+f,t[1]=d,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=f*d+p,t[10]=h-_*d}else if("XZY"===e.order){const h=o*l,f=o*c,p=a*l,_=a*c;t[0]=l*u,t[4]=-d,t[8]=c*u,t[1]=h*d+_,t[5]=o*u,t[9]=f*d-p,t[2]=p*d-f,t[6]=a*u,t[10]=_*d+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(wH,e,bH)}lookAt(e,t,i){const r=this.elements;return Ki.subVectors(e,t),0===Ki.lengthSq()&&(Ki.z=1),Ki.normalize(),To.crossVectors(i,Ki),0===To.lengthSq()&&(1===Math.abs(i.z)?Ki.x+=1e-4:Ki.z+=1e-4,Ki.normalize(),To.crossVectors(i,Ki)),To.normalize(),Sf.crossVectors(Ki,To),r[0]=To.x,r[4]=Sf.x,r[8]=Ki.x,r[1]=To.y,r[5]=Sf.y,r[9]=Ki.y,r[2]=To.z,r[6]=Sf.z,r[10]=Ki.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],d=i[5],h=i[9],f=i[13],p=i[2],_=i[6],v=i[10],g=i[14],x=i[3],b=i[7],M=i[11],E=i[15],T=r[0],D=r[4],L=r[8],S=r[12],A=r[1],Y=r[5],ee=r[9],B=r[13],V=r[2],j=r[6],k=r[10],F=r[14],U=r[3],$=r[7],J=r[11],z=r[15];return s[0]=o*T+a*A+l*V+c*U,s[4]=o*D+a*Y+l*j+c*$,s[8]=o*L+a*ee+l*k+c*J,s[12]=o*S+a*B+l*F+c*z,s[1]=u*T+d*A+h*V+f*U,s[5]=u*D+d*Y+h*j+f*$,s[9]=u*L+d*ee+h*k+f*J,s[13]=u*S+d*B+h*F+f*z,s[2]=p*T+_*A+v*V+g*U,s[6]=p*D+_*Y+v*j+g*$,s[10]=p*L+_*ee+v*k+g*J,s[14]=p*S+_*B+v*F+g*z,s[3]=x*T+b*A+M*V+E*U,s[7]=x*D+b*Y+M*j+E*$,s[11]=x*L+b*ee+M*k+E*J,s[15]=x*S+b*B+M*F+E*z,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],d=e[6],h=e[10],f=e[14];return e[3]*(+s*l*d-r*c*d-s*a*h+i*c*h+r*a*f-i*l*f)+e[7]*(+t*l*f-t*c*h+s*o*h-r*o*f+r*c*u-s*l*u)+e[11]*(+t*c*d-t*a*f-s*o*d+i*o*f+s*a*u-i*c*u)+e[15]*(-r*a*u-t*l*d+t*a*h+r*o*d-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],d=e[9],h=e[10],f=e[11],p=e[12],_=e[13],v=e[14],g=e[15],x=d*v*c-_*h*c+_*l*f-a*v*f-d*l*g+a*h*g,b=p*h*c-u*v*c-p*l*f+o*v*f+u*l*g-o*h*g,M=u*_*c-p*d*c+p*a*f-o*_*f-u*a*g+o*d*g,E=p*d*l-u*_*l-p*a*h+o*_*h+u*a*v-o*d*v,T=t*x+i*b+r*M+s*E;if(0===T)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const D=1/T;return e[0]=x*D,e[1]=(_*h*s-d*v*s-_*r*f+i*v*f+d*r*g-i*h*g)*D,e[2]=(a*v*s-_*l*s+_*r*c-i*v*c-a*r*g+i*l*g)*D,e[3]=(d*l*s-a*h*s-d*r*c+i*h*c+a*r*f-i*l*f)*D,e[4]=b*D,e[5]=(u*v*s-p*h*s+p*r*f-t*v*f-u*r*g+t*h*g)*D,e[6]=(p*l*s-o*v*s-p*r*c+t*v*c+o*r*g-t*l*g)*D,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*f+t*l*f)*D,e[8]=M*D,e[9]=(p*d*s-u*_*s-p*i*f+t*_*f+u*i*g-t*d*g)*D,e[10]=(o*_*s-p*a*s+p*i*c-t*_*c-o*i*g+t*a*g)*D,e[11]=(u*a*s-o*d*s-u*i*c+t*d*c+o*i*f-t*a*f)*D,e[12]=E*D,e[13]=(u*_*r-p*d*r+p*i*h-t*_*h-u*i*v+t*d*v)*D,e[14]=(p*a*r-o*_*r-p*i*l+t*_*l+o*i*v-t*a*v)*D,e[15]=(o*d*r-u*a*r+u*i*l-t*d*l-o*i*h+t*a*h)*D,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,d=a+a,h=s*c,f=s*u,p=s*d,_=o*u,v=o*d,g=a*d,x=l*c,b=l*u,M=l*d,E=i.x,T=i.y,D=i.z;return r[0]=(1-(_+g))*E,r[1]=(f+M)*E,r[2]=(p-b)*E,r[3]=0,r[4]=(f-M)*T,r[5]=(1-(h+g))*T,r[6]=(v+x)*T,r[7]=0,r[8]=(p+b)*D,r[9]=(v-x)*D,r[10]=(1-(h+_))*D,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Gl.set(r[0],r[1],r[2]).length();const o=Gl.set(r[4],r[5],r[6]).length(),a=Gl.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],Vr.copy(this);const c=1/s,u=1/o,d=1/a;return Vr.elements[0]*=c,Vr.elements[1]*=c,Vr.elements[2]*=c,Vr.elements[4]*=u,Vr.elements[5]*=u,Vr.elements[6]*=u,Vr.elements[8]*=d,Vr.elements[9]*=d,Vr.elements[10]*=d,t.setFromRotationMatrix(Vr),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Fs){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),d=(t+e)/(t-e),h=(i+r)/(i-r);let f,p;if(a===Fs)f=-(o+s)/(o-s),p=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);f=-o/(o-s),p=-o*s/(o-s)}return l[0]=c,l[4]=0,l[8]=d,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Fs){const l=this.elements,c=1/(t-e),u=1/(i-r),d=1/(o-s),h=(t+e)*c,f=(i+r)*u;let p,_;if(a===Fs)p=(o+s)*d,_=-2*d;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);p=s*d,_=-1*d}return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=_,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Gl=new I,Vr=new st,wH=new I(0,0,0),bH=new I(1,1,1),To=new I,Sf=new I,Ki=new I,DT=new st,PT=new Zi;let xH=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],l=s[8],c=s[1],u=s[5],d=s[9],h=s[2],f=s[6],p=s[10];switch(i){case"XYZ":this._y=Math.asin(mn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,p),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,u),this._z=0);break;case"YXZ":this._x=Math.asin(-mn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(c,u)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(mn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(c,o));break;case"ZYX":this._y=Math.asin(-mn(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(f,p),this._z=Math.atan2(c,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(mn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-d,u),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(l,p));break;case"XZY":this._z=Math.asin(-mn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,u),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-d,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return DT.makeRotationFromQuaternion(t),this.setFromRotationMatrix(DT,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return PT.setFromEuler(this),this.setFromQuaternion(PT,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class X0{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let MH=0;const IT=new I,jl=new Zi,Vs=new st,Ef=new I,Gu=new I,SH=new I,EH=new Zi,RT=new I(1,0,0),OT=new I(0,1,0),LT=new I(0,0,1),CH={type:"added"},TH={type:"removed"};let yr=(()=>{class n extends Ll{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:MH++}),this.uuid=Xi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new I,i=new xH,r=new Zi,s=new I(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new st},normalMatrix:{value:new wt}}),this.matrix=new st,this.matrixWorld=new st,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new X0,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return jl.setFromAxisAngle(t,i),this.quaternion.multiply(jl),this}rotateOnWorldAxis(t,i){return jl.setFromAxisAngle(t,i),this.quaternion.premultiply(jl),this}rotateX(t){return this.rotateOnAxis(RT,t)}rotateY(t){return this.rotateOnAxis(OT,t)}rotateZ(t){return this.rotateOnAxis(LT,t)}translateOnAxis(t,i){return IT.copy(t).applyQuaternion(this.quaternion),this.position.add(IT.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(RT,t)}translateY(t){return this.translateOnAxis(OT,t)}translateZ(t){return this.translateOnAxis(LT,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Vs.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?Ef.copy(t):Ef.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),Gu.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Vs.lookAt(Gu,Ef,this.up):Vs.lookAt(Ef,Gu,this.up),this.quaternion.setFromRotationMatrix(Vs),s&&(Vs.extractRotation(s.matrixWorld),jl.setFromRotationMatrix(Vs),this.quaternion.premultiply(jl.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(CH)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(TH)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Vs.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Vs.multiply(t.parent.matrixWorld)),t.applyMatrix4(Vs),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gu,t,SH),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Gu,EH,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const l=s[o];!0===l.matrixWorldAutoUpdate&&l.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(l,c){return void 0===l[c.uuid]&&(l[c.uuid]=c.toJSON(t)),c.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const l=this.geometry.parameters;if(void 0!==l&&void 0!==l.shapes){const c=l.shapes;if(Array.isArray(c))for(let u=0,d=c.length;u<d;u++)o(t.shapes,c[u]);else o(t.shapes,c)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const l=[];for(let c=0,u=this.material.length;c<u;c++)l.push(o(t.materials,this.material[c]));s.material=l}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let l=0;l<this.children.length;l++)s.children.push(this.children[l].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let l=0;l<this.animations.length;l++)s.animations.push(o(t.animations,this.animations[l]))}if(i){const l=a(t.geometries),c=a(t.materials),u=a(t.textures),d=a(t.images),h=a(t.shapes),f=a(t.skeletons),p=a(t.animations),_=a(t.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),u.length>0&&(r.textures=u),d.length>0&&(r.images=d),h.length>0&&(r.shapes=h),f.length>0&&(r.skeletons=f),p.length>0&&(r.animations=p),_.length>0&&(r.nodes=_)}return r.object=s,r;function a(l){const c=[];for(const u in l){const d=l[u];delete d.metadata,c.push(d)}return c}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new I(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const Hr=new I,Hs=new I,Z0=new I,Ws=new I,Yl=new I,ql=new I,NT=new I,K0=new I,Q0=new I,J0=new I;let Cf=!1;class Qi{constructor(e=new I,t=new I,i=new I){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),Hr.subVectors(e,t),r.cross(Hr);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){Hr.subVectors(r,t),Hs.subVectors(i,t),Z0.subVectors(e,t);const o=Hr.dot(Hr),a=Hr.dot(Hs),l=Hr.dot(Z0),c=Hs.dot(Hs),u=Hs.dot(Z0),d=o*c-a*a;if(0===d)return s.set(-2,-1,-1);const h=1/d,f=(c*l-a*u)*h,p=(o*u-a*l)*h;return s.set(1-f-p,p,f)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Ws),Ws.x>=0&&Ws.y>=0&&Ws.x+Ws.y<=1}static getUV(e,t,i,r,s,o,a,l){return!1===Cf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Cf=!0),this.getInterpolation(e,t,i,r,s,o,a,l)}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,Ws),l.setScalar(0),l.addScaledVector(s,Ws.x),l.addScaledVector(o,Ws.y),l.addScaledVector(a,Ws.z),l}static isFrontFacing(e,t,i,r){return Hr.subVectors(i,t),Hs.subVectors(e,t),Hr.cross(Hs).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Hr.subVectors(this.c,this.b),Hs.subVectors(this.a,this.b),.5*Hr.cross(Hs).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Qi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Qi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===Cf&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),Cf=!0),Qi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return Qi.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Qi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Qi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;Yl.subVectors(r,i),ql.subVectors(s,i),K0.subVectors(e,i);const l=Yl.dot(K0),c=ql.dot(K0);if(l<=0&&c<=0)return t.copy(i);Q0.subVectors(e,r);const u=Yl.dot(Q0),d=ql.dot(Q0);if(u>=0&&d<=u)return t.copy(r);const h=l*d-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(Yl,o);J0.subVectors(e,s);const f=Yl.dot(J0),p=ql.dot(J0);if(p>=0&&f<=p)return t.copy(s);const _=f*c-l*p;if(_<=0&&c>=0&&p<=0)return a=c/(c-p),t.copy(i).addScaledVector(ql,a);const v=u*p-f*d;if(v<=0&&d-u>=0&&f-p>=0)return NT.subVectors(s,r),a=(d-u)/(d-u+(f-p)),t.copy(r).addScaledVector(NT,a);const g=1/(v+_+h);return o=_*g,a=h*g,t.copy(i).addScaledVector(Yl,o).addScaledVector(ql,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let AH=0;class $l extends Ll{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:AH++}),this.uuid=Xi(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=this.alphaHash),!0===this.alphaToCoverage&&(i.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.forceSinglePass&&(i.forceSinglePass=this.forceSinglePass),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=this.flatShading),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}const FT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Wr={h:0,s:0,l:0},Tf={h:0,s:0,l:0};function ev(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Me{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=rn){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Br.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Br.workingColorSpace){return this.r=e,this.g=t,this.b=i,Br.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Br.workingColorSpace){if(e=function k0(n,e){return(n%e+e)%e}(e,1),t=mn(t,0,1),i=mn(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=ev(o,s,e+1/3),this.g=ev(o,s,e),this.b=ev(o,s,e-1/3)}return Br.toWorkingColorSpace(this,r),this}setStyle(e,t=rn){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=rn){const i=FT[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=kl(e.r),this.g=kl(e.g),this.b=kl(e.b),this}copyLinearToSRGB(e){return this.r=B0(e.r),this.g=B0(e.g),this.b=B0(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=rn){return Br.fromWorkingColorSpace(li.copy(this),e),65536*Math.round(mn(255*li.r,0,255))+256*Math.round(mn(255*li.g,0,255))+Math.round(mn(255*li.b,0,255))}getHexString(e=rn){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Br.workingColorSpace){Br.fromWorkingColorSpace(li.copy(this),t);const i=li.r,r=li.g,s=li.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=u<=.5?d/(o+a):d/(2-o-a),o){case i:l=(r-s)/d+(r<s?6:0);break;case r:l=(s-i)/d+2;break;case s:l=(i-r)/d+4}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Br.workingColorSpace){return Br.fromWorkingColorSpace(li.copy(this),t),e.r=li.r,e.g=li.g,e.b=li.b,e}getStyle(e=rn){Br.fromWorkingColorSpace(li.copy(this),e);const t=li.r,i=li.g,r=li.b;return e!==rn?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Wr),Wr.h+=e,Wr.s+=t,Wr.l+=i,this.setHSL(Wr.h,Wr.s,Wr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Wr),e.getHSL(Tf);const i=Uu(Wr.h,Tf.h,t),r=Uu(Wr.s,Tf.s,t),s=Uu(Wr.l,Tf.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const li=new Me;Me.NAMES=FT;class ha extends $l{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const On=new I,Af=new ne;class Xn{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=Ns,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)Af.fromBufferAttribute(this,t),Af.applyMatrix3(e),this.setXY(t,Af.x,Af.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix3(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyMatrix4(e),this.setXYZ(t,On.x,On.y,On.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.applyNormalMatrix(e),this.setXYZ(t,On.x,On.y,On.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)On.fromBufferAttribute(this,t),On.transformDirection(e),this.setXYZ(t,On.x,On.y,On.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Li(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ft(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Li(t,this.array)),t}setX(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Li(t,this.array)),t}setY(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Li(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Li(t,this.array)),t}setW(e,t){return this.normalized&&(t=ft(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ft(t,this.array),i=ft(i,this.array),r=ft(r,this.array),s=ft(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class kT extends Xn{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class UT extends Xn{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class De extends Xn{constructor(e,t,i){super(new Float32Array(e),t,i)}}let PH=0;const vr=new st,tv=new yr,Xl=new I,Ji=new ks,Yu=new ks,Zn=new I;class Ct extends Ll{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PH++}),this.uuid=Xi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(ST(e)?UT:kT)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new wt).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return vr.makeRotationFromQuaternion(e),this.applyMatrix4(vr),this}rotateX(e){return vr.makeRotationX(e),this.applyMatrix4(vr),this}rotateY(e){return vr.makeRotationY(e),this.applyMatrix4(vr),this}rotateZ(e){return vr.makeRotationZ(e),this.applyMatrix4(vr),this}translate(e,t,i){return vr.makeTranslation(e,t,i),this.applyMatrix4(vr),this}scale(e,t,i){return vr.makeScale(e,t,i),this.applyMatrix4(vr),this}lookAt(e){return tv.lookAt(e),tv.updateMatrix(),this.applyMatrix4(tv.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xl).negate(),this.translate(Xl.x,Xl.y,Xl.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new De(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new ks);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new I(-1/0,-1/0,-1/0),new I(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)Ji.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Zn.addVectors(this.boundingBox.min,Ji.min),this.boundingBox.expandByPoint(Zn),Zn.addVectors(this.boundingBox.max,Ji.max),this.boundingBox.expandByPoint(Zn)):(this.boundingBox.expandByPoint(Ji.min),this.boundingBox.expandByPoint(Ji.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new cs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new I,1/0);if(e){const i=this.boundingSphere.center;if(Ji.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)Yu.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Zn.addVectors(Ji.min,Yu.min),Ji.expandByPoint(Zn),Zn.addVectors(Ji.max,Yu.max),Ji.expandByPoint(Zn)):(Ji.expandByPoint(Yu.min),Ji.expandByPoint(Yu.max));Ji.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Zn.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Zn));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Zn.fromBufferAttribute(a,c),l&&(Xl.fromBufferAttribute(e,c),Zn.add(Xl)),r=Math.max(r,i.distanceToSquared(Zn))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Xn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<a;A++)c[A]=new I,u[A]=new I;const d=new I,h=new I,f=new I,p=new ne,_=new ne,v=new ne,g=new I,x=new I;function b(A,Y,ee){d.fromArray(r,3*A),h.fromArray(r,3*Y),f.fromArray(r,3*ee),p.fromArray(o,2*A),_.fromArray(o,2*Y),v.fromArray(o,2*ee),h.sub(d),f.sub(d),_.sub(p),v.sub(p);const B=1/(_.x*v.y-v.x*_.y);!isFinite(B)||(g.copy(h).multiplyScalar(v.y).addScaledVector(f,-_.y).multiplyScalar(B),x.copy(f).multiplyScalar(_.x).addScaledVector(h,-v.x).multiplyScalar(B),c[A].add(g),c[Y].add(g),c[ee].add(g),u[A].add(x),u[Y].add(x),u[ee].add(x))}let M=this.groups;0===M.length&&(M=[{start:0,count:i.length}]);for(let A=0,Y=M.length;A<Y;++A){const ee=M[A],B=ee.start;for(let j=B,k=B+ee.count;j<k;j+=3)b(i[j+0],i[j+1],i[j+2])}const E=new I,T=new I,D=new I,L=new I;function S(A){D.fromArray(s,3*A),L.copy(D);const Y=c[A];E.copy(Y),E.sub(D.multiplyScalar(D.dot(Y))).normalize(),T.crossVectors(L,Y);const B=T.dot(u[A])<0?-1:1;l[4*A]=E.x,l[4*A+1]=E.y,l[4*A+2]=E.z,l[4*A+3]=B}for(let A=0,Y=M.length;A<Y;++A){const ee=M[A],B=ee.start;for(let j=B,k=B+ee.count;j<k;j+=3)S(i[j+0]),S(i[j+1]),S(i[j+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Xn(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,f=i.count;h<f;h++)i.setXYZ(h,0,0,0);const r=new I,s=new I,o=new I,a=new I,l=new I,c=new I,u=new I,d=new I;if(e)for(let h=0,f=e.count;h<f;h+=3){const p=e.getX(h+0),_=e.getX(h+1),v=e.getX(h+2);r.fromBufferAttribute(t,p),s.fromBufferAttribute(t,_),o.fromBufferAttribute(t,v),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,_),c.fromBufferAttribute(i,v),a.add(u),l.add(u),c.add(u),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(_,l.x,l.y,l.z),i.setXYZ(v,c.x,c.y,c.z)}else for(let h=0,f=t.count;h<f;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),d.subVectors(r,s),u.cross(d),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Zn.fromBufferAttribute(e,t),Zn.normalize(),e.setXYZ(t,Zn.x,Zn.y,Zn.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,d=a.normalized,h=new c.constructor(l.length*u);let f=0,p=0;for(let _=0,v=l.length;_<v;_++){f=a.isInterleavedBufferAttribute?l[_]*a.data.stride+a.offset:l[_]*u;for(let g=0;g<u;g++)h[p++]=c[f++]}return new Xn(h,u,d)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ct,i=this.index.array,r=this.attributes;for(const a in r){const c=e(r[a],i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,d=c.length;u<d;u++){const f=e(c[u],i);l.push(f)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const l=this.parameters;for(const c in l)void 0!==l[c]&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i)e.data.attributes[l]=i[l].toJSON(e.data);const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,h=c.length;d<h;d++)u.push(c[d].toJSON(e.data));u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r)this.setAttribute(c,r[c].clone(t));const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let h=0,f=d.length;h<f;h++)u.push(d[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const l=e.boundingSphere;return null!==l&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const zT=new st,fa=new Wu,Df=new cs,BT=new I,Zl=new I,Kl=new I,Ql=new I,nv=new I,Pf=new I,If=new ne,Rf=new ne,Of=new ne,VT=new I,HT=new I,WT=new I,Lf=new I,Nf=new I;class xi extends yr{constructor(e=new Ct,t=new ha){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){Pf.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],d=s[l];0!==u&&(nv.fromBufferAttribute(d,e),Pf.addScaledVector(o?nv:nv.sub(t),u))}t.add(Pf)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),Df.copy(i.boundingSphere),Df.applyMatrix4(s),fa.copy(e.ray).recast(e.near),(!1!==Df.containsPoint(fa.origin)||!(null===fa.intersectSphere(Df,BT)||fa.origin.distanceToSquared(BT)>(e.far-e.near)**2))&&(zT.copy(s).invert(),fa.copy(e.ray).applyMatrix4(zT),(null===i.boundingBox||!1!==fa.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,fa)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,h=s.groups,f=s.drawRange;if(null!==a)if(Array.isArray(o))for(let p=0,_=h.length;p<_;p++){const v=h[p],g=o[v.materialIndex];for(let M=Math.max(v.start,f.start),E=Math.min(a.count,Math.min(v.start+v.count,f.start+f.count));M<E;M+=3)r=Ff(this,g,e,i,c,u,d,a.getX(M),a.getX(M+1),a.getX(M+2)),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,f.start),g=Math.min(a.count,f.start+f.count);v<g;v+=3)r=Ff(this,o,e,i,c,u,d,a.getX(v),a.getX(v+1),a.getX(v+2)),r&&(r.faceIndex=Math.floor(v/3),t.push(r));else if(void 0!==l)if(Array.isArray(o))for(let p=0,_=h.length;p<_;p++){const v=h[p],g=o[v.materialIndex];for(let M=Math.max(v.start,f.start),E=Math.min(l.count,Math.min(v.start+v.count,f.start+f.count));M<E;M+=3)r=Ff(this,g,e,i,c,u,d,M,M+1,M+2),r&&(r.faceIndex=Math.floor(M/3),r.face.materialIndex=v.materialIndex,t.push(r))}else for(let v=Math.max(0,f.start),g=Math.min(l.count,f.start+f.count);v<g;v+=3)r=Ff(this,o,e,i,c,u,d,v,v+1,v+2),r&&(r.faceIndex=Math.floor(v/3),t.push(r))}}function Ff(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,Zl),n.getVertexPosition(l,Kl),n.getVertexPosition(c,Ql);const u=function IH(n,e,t,i,r,s,o,a){let l;if(l=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===e.side,a),null===l)return null;Nf.copy(a),Nf.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(Nf);return c<t.near||c>t.far?null:{distance:c,point:Nf.clone(),object:n}}(n,e,t,i,Zl,Kl,Ql,Lf);if(u){r&&(If.fromBufferAttribute(r,a),Rf.fromBufferAttribute(r,l),Of.fromBufferAttribute(r,c),u.uv=Qi.getInterpolation(Lf,Zl,Kl,Ql,If,Rf,Of,new ne)),s&&(If.fromBufferAttribute(s,a),Rf.fromBufferAttribute(s,l),Of.fromBufferAttribute(s,c),u.uv1=Qi.getInterpolation(Lf,Zl,Kl,Ql,If,Rf,Of,new ne),u.uv2=u.uv1),o&&(VT.fromBufferAttribute(o,a),HT.fromBufferAttribute(o,l),WT.fromBufferAttribute(o,c),u.normal=Qi.getInterpolation(Lf,Zl,Kl,Ql,VT,HT,WT,new I),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const d={a,b:l,c,normal:new I,materialIndex:0};Qi.getNormal(Zl,Kl,Ql,d.normal),u.face=d}return u}class pa extends Ct{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],d=[];let h=0,f=0;function p(_,v,g,x,b,M,E,T,D,L,S){const A=M/D,Y=E/L,ee=M/2,B=E/2,V=T/2,j=D+1,k=L+1;let F=0,U=0;const $=new I;for(let J=0;J<k;J++){const z=J*Y-B;for(let Z=0;Z<j;Z++)$[_]=(Z*A-ee)*x,$[v]=z*b,$[g]=V,c.push($.x,$.y,$.z),$[_]=0,$[v]=0,$[g]=T>0?1:-1,u.push($.x,$.y,$.z),d.push(Z/D),d.push(1-J/L),F+=1}for(let J=0;J<L;J++)for(let z=0;z<D;z++){const ue=h+z+j*(J+1),oe=h+(z+1)+j*(J+1),xe=h+(z+1)+j*J;l.push(h+z+j*J,ue,xe),l.push(ue,oe,xe),U+=6}a.addGroup(f,U,S),f+=U,h+=F}p("z","y","x",-1,-1,i,t,e,o,s,0),p("z","y","x",1,-1,i,t,-e,o,s,1),p("x","z","y",1,1,e,i,t,r,o,2),p("x","z","y",1,-1,e,i,-t,r,o,3),p("x","y","z",1,-1,e,t,i,r,s,4),p("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new De(c,3)),this.setAttribute("normal",new De(u,3)),this.setAttribute("uv",new De(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pa(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Jl(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Mi(n){const e={};for(let t=0;t<n.length;t++){const i=Jl(n[t]);for(const r in i)e[r]=i[r]}return e}function GT(n){return null===n.getRenderTarget()?n.outputColorSpace:ls}const OH={clone:Jl,merge:Mi};class Ao extends $l{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Jl(e.uniforms),this.uniformsGroups=function RH(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class iv extends yr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new st,this.projectionMatrix=new st,this.projectionMatrixInverse=new st,this.coordinateSystem=Fs}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class Qn extends iv{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*Nl*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*la*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*Nl*Math.atan(Math.tan(.5*la*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*la*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class FH extends yr{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null;const r=new Qn(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new Qn(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new Qn(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new Qn(-90,1,e,t);a.layers=this.layers,this.add(a);const l=new Qn(-90,1,e,t);l.layers=this.layers,this.add(l);const c=new Qn(-90,1,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Fs)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1)}for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const i=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[r,s,o,a,l,c]=this.children,u=e.getRenderTarget(),d=e.xr.enabled;e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(t,r),e.setRenderTarget(i,1),e.render(t,s),e.setRenderTarget(i,2),e.render(t,o),e.setRenderTarget(i,3),e.render(t,a),e.setRenderTarget(i,4),e.render(t,l),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(t,c),e.setRenderTarget(u),e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class kf extends Mo{constructor(e,t,i,r,s,o,a,l,c,u){super(e=void 0!==e?e:[],t=void 0!==t?t:301,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kH extends ca{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(Bu("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===sa?rn:""),this.texture=new kf(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Rn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new pa(5,5,5),s=new Ao({name:"CubemapFromEquirect",uniforms:Jl(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new xi(r,s),a=t.minFilter;return t.minFilter===na&&(t.minFilter=Rn),new FH(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const rv=new I,UH=new I,zH=new wt;class ma{constructor(e=new I(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=rv.subVectors(i,t).cross(UH.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(rv),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||zH.getNormalMatrix(e),r=this.coplanarPoint(rv).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const ga=new cs,Uf=new I;class sv{constructor(e=new ma,t=new ma,i=new ma,r=new ma,s=new ma,o=new ma){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Fs){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],d=r[6],h=r[7],f=r[8],p=r[9],_=r[10],v=r[11],g=r[12],x=r[13],b=r[14],M=r[15];if(i[0].setComponents(l-s,h-c,v-f,M-g).normalize(),i[1].setComponents(l+s,h+c,v+f,M+g).normalize(),i[2].setComponents(l+o,h+u,v+p,M+x).normalize(),i[3].setComponents(l-o,h-u,v-p,M-x).normalize(),i[4].setComponents(l-a,h-d,v-_,M-b).normalize(),t===Fs)i[5].setComponents(l+a,h+d,v+_,M+b).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,d,_,b).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),ga.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),ga.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ga)}intersectsSprite(e){return ga.center.set(0,0,0),ga.radius=.7071067811865476,ga.applyMatrix4(e.matrixWorld),this.intersectsSphere(ga)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(Uf.x=r.normal.x>0?e.max.x:e.min.x,Uf.y=r.normal.y>0?e.max.y:e.min.y,Uf.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Uf)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function jT(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function BH(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)},remove:function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=i.get(c);u&&(n.deleteBuffer(u.buffer),i.delete(c))},update:function l(c,u){if(c.isGLBufferAttribute){const h=i.get(c);return void((!h||h.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version}))}c.isInterleavedBufferAttribute&&(c=c.data);const d=i.get(c);void 0===d?i.set(c,function r(c,u){const d=c.array,h=c.usage,f=n.createBuffer();let p;if(n.bindBuffer(u,f),n.bufferData(u,d,h),c.onUploadCallback(),d instanceof Float32Array)p=n.FLOAT;else if(d instanceof Uint16Array)if(c.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");p=n.HALF_FLOAT}else p=n.UNSIGNED_SHORT;else if(d instanceof Int16Array)p=n.SHORT;else if(d instanceof Uint32Array)p=n.UNSIGNED_INT;else if(d instanceof Int32Array)p=n.INT;else if(d instanceof Int8Array)p=n.BYTE;else if(d instanceof Uint8Array)p=n.UNSIGNED_BYTE;else{if(!(d instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);p=n.UNSIGNED_BYTE}return{buffer:f,type:p,bytesPerElement:d.BYTES_PER_ELEMENT,version:c.version}}(c,u)):d.version<c.version&&(function s(c,u,d){const h=u.array,f=u.updateRange;n.bindBuffer(d,c),-1===f.count?n.bufferSubData(d,0,h):(t?n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h,f.offset,f.count):n.bufferSubData(d,f.offset*h.BYTES_PER_ELEMENT,h.subarray(f.offset,f.offset+f.count)),f.count=-1),u.onUploadCallback()}(d.buffer,c,u),d.version=c.version)}}}class qu extends Ct{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,d=e/a,h=t/l,f=[],p=[],_=[],v=[];for(let g=0;g<u;g++){const x=g*h-o;for(let b=0;b<c;b++)p.push(b*d-s,-x,0),_.push(0,0,1),v.push(b/a),v.push(1-g/l)}for(let g=0;g<l;g++)for(let x=0;x<a;x++){const M=x+c*(g+1),E=x+1+c*(g+1),T=x+1+c*g;f.push(x+c*g,M,T),f.push(M,E,T)}this.setIndex(f),this.setAttribute("position",new De(p,3)),this.setAttribute("normal",new De(_,3)),this.setAttribute("uv",new De(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qu(e.width,e.height,e.widthSegments,e.heightSegments)}}const mt={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos.xyz );\n\t\tvec3 vSigmaY = dFdy( surf_pos.xyz );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"vec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec3 sheenSpecular = vec3( 0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometry.viewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry.normal );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry.normal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},pe={common:{diffuse:{value:new Me(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new wt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new wt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new wt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new wt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new wt},normalScale:{value:new ne(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new wt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new wt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new wt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new wt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Me(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Me(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0},uvTransform:{value:new wt}},sprite:{diffuse:{value:new Me(16777215)},opacity:{value:1},center:{value:new ne(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new wt},alphaMap:{value:null},alphaMapTransform:{value:new wt},alphaTest:{value:0}}},us={basic:{uniforms:Mi([pe.common,pe.specularmap,pe.envmap,pe.aomap,pe.lightmap,pe.fog]),vertexShader:mt.meshbasic_vert,fragmentShader:mt.meshbasic_frag},lambert:{uniforms:Mi([pe.common,pe.specularmap,pe.envmap,pe.aomap,pe.lightmap,pe.emissivemap,pe.bumpmap,pe.normalmap,pe.displacementmap,pe.fog,pe.lights,{emissive:{value:new Me(0)}}]),vertexShader:mt.meshlambert_vert,fragmentShader:mt.meshlambert_frag},phong:{uniforms:Mi([pe.common,pe.specularmap,pe.envmap,pe.aomap,pe.lightmap,pe.emissivemap,pe.bumpmap,pe.normalmap,pe.displacementmap,pe.fog,pe.lights,{emissive:{value:new Me(0)},specular:{value:new Me(1118481)},shininess:{value:30}}]),vertexShader:mt.meshphong_vert,fragmentShader:mt.meshphong_frag},standard:{uniforms:Mi([pe.common,pe.envmap,pe.aomap,pe.lightmap,pe.emissivemap,pe.bumpmap,pe.normalmap,pe.displacementmap,pe.roughnessmap,pe.metalnessmap,pe.fog,pe.lights,{emissive:{value:new Me(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag},toon:{uniforms:Mi([pe.common,pe.aomap,pe.lightmap,pe.emissivemap,pe.bumpmap,pe.normalmap,pe.displacementmap,pe.gradientmap,pe.fog,pe.lights,{emissive:{value:new Me(0)}}]),vertexShader:mt.meshtoon_vert,fragmentShader:mt.meshtoon_frag},matcap:{uniforms:Mi([pe.common,pe.bumpmap,pe.normalmap,pe.displacementmap,pe.fog,{matcap:{value:null}}]),vertexShader:mt.meshmatcap_vert,fragmentShader:mt.meshmatcap_frag},points:{uniforms:Mi([pe.points,pe.fog]),vertexShader:mt.points_vert,fragmentShader:mt.points_frag},dashed:{uniforms:Mi([pe.common,pe.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mt.linedashed_vert,fragmentShader:mt.linedashed_frag},depth:{uniforms:Mi([pe.common,pe.displacementmap]),vertexShader:mt.depth_vert,fragmentShader:mt.depth_frag},normal:{uniforms:Mi([pe.common,pe.bumpmap,pe.normalmap,pe.displacementmap,{opacity:{value:1}}]),vertexShader:mt.meshnormal_vert,fragmentShader:mt.meshnormal_frag},sprite:{uniforms:Mi([pe.sprite,pe.fog]),vertexShader:mt.sprite_vert,fragmentShader:mt.sprite_frag},background:{uniforms:{uvTransform:{value:new wt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mt.background_vert,fragmentShader:mt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:mt.backgroundCube_vert,fragmentShader:mt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mt.cube_vert,fragmentShader:mt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mt.equirect_vert,fragmentShader:mt.equirect_frag},distanceRGBA:{uniforms:Mi([pe.common,pe.displacementmap,{referencePosition:{value:new I},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mt.distanceRGBA_vert,fragmentShader:mt.distanceRGBA_frag},shadow:{uniforms:Mi([pe.lights,pe.fog,{color:{value:new Me(0)},opacity:{value:1}}]),vertexShader:mt.shadow_vert,fragmentShader:mt.shadow_frag}};us.physical={uniforms:Mi([us.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new wt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new wt},clearcoatNormalScale:{value:new ne(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new wt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new wt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new wt},sheen:{value:0},sheenColor:{value:new Me(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new wt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new wt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new wt},transmissionSamplerSize:{value:new ne},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new wt},attenuationDistance:{value:0},attenuationColor:{value:new Me(0)},specularColor:{value:new Me(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new wt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new wt},anisotropyVector:{value:new ne},anisotropyMap:{value:null},anisotropyMapTransform:{value:new wt}}]),vertexShader:mt.meshphysical_vert,fragmentShader:mt.meshphysical_frag};const zf={r:0,b:0,g:0};function UW(n,e,t,i,r,s,o){const a=new Me(0);let c,u,l=!0===s?0:1,d=null,h=0,f=null;function _(v,g){v.getRGB(zf,GT(n)),i.buffers.color.setClear(zf.r,zf.g,zf.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(v,g=1){a.set(v),l=g,_(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,_(a,l)},render:function p(v,g){let x=!1,b=!0===g.isScene?g.background:null;b&&b.isTexture&&(b=(g.backgroundBlurriness>0?t:e).get(b)),null===b?_(a,l):b&&b.isColor&&(_(b,1),x=!0);const M=n.xr.getEnvironmentBlendMode();"additive"===M?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===M&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||306===b.mapping)?(void 0===u&&(u=new xi(new pa(1,1,1),new Ao({name:"BackgroundCubeMaterial",uniforms:Jl(us.backgroundCube.uniforms),vertexShader:us.backgroundCube.vertexShader,fragmentShader:us.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(E,T,D){this.matrixWorld.copyPosition(D.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&!1===b.isRenderTargetTexture?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=b.colorSpace!==rn,(d!==b||h!==b.version||f!==n.toneMapping)&&(u.material.needsUpdate=!0,d=b,h=b.version,f=n.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(void 0===c&&(c=new xi(new qu(2,2),new Ao({name:"BackgroundMaterial",uniforms:Jl(us.background.uniforms),vertexShader:us.background.vertexShader,fragmentShader:us.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=b.colorSpace!==rn,!0===b.matrixAutoUpdate&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(d!==b||h!==b.version||f!==n.toneMapping)&&(c.material.needsUpdate=!0,d=b,h=b.version,f=n.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}}}function zW(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},l=v(null);let c=l,u=!1;function f(V){return i.isWebGL2?n.bindVertexArray(V):s.bindVertexArrayOES(V)}function p(V){return i.isWebGL2?n.deleteVertexArray(V):s.deleteVertexArrayOES(V)}function v(V){const j=[],k=[],F=[];for(let U=0;U<r;U++)j[U]=0,k[U]=0,F[U]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:j,enabledAttributes:k,attributeDivisors:F,object:V,attributes:{},index:null}}function b(){const V=c.newAttributes;for(let j=0,k=V.length;j<k;j++)V[j]=0}function M(V){E(V,0)}function E(V,j){const F=c.enabledAttributes,U=c.attributeDivisors;c.newAttributes[V]=1,0===F[V]&&(n.enableVertexAttribArray(V),F[V]=1),U[V]!==j&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](V,j),U[V]=j)}function T(){const V=c.newAttributes,j=c.enabledAttributes;for(let k=0,F=j.length;k<F;k++)j[k]!==V[k]&&(n.disableVertexAttribArray(k),j[k]=0)}function D(V,j,k,F,U,$,J){!0===J?n.vertexAttribIPointer(V,j,k,U,$):n.vertexAttribPointer(V,j,k,F,U,$)}function ee(){B(),u=!0,c!==l&&(c=l,f(c.object))}function B(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function d(V,j,k,F,U){let $=!1;if(o){const J=function _(V,j,k){const F=!0===k.wireframe;let U=a[V.id];void 0===U&&(U={},a[V.id]=U);let $=U[j.id];void 0===$&&($={},U[j.id]=$);let J=$[F];return void 0===J&&(J=v(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),$[F]=J),J}(F,k,j);c!==J&&(c=J,f(c.object)),$=function g(V,j,k,F){const U=c.attributes,$=j.attributes;let J=0;const z=k.getAttributes();for(const Z in z)if(z[Z].location>=0){const oe=U[Z];let xe=$[Z];if(void 0===xe&&("instanceMatrix"===Z&&V.instanceMatrix&&(xe=V.instanceMatrix),"instanceColor"===Z&&V.instanceColor&&(xe=V.instanceColor)),void 0===oe||oe.attribute!==xe||xe&&oe.data!==xe.data)return!0;J++}return c.attributesNum!==J||c.index!==F}(V,F,k,U),$&&function x(V,j,k,F){const U={},$=j.attributes;let J=0;const z=k.getAttributes();for(const Z in z)if(z[Z].location>=0){let oe=$[Z];void 0===oe&&("instanceMatrix"===Z&&V.instanceMatrix&&(oe=V.instanceMatrix),"instanceColor"===Z&&V.instanceColor&&(oe=V.instanceColor));const xe={};xe.attribute=oe,oe&&oe.data&&(xe.data=oe.data),U[Z]=xe,J++}c.attributes=U,c.attributesNum=J,c.index=F}(V,F,k,U)}else{const J=!0===j.wireframe;(c.geometry!==F.id||c.program!==k.id||c.wireframe!==J)&&(c.geometry=F.id,c.program=k.id,c.wireframe=J,$=!0)}null!==U&&t.update(U,n.ELEMENT_ARRAY_BUFFER),($||u)&&(u=!1,function L(V,j,k,F){if(!1===i.isWebGL2&&(V.isInstancedMesh||F.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;b();const U=F.attributes,$=k.getAttributes(),J=j.defaultAttributeValues;for(const z in $){const Z=$[z];if(Z.location>=0){let ue=U[z];if(void 0===ue&&("instanceMatrix"===z&&V.instanceMatrix&&(ue=V.instanceMatrix),"instanceColor"===z&&V.instanceColor&&(ue=V.instanceColor)),void 0!==ue){const oe=ue.normalized,xe=ue.itemSize,Ue=t.get(ue);if(void 0===Ue)continue;const we=Ue.buffer,Pe=Ue.type,pt=Ue.bytesPerElement,zt=!0===i.isWebGL2&&(Pe===n.INT||Pe===n.UNSIGNED_INT||1013===ue.gpuType);if(ue.isInterleavedBufferAttribute){const ze=ue.data,O=ze.stride,he=ue.offset;if(ze.isInstancedInterleavedBuffer){for(let te=0;te<Z.locationSize;te++)E(Z.location+te,ze.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===F._maxInstanceCount&&(F._maxInstanceCount=ze.meshPerAttribute*ze.count)}else for(let te=0;te<Z.locationSize;te++)M(Z.location+te);n.bindBuffer(n.ARRAY_BUFFER,we);for(let te=0;te<Z.locationSize;te++)D(Z.location+te,xe/Z.locationSize,Pe,oe,O*pt,(he+xe/Z.locationSize*te)*pt,zt)}else{if(ue.isInstancedBufferAttribute){for(let ze=0;ze<Z.locationSize;ze++)E(Z.location+ze,ue.meshPerAttribute);!0!==V.isInstancedMesh&&void 0===F._maxInstanceCount&&(F._maxInstanceCount=ue.meshPerAttribute*ue.count)}else for(let ze=0;ze<Z.locationSize;ze++)M(Z.location+ze);n.bindBuffer(n.ARRAY_BUFFER,we);for(let ze=0;ze<Z.locationSize;ze++)D(Z.location+ze,xe/Z.locationSize,Pe,oe,xe*pt,xe/Z.locationSize*ze*pt,zt)}}else if(void 0!==J){const oe=J[z];if(void 0!==oe)switch(oe.length){case 2:n.vertexAttrib2fv(Z.location,oe);break;case 3:n.vertexAttrib3fv(Z.location,oe);break;case 4:n.vertexAttrib4fv(Z.location,oe);break;default:n.vertexAttrib1fv(Z.location,oe)}}}}T()}(V,j,k,F),null!==U&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(U).buffer))},reset:ee,resetDefaultState:B,dispose:function S(){ee();for(const V in a){const j=a[V];for(const k in j){const F=j[k];for(const U in F)p(F[U].object),delete F[U];delete j[k]}delete a[V]}},releaseStatesOfGeometry:function A(V){if(void 0===a[V.id])return;const j=a[V.id];for(const k in j){const F=j[k];for(const U in F)p(F[U].object),delete F[U];delete j[k]}delete a[V.id]},releaseStatesOfProgram:function Y(V){for(const j in a){const k=a[j];if(void 0===k[V.id])continue;const F=k[V.id];for(const U in F)p(F[U].object),delete F[U];delete k[V.id]}},initAttributes:b,enableAttribute:M,disableUnusedAttributes:T}}function BW(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(c){s=c},this.render=function a(c,u){n.drawArrays(s,c,u),t.update(u,s,1)},this.renderInstances=function l(c,u,d){if(0===d)return;let h,f;if(r)h=n,f="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),f="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[f](s,c,u,d),t.update(u,s,d)}}function VW(n,e,t){let i;function s(D){if("highp"===D){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";D="mediump"}return"mediump"===D&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o="undefined"!=typeof WebGL2RenderingContext&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=!0===t.logarithmicDepthBuffer,d=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),f=n.getParameter(n.MAX_TEXTURE_SIZE),p=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),_=n.getParameter(n.MAX_VERTEX_ATTRIBS),v=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),g=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=h>0,M=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const D=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(D.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:f,maxCubemapSize:p,maxAttributes:_,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:x,vertexTextures:b,floatFragmentTextures:M,floatVertexTextures:b&&M,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function HW(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ma,a=new wt,l={value:null,needsUpdate:!1};function u(d,h,f,p){const _=null!==d?d.length:0;let v=null;if(0!==_){if(v=l.value,!0!==p||null===v){const g=f+4*_,x=h.matrixWorldInverse;a.getNormalMatrix(x),(null===v||v.length<g)&&(v=new Float32Array(g));for(let b=0,M=f;b!==_;++b,M+=4)o.copy(d[b]).applyMatrix4(x,a),o.normal.toArray(v,M),v[M+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=_,e.numIntersection=0,v}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const f=0!==d.length||h||0!==i||r;return r=h,i=d.length,f},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){t=u(d,h,0)},this.setState=function(d,h,f){const p=d.clippingPlanes,_=d.clipIntersection,v=d.clipShadows,g=n.get(d);if(!r||null===p||0===p.length||s&&!v)s?u(null):function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const x=s?0:i,b=4*x;let M=g.clippingState||null;l.value=M,M=u(p,h,b,f);for(let E=0;E!==b;++E)M[E]=t[E];g.clippingState=M,this.numIntersection=_?this.numPlanes:0,this.numPlanes+=x}}}function WW(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=301:304===a&&(o.mapping=302),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);void 0!==l&&(e.delete(a),l.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const l=o.image;if(l&&l.height>0){const c=new kH(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class ov extends iv{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(null!==this.view&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const YT=[.125,.215,.35,.446,.526,.582],av=new ov,qT=new Me;let lv=null;const va=(1+Math.sqrt(5))/2,ic=1/va,$T=[new I(1,1,1),new I(-1,1,1),new I(1,1,-1),new I(-1,1,-1),new I(0,va,ic),new I(0,va,-ic),new I(ic,0,va),new I(-ic,0,va),new I(va,ic,0),new I(-va,ic,0)];class XT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){lv=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=QT(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=KT(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(lv),e.scissorTest=!1,Bf(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(301===e.mapping||302===e.mapping?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),lv=this._renderer.getRenderTarget();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Rn,minFilter:Rn,generateMipmaps:!1,type:ku,format:gr,colorSpace:ls,depthBuffer:!1},r=ZT(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=ZT(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function GW(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+YT.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-4?l=YT[o-n+4-1]:0===o&&(l=0),i.push(l);const c=1/(a-2),u=-c,d=1+c,h=[u,u,d,u,d,d,u,u,d,d,u,d],f=6,p=6,_=3,v=2,g=1,x=new Float32Array(_*p*f),b=new Float32Array(v*p*f),M=new Float32Array(g*p*f);for(let T=0;T<f;T++){const D=T%3*2/3-1,L=T>2?0:-1;x.set([D,L,0,D+2/3,L,0,D+2/3,L+1,0,D,L,0,D+2/3,L+1,0,D,L+1,0],_*p*T),b.set(h,v*p*T),M.set([T,T,T,T,T,T],g*p*T)}const E=new Ct;E.setAttribute("position",new Xn(x,_)),E.setAttribute("uv",new Xn(b,v)),E.setAttribute("faceIndex",new Xn(M,g)),e.push(E),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function jW(n,e,t){const i=new Float32Array(20),r=new I(0,1,0);return new Ao({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new xi(this._lodPlanes[0],e);this._renderer.compile(t,av)}_sceneToCubeUV(e,t,i,r){const a=new Qn(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,d=u.autoClear,h=u.toneMapping;u.getClearColor(qT),u.toneMapping=0,u.autoClear=!1;const f=new ha({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),p=new xi(new pa,f);let _=!1;const v=e.background;v?v.isColor&&(f.color.copy(v),e.background=null,_=!0):(f.color.copy(qT),_=!0);for(let g=0;g<6;g++){const x=g%3;0===x?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):1===x?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const b=this._cubeSize;Bf(r,x*b,g>2?b:0,b,b),u.setRenderTarget(r),_&&u.render(p,a),u.render(e,a)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=h,u.autoClear=d,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=301===e.mapping||302===e.mapping;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=QT()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=KT());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new xi(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const l=this._cubeSize;Bf(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,av)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,$T[(r-1)%$T.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const d=new xi(this._lodPlanes[r],c),h=c.uniforms,f=this._sizeLods[i]-1,p=isFinite(s)?Math.PI/(2*f):2*Math.PI/39,_=s/p,v=isFinite(s)?1+Math.floor(3*_):20;v>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to 20`);const g=[];let x=0;for(let D=0;D<20;++D){const L=D/_,S=Math.exp(-L*L/2);g.push(S),0===D?x+=S:D<v&&(x+=2*S)}for(let D=0;D<g.length;D++)g[D]=g[D]/x;h.envMap.value=e.texture,h.samples.value=v,h.weights.value=g,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:b}=this;h.dTheta.value=p,h.mipInt.value=b-i;const M=this._sizeLods[r];Bf(t,3*M*(r>b-4?r-b+4:0),4*(this._cubeSize-M),3*M,2*M),l.setRenderTarget(t),l.render(d,av)}}function ZT(n,e,t){const i=new ca(n,e,t);return i.texture.mapping=306,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function Bf(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function KT(){return new Ao({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function QT(){return new Ao({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function YW(n){let e=new WeakMap,t=null;function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);void 0!==c&&(e.delete(l),c.dispose())}return{get:function i(a){if(a&&a.isTexture){const l=a.mapping,c=303===l||304===l,u=301===l||302===l;if(c||u){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let d=e.get(a);return null===t&&(t=new XT(n)),d=c?t.fromEquirectangular(a,d):t.fromCubemap(a,d),e.set(a,d),d.texture}if(e.has(a))return e.get(a).texture;{const d=a.image;if(c&&d&&d.height>0||u&&d&&function r(a){let l=0;for(let u=0;u<6;u++)void 0!==a[u]&&l++;return 6===l}(d)){null===t&&(t=new XT(n));const h=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function qW(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function $W(n,e,t,i){const r={},s=new WeakMap;function o(d){const h=d.target;null!==h.index&&e.remove(h.index);for(const p in h.attributes)e.remove(h.attributes[p]);for(const p in h.morphAttributes){const _=h.morphAttributes[p];for(let v=0,g=_.length;v<g;v++)e.remove(_[v])}h.removeEventListener("dispose",o),delete r[h.id];const f=s.get(h);f&&(e.remove(f),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function c(d){const h=[],f=d.index,p=d.attributes.position;let _=0;if(null!==f){const x=f.array;_=f.version;for(let b=0,M=x.length;b<M;b+=3){const E=x[b+0],T=x[b+1],D=x[b+2];h.push(E,T,T,D,D,E)}}else{if(void 0===p)return;_=p.version;for(let b=0,M=p.array.length/3-1;b<M;b+=3){const E=b+0,T=b+1,D=b+2;h.push(E,T,T,D,D,E)}}const v=new(ST(h)?UT:kT)(h,1);v.version=_;const g=s.get(d);g&&e.remove(g),s.set(d,v)}return{get:function a(d,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function l(d){const h=d.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER);const f=d.morphAttributes;for(const p in f){const _=f[p];for(let v=0,g=_.length;v<g;v++)e.update(_[v],n.ARRAY_BUFFER)}},getWireframeAttribute:function u(d){const h=s.get(d);if(h){const f=d.index;null!==f&&h.version<f.version&&c(d)}else c(d);return s.get(d)}}}function XW(n,e,t,i){const r=i.isWebGL2;let s,a,l;this.setMode=function o(h){s=h},this.setIndex=function c(h){a=h.type,l=h.bytesPerElement},this.render=function u(h,f){n.drawElements(s,f,a,h*l),t.update(f,s,1)},this.renderInstances=function d(h,f,p){if(0===p)return;let _,v;if(r)_=n,v="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",null===_)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");_[v](s,f,a,h*l,p),t.update(f,s,p)}}function ZW(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function KW(n,e){return n[0]-e[0]}function QW(n,e){return Math.abs(e[1])-Math.abs(n[1])}function JW(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new $t,a=[];for(let c=0;c<8;c++)a[c]=[c,0];return{update:function l(c,u,d){const h=c.morphTargetInfluences;if(!0===e.isWebGL2){const f=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=void 0!==f?f.length:0;let _=s.get(u);if(void 0===_||_.count!==p){let V=function(){ee.dispose(),s.delete(u),u.removeEventListener("dispose",V)};void 0!==_&&_.texture.dispose();const x=void 0!==u.morphAttributes.position,b=void 0!==u.morphAttributes.normal,M=void 0!==u.morphAttributes.color,E=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],D=u.morphAttributes.color||[];let L=0;!0===x&&(L=1),!0===b&&(L=2),!0===M&&(L=3);let S=u.attributes.position.count*L,A=1;S>e.maxTextureSize&&(A=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const Y=new Float32Array(S*A*4*p),ee=new H0(Y,S,A,p);ee.type=Ns,ee.needsUpdate=!0;const B=4*L;for(let j=0;j<p;j++){const k=E[j],F=T[j],U=D[j],$=S*A*4*j;for(let J=0;J<k.count;J++){const z=J*B;!0===x&&(o.fromBufferAttribute(k,J),Y[$+z+0]=o.x,Y[$+z+1]=o.y,Y[$+z+2]=o.z,Y[$+z+3]=0),!0===b&&(o.fromBufferAttribute(F,J),Y[$+z+4]=o.x,Y[$+z+5]=o.y,Y[$+z+6]=o.z,Y[$+z+7]=0),!0===M&&(o.fromBufferAttribute(U,J),Y[$+z+8]=o.x,Y[$+z+9]=o.y,Y[$+z+10]=o.z,Y[$+z+11]=4===U.itemSize?o.w:1)}}_={count:p,texture:ee,size:new ne(S,A)},s.set(u,_),u.addEventListener("dispose",V)}let v=0;for(let x=0;x<h.length;x++)v+=h[x];const g=u.morphTargetsRelative?1:1-v;d.getUniforms().setValue(n,"morphTargetBaseInfluence",g),d.getUniforms().setValue(n,"morphTargetInfluences",h),d.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),d.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const f=void 0===h?0:h.length;let p=i[u.id];if(void 0===p||p.length!==f){p=[];for(let b=0;b<f;b++)p[b]=[b,0];i[u.id]=p}for(let b=0;b<f;b++){const M=p[b];M[0]=b,M[1]=h[b]}p.sort(QW);for(let b=0;b<8;b++)b<f&&p[b][1]?(a[b][0]=p[b][0],a[b][1]=p[b][1]):(a[b][0]=Number.MAX_SAFE_INTEGER,a[b][1]=0);a.sort(KW);const _=u.morphAttributes.position,v=u.morphAttributes.normal;let g=0;for(let b=0;b<8;b++){const M=a[b],E=M[0],T=M[1];E!==Number.MAX_SAFE_INTEGER&&T?(_&&u.getAttribute("morphTarget"+b)!==_[E]&&u.setAttribute("morphTarget"+b,_[E]),v&&u.getAttribute("morphNormal"+b)!==v[E]&&u.setAttribute("morphNormal"+b,v[E]),r[b]=T,g+=T):(_&&!0===u.hasAttribute("morphTarget"+b)&&u.deleteAttribute("morphTarget"+b),v&&!0===u.hasAttribute("morphNormal"+b)&&u.deleteAttribute("morphNormal"+b),r[b]=0)}const x=u.morphTargetsRelative?1:1-g;d.getUniforms().setValue(n,"morphTargetBaseInfluence",x),d.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function eG(n,e,t,i){let r=new WeakMap;function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),null!==c.instanceColor&&t.remove(c.instanceColor)}return{update:function s(l){const c=i.render.frame,d=e.get(l,l.geometry);if(r.get(d)!==c&&(e.update(d),r.set(d,c)),l.isInstancedMesh&&(!1===l.hasEventListener("dispose",a)&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),null!==l.instanceColor&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return d},dispose:function o(){r=new WeakMap}}}const JT=new Mo,eA=new H0,tA=new TT,nA=new kf,iA=[],rA=[],sA=new Float32Array(16),oA=new Float32Array(9),aA=new Float32Array(4);function rc(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=iA[r];if(void 0===s&&(s=new Float32Array(r),iA[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Hn(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Wn(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function Vf(n,e){let t=rA[e];void 0===t&&(t=new Int32Array(e),rA[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function tG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function nG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2fv(this.addr,e),Wn(t,e)}}function iG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Hn(t,e))return;n.uniform3fv(this.addr,e),Wn(t,e)}}function rG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4fv(this.addr,e),Wn(t,e)}}function sG(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Hn(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Wn(t,e)}else{if(Hn(t,i))return;aA.set(i),n.uniformMatrix2fv(this.addr,!1,aA),Wn(t,i)}}function oG(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Hn(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Wn(t,e)}else{if(Hn(t,i))return;oA.set(i),n.uniformMatrix3fv(this.addr,!1,oA),Wn(t,i)}}function aG(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Hn(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Wn(t,e)}else{if(Hn(t,i))return;sA.set(i),n.uniformMatrix4fv(this.addr,!1,sA),Wn(t,i)}}function lG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function cG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2iv(this.addr,e),Wn(t,e)}}function uG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3iv(this.addr,e),Wn(t,e)}}function dG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4iv(this.addr,e),Wn(t,e)}}function hG(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function fG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Hn(t,e))return;n.uniform2uiv(this.addr,e),Wn(t,e)}}function pG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Hn(t,e))return;n.uniform3uiv(this.addr,e),Wn(t,e)}}function mG(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Hn(t,e))return;n.uniform4uiv(this.addr,e),Wn(t,e)}}function gG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||JT,r)}function yG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||tA,r)}function vG(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||nA,r)}function _G(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||eA,r)}function bG(n,e){n.uniform1fv(this.addr,e)}function xG(n,e){const t=rc(e,this.size,2);n.uniform2fv(this.addr,t)}function MG(n,e){const t=rc(e,this.size,3);n.uniform3fv(this.addr,t)}function SG(n,e){const t=rc(e,this.size,4);n.uniform4fv(this.addr,t)}function EG(n,e){const t=rc(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function CG(n,e){const t=rc(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function TG(n,e){const t=rc(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function AG(n,e){n.uniform1iv(this.addr,e)}function DG(n,e){n.uniform2iv(this.addr,e)}function PG(n,e){n.uniform3iv(this.addr,e)}function IG(n,e){n.uniform4iv(this.addr,e)}function RG(n,e){n.uniform1uiv(this.addr,e)}function OG(n,e){n.uniform2uiv(this.addr,e)}function LG(n,e){n.uniform3uiv(this.addr,e)}function NG(n,e){n.uniform4uiv(this.addr,e)}function FG(n,e,t){const i=this.cache,r=e.length,s=Vf(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||JT,s[o])}function kG(n,e,t){const i=this.cache,r=e.length,s=Vf(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||tA,s[o])}function UG(n,e,t){const i=this.cache,r=e.length,s=Vf(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||nA,s[o])}function zG(n,e,t){const i=this.cache,r=e.length,s=Vf(t,r);Hn(i,s)||(n.uniform1iv(this.addr,s),Wn(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||eA,s[o])}class VG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function wG(n){switch(n){case 5126:return tG;case 35664:return nG;case 35665:return iG;case 35666:return rG;case 35674:return sG;case 35675:return oG;case 35676:return aG;case 5124:case 35670:return lG;case 35667:case 35671:return cG;case 35668:case 35672:return uG;case 35669:case 35673:return dG;case 5125:return hG;case 36294:return fG;case 36295:return pG;case 36296:return mG;case 35678:case 36198:case 36298:case 36306:case 35682:return gG;case 35679:case 36299:case 36307:return yG;case 35680:case 36300:case 36308:case 36293:return vG;case 36289:case 36303:case 36311:case 36292:return _G}}(t.type)}}class HG{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function BG(n){switch(n){case 5126:return bG;case 35664:return xG;case 35665:return MG;case 35666:return SG;case 35674:return EG;case 35675:return CG;case 35676:return TG;case 5124:case 35670:return AG;case 35667:case 35671:return DG;case 35668:case 35672:return PG;case 35669:case 35673:return IG;case 5125:return RG;case 36294:return OG;case 36295:return LG;case 36296:return NG;case 35678:case 36198:case 36298:case 36306:case 35682:return FG;case 35679:case 36299:case 36307:return kG;case 35680:case 36300:case 36308:case 36293:return UG;case 36289:case 36303:case 36311:case 36292:return zG}}(t.type)}}class WG{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const uv=/(\w+)(\])?(\[|\.)?/g;function lA(n,e){n.seq.push(e),n.map[e.id]=e}function GG(n,e,t){const i=n.name,r=i.length;for(uv.lastIndex=0;;){const s=uv.exec(i),o=uv.lastIndex;let a=s[1];const c=s[3];if("]"===s[2]&&(a|=0),void 0===c||"["===c&&o+2===r){lA(t,void 0===c?new VG(a,n,e):new HG(a,n,e));break}{let d=t.map[a];void 0===d&&(d=new WG(a),lA(t,d)),t=d}}}class Hf{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);GG(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];!1!==l.needsUpdate&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function cA(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}let jG=0;function uA(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function YG(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function $G(n,e){const t=function qG(n){switch(n){case ls:return["Linear","( value )"];case rn:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),["Linear","( value )"]}}(e);return"vec4 "+n+"( vec4 value ) { return LinearTo"+t[0]+t[1]+"; }"}function XG(n,e){let t;switch(e){case 1:t="Linear";break;case 2:t="Reinhard";break;case 3:t="OptimizedCineon";break;case 4:t="ACESFilmic";break;case 5:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function $u(n){return""!==n}function dA(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function hA(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const JG=/^[ \t]*#include +<([\w\d./]+)>/gm;function dv(n){return n.replace(JG,tj)}const ej=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function tj(n,e){let t=mt[e];if(void 0===t){const i=ej.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=mt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return dv(t)}const nj=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function fA(n){return n.replace(nj,ij)}function ij(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function pA(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function cj(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=function rj(n){let e="SHADOWMAP_TYPE_BASIC";return 1===n.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===n.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===n.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(t),c=function sj(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),u=function oj(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&302===n.envMapMode&&(e="ENVMAP_MODE_REFRACTION"),e}(t),d=function aj(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function lj(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),f=t.isWebGL2?"":function ZG(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter($u).join("\n")}(t),p=function KG(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),_=r.createProgram();let v,g,x=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter($u).join("\n"),v.length>0&&(v+="\n"),g=[f,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p].filter($u).join("\n"),g.length>0&&(g+="\n")):(v=[pA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter($u).join("\n"),g=[f,pA(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,p,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==t.toneMapping?"#define TONE_MAPPING":"",0!==t.toneMapping?mt.tonemapping_pars_fragment:"",0!==t.toneMapping?XG("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",mt.colorspace_pars_fragment,$G("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter($u).join("\n")),o=dv(o),o=dA(o,t),o=hA(o,t),a=dv(a),a=dA(a,t),a=hA(a,t),o=fA(o),a=fA(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(x="#version 300 es\n",v=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+v,g=["#define varying in","300 es"===t.glslVersion?"":"layout(location = 0) out highp vec4 pc_fragColor;","300 es"===t.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+g);const M=x+g+a,E=cA(r,r.VERTEX_SHADER,x+v+o),T=cA(r,r.FRAGMENT_SHADER,M);if(r.attachShader(_,E),r.attachShader(_,T),void 0!==t.index0AttributeName?r.bindAttribLocation(_,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(_,0,"position"),r.linkProgram(_),n.debug.checkShaderErrors){const S=r.getProgramInfoLog(_).trim(),A=r.getShaderInfoLog(E).trim(),Y=r.getShaderInfoLog(T).trim();let ee=!0,B=!0;if(!1===r.getProgramParameter(_,r.LINK_STATUS))if(ee=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,_,E,T);else{const V=uA(r,E,"vertex"),j=uA(r,T,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(_,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+S+"\n"+V+"\n"+j)}else""!==S?console.warn("THREE.WebGLProgram: Program Info Log:",S):(""===A||""===Y)&&(B=!1);B&&(this.diagnostics={runnable:ee,programLog:S,vertexShader:{log:A,prefix:v},fragmentShader:{log:Y,prefix:g}})}let D,L;return r.deleteShader(E),r.deleteShader(T),this.getUniforms=function(){return void 0===D&&(D=new Hf(r,_)),D},this.getAttributes=function(){return void 0===L&&(L=function QG(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,_)),L},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=jG++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=E,this.fragmentShader=T,this}let uj=0;class dj{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new hj(e),t.set(e,i)),i}}class hj{constructor(e){this.id=uj++,this.code=e,this.usedTimes=0}}function fj(n,e,t,i,r,s,o){const a=new X0,l=new dj,c=[],u=r.isWebGL2,d=r.logarithmicDepthBuffer,h=r.vertexTextures;let f=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function _(S){return 0===S?"uv":`uv${S}`}return{getParameters:function v(S,A,Y,ee,B){const V=ee.fog,j=B.geometry,F=(S.isMeshStandardMaterial?t:e).get(S.envMap||(S.isMeshStandardMaterial?ee.environment:null)),U=F&&306===F.mapping?F.image.height:null,$=p[S.type];null!==S.precision&&(f=r.getMaxPrecision(S.precision),f!==S.precision&&console.warn("THREE.WebGLProgram.getParameters:",S.precision,"not supported, using",f,"instead."));const J=j.morphAttributes.position||j.morphAttributes.normal||j.morphAttributes.color,z=void 0!==J?J.length:0;let ue,oe,xe,Ue,Z=0;if(void 0!==j.morphAttributes.position&&(Z=1),void 0!==j.morphAttributes.normal&&(Z=2),void 0!==j.morphAttributes.color&&(Z=3),$){const on=us[$];ue=on.vertexShader,oe=on.fragmentShader}else ue=S.vertexShader,oe=S.fragmentShader,l.update(S),xe=l.getVertexShaderID(S),Ue=l.getFragmentShaderID(S);const we=n.getRenderTarget(),Pe=!0===B.isInstancedMesh,pt=!!S.map,ze=!!F,O=!!S.aoMap,he=!!S.lightMap,te=!!S.bumpMap,ce=!!S.normalMap,re=!!S.displacementMap,Fe=!!S.emissiveMap,Se=!!S.metalnessMap,Ae=!!S.roughnessMap,it=S.anisotropy>0,Rt=S.clearcoat>0,yn=S.iridescence>0,R=S.sheen>0,C=S.transmission>0,G=it&&!!S.anisotropyMap,ae=Rt&&!!S.clearcoatMap,se=Rt&&!!S.clearcoatNormalMap,le=Rt&&!!S.clearcoatRoughnessMap,Le=yn&&!!S.iridescenceMap,de=yn&&!!S.iridescenceThicknessMap,q=R&&!!S.sheenColorMap,He=R&&!!S.sheenRoughnessMap,ke=!!S.specularMap,Be=!!S.specularColorMap,Ie=!!S.specularIntensityMap,Re=C&&!!S.transmissionMap,Tt=C&&!!S.thicknessMap,N=!!S.alphaMap,fe=!!S.extensions,_e=!!j.attributes.uv1,Bt=!!j.attributes.uv2,dn=!!j.attributes.uv3;let Ln=0;return S.toneMapped&&(null===we||!0===we.isXRRenderTarget)&&(Ln=n.toneMapping),{isWebGL2:u,shaderID:$,shaderType:S.type,shaderName:S.name,vertexShader:ue,fragmentShader:oe,defines:S.defines,customVertexShaderID:xe,customFragmentShaderID:Ue,isRawShaderMaterial:!0===S.isRawShaderMaterial,glslVersion:S.glslVersion,precision:f,instancing:Pe,instancingColor:Pe&&null!==B.instanceColor,supportsVertexTextures:h,outputColorSpace:null===we?n.outputColorSpace:!0===we.isXRRenderTarget?we.texture.colorSpace:ls,map:pt,matcap:!!S.matcap,envMap:ze,envMapMode:ze&&F.mapping,envMapCubeUVHeight:U,aoMap:O,lightMap:he,bumpMap:te,normalMap:ce,displacementMap:h&&re,emissiveMap:Fe,normalMapObjectSpace:ce&&1===S.normalMapType,normalMapTangentSpace:ce&&0===S.normalMapType,metalnessMap:Se,roughnessMap:Ae,anisotropy:it,anisotropyMap:G,clearcoat:Rt,clearcoatMap:ae,clearcoatNormalMap:se,clearcoatRoughnessMap:le,iridescence:yn,iridescenceMap:Le,iridescenceThicknessMap:de,sheen:R,sheenColorMap:q,sheenRoughnessMap:He,specularMap:ke,specularColorMap:Be,specularIntensityMap:Ie,transmission:C,transmissionMap:Re,thicknessMap:Tt,gradientMap:!!S.gradientMap,opaque:!1===S.transparent&&1===S.blending,alphaMap:N,alphaTest:S.alphaTest>0,alphaHash:!!S.alphaHash,combine:S.combine,mapUv:pt&&_(S.map.channel),aoMapUv:O&&_(S.aoMap.channel),lightMapUv:he&&_(S.lightMap.channel),bumpMapUv:te&&_(S.bumpMap.channel),normalMapUv:ce&&_(S.normalMap.channel),displacementMapUv:re&&_(S.displacementMap.channel),emissiveMapUv:Fe&&_(S.emissiveMap.channel),metalnessMapUv:Se&&_(S.metalnessMap.channel),roughnessMapUv:Ae&&_(S.roughnessMap.channel),anisotropyMapUv:G&&_(S.anisotropyMap.channel),clearcoatMapUv:ae&&_(S.clearcoatMap.channel),clearcoatNormalMapUv:se&&_(S.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:le&&_(S.clearcoatRoughnessMap.channel),iridescenceMapUv:Le&&_(S.iridescenceMap.channel),iridescenceThicknessMapUv:de&&_(S.iridescenceThicknessMap.channel),sheenColorMapUv:q&&_(S.sheenColorMap.channel),sheenRoughnessMapUv:He&&_(S.sheenRoughnessMap.channel),specularMapUv:ke&&_(S.specularMap.channel),specularColorMapUv:Be&&_(S.specularColorMap.channel),specularIntensityMapUv:Ie&&_(S.specularIntensityMap.channel),transmissionMapUv:Re&&_(S.transmissionMap.channel),thicknessMapUv:Tt&&_(S.thicknessMap.channel),alphaMapUv:N&&_(S.alphaMap.channel),vertexTangents:!!j.attributes.tangent&&(ce||it),vertexColors:S.vertexColors,vertexAlphas:!0===S.vertexColors&&!!j.attributes.color&&4===j.attributes.color.itemSize,vertexUv1s:_e,vertexUv2s:Bt,vertexUv3s:dn,pointsUvs:!0===B.isPoints&&!!j.attributes.uv&&(pt||N),fog:!!V,useFog:!0===S.fog,fogExp2:V&&V.isFogExp2,flatShading:!0===S.flatShading,sizeAttenuation:!0===S.sizeAttenuation,logarithmicDepthBuffer:d,skinning:!0===B.isSkinnedMesh,morphTargets:void 0!==j.morphAttributes.position,morphNormals:void 0!==j.morphAttributes.normal,morphColors:void 0!==j.morphAttributes.color,morphTargetsCount:z,morphTextureStride:Z,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:S.dithering,shadowMapEnabled:n.shadowMap.enabled&&Y.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ln,useLegacyLights:n._useLegacyLights,decodeVideoTexture:pt&&!0===S.map.isVideoTexture&&S.map.colorSpace===rn,premultipliedAlpha:S.premultipliedAlpha,doubleSided:2===S.side,flipSided:1===S.side,useDepthPacking:S.depthPacking>=0,depthPacking:S.depthPacking||0,index0AttributeName:S.index0AttributeName,extensionDerivatives:fe&&!0===S.extensions.derivatives,extensionFragDepth:fe&&!0===S.extensions.fragDepth,extensionDrawBuffers:fe&&!0===S.extensions.drawBuffers,extensionShaderTextureLOD:fe&&!0===S.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||i.has("EXT_shader_texture_lod"),customProgramCacheKey:S.customProgramCacheKey()}},getProgramCacheKey:function g(S){const A=[];if(S.shaderID?A.push(S.shaderID):(A.push(S.customVertexShaderID),A.push(S.customFragmentShaderID)),void 0!==S.defines)for(const Y in S.defines)A.push(Y),A.push(S.defines[Y]);return!1===S.isRawShaderMaterial&&(function x(S,A){S.push(A.precision),S.push(A.outputColorSpace),S.push(A.envMapMode),S.push(A.envMapCubeUVHeight),S.push(A.mapUv),S.push(A.alphaMapUv),S.push(A.lightMapUv),S.push(A.aoMapUv),S.push(A.bumpMapUv),S.push(A.normalMapUv),S.push(A.displacementMapUv),S.push(A.emissiveMapUv),S.push(A.metalnessMapUv),S.push(A.roughnessMapUv),S.push(A.anisotropyMapUv),S.push(A.clearcoatMapUv),S.push(A.clearcoatNormalMapUv),S.push(A.clearcoatRoughnessMapUv),S.push(A.iridescenceMapUv),S.push(A.iridescenceThicknessMapUv),S.push(A.sheenColorMapUv),S.push(A.sheenRoughnessMapUv),S.push(A.specularMapUv),S.push(A.specularColorMapUv),S.push(A.specularIntensityMapUv),S.push(A.transmissionMapUv),S.push(A.thicknessMapUv),S.push(A.combine),S.push(A.fogExp2),S.push(A.sizeAttenuation),S.push(A.morphTargetsCount),S.push(A.morphAttributeCount),S.push(A.numDirLights),S.push(A.numPointLights),S.push(A.numSpotLights),S.push(A.numSpotLightMaps),S.push(A.numHemiLights),S.push(A.numRectAreaLights),S.push(A.numDirLightShadows),S.push(A.numPointLightShadows),S.push(A.numSpotLightShadows),S.push(A.numSpotLightShadowsWithMaps),S.push(A.shadowMapType),S.push(A.toneMapping),S.push(A.numClippingPlanes),S.push(A.numClipIntersection),S.push(A.depthPacking)}(A,S),function b(S,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),S.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.useLegacyLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),A.decodeVideoTexture&&a.enable(19),S.push(a.mask)}(A,S),A.push(n.outputColorSpace)),A.push(S.customProgramCacheKey),A.join()},getUniforms:function M(S){const A=p[S.type];let Y;return Y=A?OH.clone(us[A].uniforms):S.uniforms,Y},acquireProgram:function E(S,A){let Y;for(let ee=0,B=c.length;ee<B;ee++){const V=c[ee];if(V.cacheKey===A){Y=V,++Y.usedTimes;break}}return void 0===Y&&(Y=new cj(n,A,S,s),c.push(Y)),Y},releaseProgram:function T(S){if(0==--S.usedTimes){const A=c.indexOf(S);c[A]=c[c.length-1],c.pop(),S.destroy()}},releaseShaderCache:function D(S){l.remove(S)},programs:c,dispose:function L(){l.dispose()}}}function pj(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function mj(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function mA(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function gA(){const n=[];let e=0;const t=[],i=[],r=[];function o(d,h,f,p,_,v){let g=n[e];return void 0===g?(g={id:d.id,object:d,geometry:h,material:f,groupOrder:p,renderOrder:d.renderOrder,z:_,group:v},n[e]=g):(g.id=d.id,g.object=d,g.geometry=h,g.material=f,g.groupOrder=p,g.renderOrder=d.renderOrder,g.z=_,g.group=v),e++,g}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(d,h,f,p,_,v){const g=o(d,h,f,p,_,v);f.transmission>0?i.push(g):!0===f.transparent?r.push(g):t.push(g)},unshift:function l(d,h,f,p,_,v){const g=o(d,h,f,p,_,v);f.transmission>0?i.unshift(g):!0===f.transparent?r.unshift(g):t.unshift(g)},finish:function u(){for(let d=e,h=n.length;d<h;d++){const f=n[d];if(null===f.id)break;f.id=null,f.object=null,f.geometry=null,f.material=null,f.group=null}},sort:function c(d,h){t.length>1&&t.sort(d||mj),i.length>1&&i.sort(h||mA),r.length>1&&r.sort(h||mA)}}}function gj(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new gA,n.set(i,[o])):r>=s.length?(o=new gA,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function yj(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new I,color:new Me};break;case"SpotLight":t={position:new I,direction:new I,color:new Me,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new I,color:new Me,distance:0,decay:0};break;case"HemisphereLight":t={direction:new I,skyColor:new Me,groundColor:new Me};break;case"RectAreaLight":t={color:new Me,position:new I,halfWidth:new I,halfHeight:new I}}return n[e.id]=t,t}}}let _j=0;function wj(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function bj(n,e){const t=new yj,i=function vj(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ne};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ne,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)r.probe.push(new I);const s=new I,o=new st,a=new st;return{setup:function l(u,d){let h=0,f=0,p=0;for(let Y=0;Y<9;Y++)r.probe[Y].set(0,0,0);let _=0,v=0,g=0,x=0,b=0,M=0,E=0,T=0,D=0,L=0;u.sort(wj);const S=!0===d?Math.PI:1;for(let Y=0,ee=u.length;Y<ee;Y++){const B=u[Y],V=B.color,j=B.intensity,k=B.distance,F=B.shadow&&B.shadow.map?B.shadow.map.texture:null;if(B.isAmbientLight)h+=V.r*j*S,f+=V.g*j*S,p+=V.b*j*S;else if(B.isLightProbe)for(let U=0;U<9;U++)r.probe[U].addScaledVector(B.sh.coefficients[U],j);else if(B.isDirectionalLight){const U=t.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*S),B.castShadow){const $=B.shadow,J=i.get(B);J.shadowBias=$.bias,J.shadowNormalBias=$.normalBias,J.shadowRadius=$.radius,J.shadowMapSize=$.mapSize,r.directionalShadow[_]=J,r.directionalShadowMap[_]=F,r.directionalShadowMatrix[_]=B.shadow.matrix,M++}r.directional[_]=U,_++}else if(B.isSpotLight){const U=t.get(B);U.position.setFromMatrixPosition(B.matrixWorld),U.color.copy(V).multiplyScalar(j*S),U.distance=k,U.coneCos=Math.cos(B.angle),U.penumbraCos=Math.cos(B.angle*(1-B.penumbra)),U.decay=B.decay,r.spot[g]=U;const $=B.shadow;if(B.map&&(r.spotLightMap[D]=B.map,D++,$.updateMatrices(B),B.castShadow&&L++),r.spotLightMatrix[g]=$.matrix,B.castShadow){const J=i.get(B);J.shadowBias=$.bias,J.shadowNormalBias=$.normalBias,J.shadowRadius=$.radius,J.shadowMapSize=$.mapSize,r.spotShadow[g]=J,r.spotShadowMap[g]=F,T++}g++}else if(B.isRectAreaLight){const U=t.get(B);U.color.copy(V).multiplyScalar(j),U.halfWidth.set(.5*B.width,0,0),U.halfHeight.set(0,.5*B.height,0),r.rectArea[x]=U,x++}else if(B.isPointLight){const U=t.get(B);if(U.color.copy(B.color).multiplyScalar(B.intensity*S),U.distance=B.distance,U.decay=B.decay,B.castShadow){const $=B.shadow,J=i.get(B);J.shadowBias=$.bias,J.shadowNormalBias=$.normalBias,J.shadowRadius=$.radius,J.shadowMapSize=$.mapSize,J.shadowCameraNear=$.camera.near,J.shadowCameraFar=$.camera.far,r.pointShadow[v]=J,r.pointShadowMap[v]=F,r.pointShadowMatrix[v]=B.shadow.matrix,E++}r.point[v]=U,v++}else if(B.isHemisphereLight){const U=t.get(B);U.skyColor.copy(B.color).multiplyScalar(j*S),U.groundColor.copy(B.groundColor).multiplyScalar(j*S),r.hemi[b]=U,b++}}x>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=pe.LTC_FLOAT_1,r.rectAreaLTC2=pe.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=pe.LTC_HALF_1,r.rectAreaLTC2=pe.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=f,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==_||A.pointLength!==v||A.spotLength!==g||A.rectAreaLength!==x||A.hemiLength!==b||A.numDirectionalShadows!==M||A.numPointShadows!==E||A.numSpotShadows!==T||A.numSpotMaps!==D)&&(r.directional.length=_,r.spot.length=g,r.rectArea.length=x,r.point.length=v,r.hemi.length=b,r.directionalShadow.length=M,r.directionalShadowMap.length=M,r.pointShadow.length=E,r.pointShadowMap.length=E,r.spotShadow.length=T,r.spotShadowMap.length=T,r.directionalShadowMatrix.length=M,r.pointShadowMatrix.length=E,r.spotLightMatrix.length=T+D-L,r.spotLightMap.length=D,r.numSpotLightShadowsWithMaps=L,A.directionalLength=_,A.pointLength=v,A.spotLength=g,A.rectAreaLength=x,A.hemiLength=b,A.numDirectionalShadows=M,A.numPointShadows=E,A.numSpotShadows=T,A.numSpotMaps=D,r.version=_j++)},setupView:function c(u,d){let h=0,f=0,p=0,_=0,v=0;const g=d.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const M=u[x];if(M.isDirectionalLight){const E=r.directional[h];E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),h++}else if(M.isSpotLight){const E=r.spot[p];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),E.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),E.direction.sub(s),E.direction.transformDirection(g),p++}else if(M.isRectAreaLight){const E=r.rectArea[_];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),E.halfWidth.set(.5*M.width,0,0),E.halfHeight.set(0,.5*M.height,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),_++}else if(M.isPointLight){const E=r.point[f];E.position.setFromMatrixPosition(M.matrixWorld),E.position.applyMatrix4(g),f++}else if(M.isHemisphereLight){const E=r.hemi[v];E.direction.setFromMatrixPosition(M.matrixWorld),E.direction.transformDirection(g),v++}}},state:r}}function yA(n,e){const t=new bj(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function l(d){t.setup(i,d)},setupLightsView:function c(d){t.setupView(i,d)},pushLight:function o(d){i.push(d)},pushShadow:function a(d){r.push(d)}}}function xj(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let l;return void 0===a?(l=new yA(n,e),t.set(s,[l])):o>=a.length?(l=new yA(n,e),a.push(l)):l=a[o],l},dispose:function r(){t=new WeakMap}}}class vA extends $l{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class _A extends $l{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function Ej(n,e,t){let i=new sv;const r=new ne,s=new ne,o=new $t,a=new vA({depthPacking:3201}),l=new _A,c={},u=t.maxTextureSize,d={0:1,1:0,2:2},h=new Ao({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ne},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),f=h.clone();f.defines.HORIZONTAL_PASS=1;const p=new Ct;p.setAttribute("position",new Xn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const _=new xi(p,h),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1;let g=this.type;function x(E,T){const D=e.update(_);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,f.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,f.needsUpdate=!0),null===E.mapPass&&(E.mapPass=new ca(r.x,r.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(T,null,D,h,_,null),f.uniforms.shadow_pass.value=E.mapPass.texture,f.uniforms.resolution.value=E.mapSize,f.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(T,null,D,f,_,null)}function b(E,T,D,L){let S=null;const A=!0===D.isPointLight?E.customDistanceMaterial:E.customDepthMaterial;if(void 0!==A)S=A;else if(S=!0===D.isPointLight?l:a,n.localClippingEnabled&&!0===T.clipShadows&&Array.isArray(T.clippingPlanes)&&0!==T.clippingPlanes.length||T.displacementMap&&0!==T.displacementScale||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const Y=S.uuid,ee=T.uuid;let B=c[Y];void 0===B&&(B={},c[Y]=B);let V=B[ee];void 0===V&&(V=S.clone(),B[ee]=V),S=V}return S.visible=T.visible,S.wireframe=T.wireframe,S.side=3===L?null!==T.shadowSide?T.shadowSide:T.side:null!==T.shadowSide?T.shadowSide:d[T.side],S.alphaMap=T.alphaMap,S.alphaTest=T.alphaTest,S.map=T.map,S.clipShadows=T.clipShadows,S.clippingPlanes=T.clippingPlanes,S.clipIntersection=T.clipIntersection,S.displacementMap=T.displacementMap,S.displacementScale=T.displacementScale,S.displacementBias=T.displacementBias,S.wireframeLinewidth=T.wireframeLinewidth,S.linewidth=T.linewidth,!0===D.isPointLight&&!0===S.isMeshDistanceMaterial&&(n.properties.get(S).light=D),S}function M(E,T,D,L,S){if(!1===E.visible)return;if(E.layers.test(T.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&3===S)&&(!E.frustumCulled||i.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(D.matrixWorldInverse,E.matrixWorld);const ee=e.update(E),B=E.material;if(Array.isArray(B)){const V=ee.groups;for(let j=0,k=V.length;j<k;j++){const F=V[j],U=B[F.materialIndex];if(U&&U.visible){const $=b(E,U,L,S);n.renderBufferDirect(D,null,ee,$,E,F)}}}else if(B.visible){const V=b(E,B,L,S);n.renderBufferDirect(D,null,ee,V,E,null)}}const Y=E.children;for(let ee=0,B=Y.length;ee<B;ee++)M(Y[ee],T,D,L,S)}this.render=function(E,T,D){if(!1===v.enabled||!1===v.autoUpdate&&!1===v.needsUpdate||0===E.length)return;const L=n.getRenderTarget(),S=n.getActiveCubeFace(),A=n.getActiveMipmapLevel(),Y=n.state;Y.setBlending(0),Y.buffers.color.setClear(1,1,1,1),Y.buffers.depth.setTest(!0),Y.setScissorTest(!1);const ee=3!==g&&3===this.type,B=3===g&&3!==this.type;for(let V=0,j=E.length;V<j;V++){const k=E[V],F=k.shadow;if(void 0===F){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(!1===F.autoUpdate&&!1===F.needsUpdate)continue;r.copy(F.mapSize);const U=F.getFrameExtents();if(r.multiply(U),s.copy(F.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/U.x),r.x=s.x*U.x,F.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/U.y),r.y=s.y*U.y,F.mapSize.y=s.y)),null===F.map||!0===ee||!0===B){const J=3!==this.type?{minFilter:In,magFilter:In}:{};null!==F.map&&F.map.dispose(),F.map=new ca(r.x,r.y,J),F.map.texture.name=k.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const $=F.getViewportCount();for(let J=0;J<$;J++){const z=F.getViewport(J);o.set(s.x*z.x,s.y*z.y,s.x*z.z,s.y*z.w),Y.viewport(o),F.updateMatrices(k,J),i=F.getFrustum(),M(T,D,F.camera,k,this.type)}!0!==F.isPointLightShadow&&3===this.type&&x(F,D),F.needsUpdate=!1}g=this.type,v.needsUpdate=!1,n.setRenderTarget(L,S,A)}}function Cj(n,e,t){const i=t.isWebGL2,a=new function r(){let N=!1;const ye=new $t;let X=null;const fe=new $t(0,0,0,0);return{setMask:function(_e){X!==_e&&!N&&(n.colorMask(_e,_e,_e,_e),X=_e)},setLocked:function(_e){N=_e},setClear:function(_e,Bt,dn,Ln,Lo){!0===Lo&&(_e*=Ln,Bt*=Ln,dn*=Ln),ye.set(_e,Bt,dn,Ln),!1===fe.equals(ye)&&(n.clearColor(_e,Bt,dn,Ln),fe.copy(ye))},reset:function(){N=!1,X=null,fe.set(-1,0,0,0)}}},l=new function s(){let N=!1,ye=null,X=null,fe=null;return{setTest:function(_e){_e?we(n.DEPTH_TEST):Pe(n.DEPTH_TEST)},setMask:function(_e){ye!==_e&&!N&&(n.depthMask(_e),ye=_e)},setFunc:function(_e){if(X!==_e){switch(_e){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}X=_e}},setLocked:function(_e){N=_e},setClear:function(_e){fe!==_e&&(n.clearDepth(_e),fe=_e)},reset:function(){N=!1,ye=null,X=null,fe=null}}},c=new function o(){let N=!1,ye=null,X=null,fe=null,_e=null,Bt=null,dn=null,Ln=null,Lo=null;return{setTest:function(on){N||(on?we(n.STENCIL_TEST):Pe(n.STENCIL_TEST))},setMask:function(on){ye!==on&&!N&&(n.stencilMask(on),ye=on)},setFunc:function(on,ps,Ei){(X!==on||fe!==ps||_e!==Ei)&&(n.stencilFunc(on,ps,Ei),X=on,fe=ps,_e=Ei)},setOp:function(on,ps,Ei){(Bt!==on||dn!==ps||Ln!==Ei)&&(n.stencilOp(on,ps,Ei),Bt=on,dn=ps,Ln=Ei)},setLocked:function(on){N=on},setClear:function(on){Lo!==on&&(n.clearStencil(on),Lo=on)},reset:function(){N=!1,ye=null,X=null,fe=null,_e=null,Bt=null,dn=null,Ln=null,Lo=null}}},u=new WeakMap,d=new WeakMap;let h={},f={},p=new WeakMap,_=[],v=null,g=!1,x=null,b=null,M=null,E=null,T=null,D=null,L=null,S=!1,A=null,Y=null,ee=null,B=null,V=null;const j=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let k=!1,F=0;const U=n.getParameter(n.VERSION);-1!==U.indexOf("WebGL")?(F=parseFloat(/^WebGL (\d)/.exec(U)[1]),k=F>=1):-1!==U.indexOf("OpenGL ES")&&(F=parseFloat(/^OpenGL ES (\d)/.exec(U)[1]),k=F>=2);let $=null,J={};const z=n.getParameter(n.SCISSOR_BOX),Z=n.getParameter(n.VIEWPORT),ue=(new $t).fromArray(z),oe=(new $t).fromArray(Z);function xe(N,ye,X,fe){const _e=new Uint8Array(4),Bt=n.createTexture();n.bindTexture(N,Bt),n.texParameteri(N,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(N,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let dn=0;dn<X;dn++)!i||N!==n.TEXTURE_3D&&N!==n.TEXTURE_2D_ARRAY?n.texImage2D(ye+dn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,_e):n.texImage3D(ye,0,n.RGBA,1,1,fe,0,n.RGBA,n.UNSIGNED_BYTE,_e);return Bt}const Ue={};function we(N){!0!==h[N]&&(n.enable(N),h[N]=!0)}function Pe(N){!1!==h[N]&&(n.disable(N),h[N]=!1)}Ue[n.TEXTURE_2D]=xe(n.TEXTURE_2D,n.TEXTURE_2D,1),Ue[n.TEXTURE_CUBE_MAP]=xe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(Ue[n.TEXTURE_2D_ARRAY]=xe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ue[n.TEXTURE_3D]=xe(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),we(n.DEPTH_TEST),l.setFunc(3),re(!1),Fe(1),we(n.CULL_FACE),te(0);const O={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)O[103]=n.MIN,O[104]=n.MAX;else{const N=e.get("EXT_blend_minmax");null!==N&&(O[103]=N.MIN_EXT,O[104]=N.MAX_EXT)}const he={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA};function te(N,ye,X,fe,_e,Bt,dn,Ln){if(0!==N){if(!1===g&&(we(n.BLEND),g=!0),5===N)_e=_e||ye,Bt=Bt||X,dn=dn||fe,(ye!==b||_e!==T)&&(n.blendEquationSeparate(O[ye],O[_e]),b=ye,T=_e),(X!==M||fe!==E||Bt!==D||dn!==L)&&(n.blendFuncSeparate(he[X],he[fe],he[Bt],he[dn]),M=X,E=fe,D=Bt,L=dn),x=N,S=!1;else if(N!==x||Ln!==S){if((100!==b||100!==T)&&(n.blendEquation(n.FUNC_ADD),b=100,T=100),Ln)switch(N){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}else switch(N){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",N)}M=null,E=null,D=null,L=null,x=N,S=Ln}}else!0===g&&(Pe(n.BLEND),g=!1)}function re(N){A!==N&&(n.frontFace(N?n.CW:n.CCW),A=N)}function Fe(N){0!==N?(we(n.CULL_FACE),N!==Y&&n.cullFace(1===N?n.BACK:2===N?n.FRONT:n.FRONT_AND_BACK)):Pe(n.CULL_FACE),Y=N}function Ae(N,ye,X){N?(we(n.POLYGON_OFFSET_FILL),(B!==ye||V!==X)&&(n.polygonOffset(ye,X),B=ye,V=X)):Pe(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:l,stencil:c},enable:we,disable:Pe,bindFramebuffer:function pt(N,ye){return f[N]!==ye&&(n.bindFramebuffer(N,ye),f[N]=ye,i&&(N===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=ye),N===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=ye)),!0)},drawBuffers:function zt(N,ye){let X=_,fe=!1;if(N)if(X=p.get(ye),void 0===X&&(X=[],p.set(ye,X)),N.isWebGLMultipleRenderTargets){const _e=N.texture;if(X.length!==_e.length||X[0]!==n.COLOR_ATTACHMENT0){for(let Bt=0,dn=_e.length;Bt<dn;Bt++)X[Bt]=n.COLOR_ATTACHMENT0+Bt;X.length=_e.length,fe=!0}}else X[0]!==n.COLOR_ATTACHMENT0&&(X[0]=n.COLOR_ATTACHMENT0,fe=!0);else X[0]!==n.BACK&&(X[0]=n.BACK,fe=!0);fe&&(t.isWebGL2?n.drawBuffers(X):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(X))},useProgram:function ze(N){return v!==N&&(n.useProgram(N),v=N,!0)},setBlending:te,setMaterial:function ce(N,ye){2===N.side?Pe(n.CULL_FACE):we(n.CULL_FACE);let X=1===N.side;ye&&(X=!X),re(X),1===N.blending&&!1===N.transparent?te(0):te(N.blending,N.blendEquation,N.blendSrc,N.blendDst,N.blendEquationAlpha,N.blendSrcAlpha,N.blendDstAlpha,N.premultipliedAlpha),l.setFunc(N.depthFunc),l.setTest(N.depthTest),l.setMask(N.depthWrite),a.setMask(N.colorWrite);const fe=N.stencilWrite;c.setTest(fe),fe&&(c.setMask(N.stencilWriteMask),c.setFunc(N.stencilFunc,N.stencilRef,N.stencilFuncMask),c.setOp(N.stencilFail,N.stencilZFail,N.stencilZPass)),Ae(N.polygonOffset,N.polygonOffsetFactor,N.polygonOffsetUnits),!0===N.alphaToCoverage?we(n.SAMPLE_ALPHA_TO_COVERAGE):Pe(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:re,setCullFace:Fe,setLineWidth:function Se(N){N!==ee&&(k&&n.lineWidth(N),ee=N)},setPolygonOffset:Ae,setScissorTest:function it(N){N?we(n.SCISSOR_TEST):Pe(n.SCISSOR_TEST)},activeTexture:function Rt(N){void 0===N&&(N=n.TEXTURE0+j-1),$!==N&&(n.activeTexture(N),$=N)},bindTexture:function yn(N,ye,X){void 0===X&&(X=null===$?n.TEXTURE0+j-1:$);let fe=J[X];void 0===fe&&(fe={type:void 0,texture:void 0},J[X]=fe),(fe.type!==N||fe.texture!==ye)&&($!==X&&(n.activeTexture(X),$=X),n.bindTexture(N,ye||Ue[N]),fe.type=N,fe.texture=ye)},unbindTexture:function R(){const N=J[$];void 0!==N&&void 0!==N.type&&(n.bindTexture(N.type,null),N.type=void 0,N.texture=void 0)},compressedTexImage2D:function C(){try{n.compressedTexImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},compressedTexImage3D:function G(){try{n.compressedTexImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage2D:function He(){try{n.texImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texImage3D:function ke(){try{n.texImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},updateUBOMapping:function Re(N,ye){let X=d.get(ye);void 0===X&&(X=new WeakMap,d.set(ye,X));let fe=X.get(N);void 0===fe&&(fe=n.getUniformBlockIndex(ye,N.name),X.set(N,fe))},uniformBlockBinding:function Tt(N,ye){const fe=d.get(ye).get(N);u.get(ye)!==fe&&(n.uniformBlockBinding(ye,fe,N.__bindingPointIndex),u.set(ye,fe))},texStorage2D:function de(){try{n.texStorage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texStorage3D:function q(){try{n.texStorage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage2D:function ae(){try{n.texSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},texSubImage3D:function se(){try{n.texSubImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},compressedTexSubImage2D:function le(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},compressedTexSubImage3D:function Le(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(N){console.error("THREE.WebGLState:",N)}},scissor:function Be(N){!1===ue.equals(N)&&(n.scissor(N.x,N.y,N.z,N.w),ue.copy(N))},viewport:function Ie(N){!1===oe.equals(N)&&(n.viewport(N.x,N.y,N.z,N.w),oe.copy(N))},reset:function Jt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},$=null,J={},f={},p=new WeakMap,_=[],v=null,g=!1,x=null,b=null,M=null,E=null,T=null,D=null,L=null,S=!1,A=null,Y=null,ee=null,B=null,V=null,ue.set(0,0,n.canvas.width,n.canvas.height),oe.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}}}function Tj(n,e,t,i,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,d=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,f="undefined"!=typeof navigator&&/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let _;const v=new WeakMap;let g=!1;try{g="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(R){}function x(R,C){return g?new OffscreenCanvas(R,C):zu("canvas")}function b(R,C,G,ae){let se=1;if((R.width>ae||R.height>ae)&&(se=ae/Math.max(R.width,R.height)),se<1||!0===C){if("undefined"!=typeof HTMLImageElement&&R instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&R instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&R instanceof ImageBitmap){const le=C?_f:Math.floor,Le=le(se*R.width),de=le(se*R.height);void 0===_&&(_=x(Le,de));const q=G?x(Le,de):_;return q.width=Le,q.height=de,q.getContext("2d").drawImage(R,0,0,Le,de),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+R.width+"x"+R.height+") to ("+Le+"x"+de+")."),q}return"data"in R&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+R.width+"x"+R.height+")."),R}return R}function M(R){return U0(R.width)&&U0(R.height)}function T(R,C){return R.generateMipmaps&&C&&R.minFilter!==In&&R.minFilter!==Rn}function D(R){n.generateMipmap(R)}function L(R,C,G,ae,se=!1){if(!1===a)return C;if(null!==R){if(void 0!==n[R])return n[R];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+R+"'")}let le=C;return C===n.RED&&(G===n.FLOAT&&(le=n.R32F),G===n.HALF_FLOAT&&(le=n.R16F),G===n.UNSIGNED_BYTE&&(le=n.R8)),C===n.RED_INTEGER&&(G===n.UNSIGNED_BYTE&&(le=n.R8UI),G===n.UNSIGNED_SHORT&&(le=n.R16UI),G===n.UNSIGNED_INT&&(le=n.R32UI),G===n.BYTE&&(le=n.R8I),G===n.SHORT&&(le=n.R16I),G===n.INT&&(le=n.R32I)),C===n.RG&&(G===n.FLOAT&&(le=n.RG32F),G===n.HALF_FLOAT&&(le=n.RG16F),G===n.UNSIGNED_BYTE&&(le=n.RG8)),C===n.RGBA&&(G===n.FLOAT&&(le=n.RGBA32F),G===n.HALF_FLOAT&&(le=n.RGBA16F),G===n.UNSIGNED_BYTE&&(le=ae===rn&&!1===se?n.SRGB8_ALPHA8:n.RGBA8),G===n.UNSIGNED_SHORT_4_4_4_4&&(le=n.RGBA4),G===n.UNSIGNED_SHORT_5_5_5_1&&(le=n.RGB5_A1)),(le===n.R16F||le===n.R32F||le===n.RG16F||le===n.RG32F||le===n.RGBA16F||le===n.RGBA32F)&&e.get("EXT_color_buffer_float"),le}function S(R,C,G){return!0===T(R,G)||R.isFramebufferTexture&&R.minFilter!==In&&R.minFilter!==Rn?Math.log2(Math.max(C.width,C.height))+1:void 0!==R.mipmaps&&R.mipmaps.length>0?R.mipmaps.length:R.isCompressedTexture&&Array.isArray(R.image)?C.mipmaps.length:1}function A(R){return R===In||1004===R||1005===R?n.NEAREST:n.LINEAR}function Y(R){const C=R.target;C.removeEventListener("dispose",Y),function B(R){const C=i.get(R);if(void 0===C.__webglInit)return;const G=R.source,ae=v.get(G);if(ae){const se=ae[C.__cacheKey];se.usedTimes--,0===se.usedTimes&&V(R),0===Object.keys(ae).length&&v.delete(G)}i.remove(R)}(C),C.isVideoTexture&&p.delete(C)}function ee(R){const C=R.target;C.removeEventListener("dispose",ee),function j(R){const C=R.texture,G=i.get(R),ae=i.get(C);if(void 0!==ae.__webglTexture&&(n.deleteTexture(ae.__webglTexture),o.memory.textures--),R.depthTexture&&R.depthTexture.dispose(),R.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(G.__webglFramebuffer[se]))for(let le=0;le<G.__webglFramebuffer[se].length;le++)n.deleteFramebuffer(G.__webglFramebuffer[se][le]);else n.deleteFramebuffer(G.__webglFramebuffer[se]);G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer[se])}else{if(Array.isArray(G.__webglFramebuffer))for(let se=0;se<G.__webglFramebuffer.length;se++)n.deleteFramebuffer(G.__webglFramebuffer[se]);else n.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&n.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&n.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let se=0;se<G.__webglColorRenderbuffer.length;se++)G.__webglColorRenderbuffer[se]&&n.deleteRenderbuffer(G.__webglColorRenderbuffer[se]);G.__webglDepthRenderbuffer&&n.deleteRenderbuffer(G.__webglDepthRenderbuffer)}if(R.isWebGLMultipleRenderTargets)for(let se=0,le=C.length;se<le;se++){const Le=i.get(C[se]);Le.__webglTexture&&(n.deleteTexture(Le.__webglTexture),o.memory.textures--),i.remove(C[se])}i.remove(C),i.remove(R)}(C)}function V(R){const C=i.get(R);n.deleteTexture(C.__webglTexture),delete v.get(R.source)[C.__cacheKey],o.memory.textures--}let k=0;function J(R,C){const G=i.get(R);if(R.isVideoTexture&&function Rt(R){const C=o.render.frame;p.get(R)!==C&&(p.set(R,C),R.update())}(R),!1===R.isRenderTargetTexture&&R.version>0&&G.__version!==R.version){const ae=R.image;if(null===ae)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==ae.complete)return void pt(G,R,C);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,G.__webglTexture,n.TEXTURE0+C)}const oe={1e3:n.REPEAT,[bi]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},xe={[In]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Rn]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[na]:n.LINEAR_MIPMAP_LINEAR},Ue={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function we(R,C,G){if(G?(n.texParameteri(R,n.TEXTURE_WRAP_S,oe[C.wrapS]),n.texParameteri(R,n.TEXTURE_WRAP_T,oe[C.wrapT]),(R===n.TEXTURE_3D||R===n.TEXTURE_2D_ARRAY)&&n.texParameteri(R,n.TEXTURE_WRAP_R,oe[C.wrapR]),n.texParameteri(R,n.TEXTURE_MAG_FILTER,xe[C.magFilter]),n.texParameteri(R,n.TEXTURE_MIN_FILTER,xe[C.minFilter])):(n.texParameteri(R,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(R,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(R===n.TEXTURE_3D||R===n.TEXTURE_2D_ARRAY)&&n.texParameteri(R,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(C.wrapS!==bi||C.wrapT!==bi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(R,n.TEXTURE_MAG_FILTER,A(C.magFilter)),n.texParameteri(R,n.TEXTURE_MIN_FILTER,A(C.minFilter)),C.minFilter!==In&&C.minFilter!==Rn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),C.compareFunction&&(n.texParameteri(R,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(R,n.TEXTURE_COMPARE_FUNC,Ue[C.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const ae=e.get("EXT_texture_filter_anisotropic");if(C.magFilter===In||1005!==C.minFilter&&C.minFilter!==na||C.type===Ns&&!1===e.has("OES_texture_float_linear")||!1===a&&C.type===ku&&!1===e.has("OES_texture_half_float_linear"))return;(C.anisotropy>1||i.get(C).__currentAnisotropy)&&(n.texParameterf(R,ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(C.anisotropy,r.getMaxAnisotropy())),i.get(C).__currentAnisotropy=C.anisotropy)}}function Pe(R,C){let G=!1;void 0===R.__webglInit&&(R.__webglInit=!0,C.addEventListener("dispose",Y));const ae=C.source;let se=v.get(ae);void 0===se&&(se={},v.set(ae,se));const le=function $(R){const C=[];return C.push(R.wrapS),C.push(R.wrapT),C.push(R.wrapR||0),C.push(R.magFilter),C.push(R.minFilter),C.push(R.anisotropy),C.push(R.internalFormat),C.push(R.format),C.push(R.type),C.push(R.generateMipmaps),C.push(R.premultiplyAlpha),C.push(R.flipY),C.push(R.unpackAlignment),C.push(R.colorSpace),C.join()}(C);if(le!==R.__cacheKey){void 0===se[le]&&(se[le]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,G=!0),se[le].usedTimes++;const Le=se[R.__cacheKey];void 0!==Le&&(se[R.__cacheKey].usedTimes--,0===Le.usedTimes&&V(C)),R.__cacheKey=le,R.__webglTexture=se[le].texture}return G}function pt(R,C,G){let ae=n.TEXTURE_2D;(C.isDataArrayTexture||C.isCompressedArrayTexture)&&(ae=n.TEXTURE_2D_ARRAY),C.isData3DTexture&&(ae=n.TEXTURE_3D);const se=Pe(R,C),le=C.source;t.bindTexture(ae,R.__webglTexture,n.TEXTURE0+G);const Le=i.get(le);if(le.version!==Le.__version||!0===se){t.activeTexture(n.TEXTURE0+G),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,C.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,C.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const de=function E(R){return!a&&(R.wrapS!==bi||R.wrapT!==bi||R.minFilter!==In&&R.minFilter!==Rn)}(C)&&!1===M(C.image);let q=b(C.image,de,!1,u);q=yn(C,q);const He=M(q)||a,ke=s.convert(C.format,C.colorSpace);let Re,Be=s.convert(C.type),Ie=L(C.internalFormat,ke,Be,C.colorSpace,C.isVideoTexture);we(ae,C,He);const Tt=C.mipmaps,Jt=a&&!0!==C.isVideoTexture,N=void 0===Le.__version||!0===se,ye=S(C,q,He);if(C.isDepthTexture)Ie=n.DEPTH_COMPONENT,a?Ie=C.type===Ns?n.DEPTH_COMPONENT32F:C.type===xo?n.DEPTH_COMPONENT24:C.type===ia?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:C.type===Ns&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),C.format===ra&&Ie===n.DEPTH_COMPONENT&&1012!==C.type&&C.type!==xo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),C.type=xo,Be=s.convert(C.type)),C.format===Il&&Ie===n.DEPTH_COMPONENT&&(Ie=n.DEPTH_STENCIL,C.type!==ia&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),C.type=ia,Be=s.convert(C.type))),N&&(Jt?t.texStorage2D(n.TEXTURE_2D,1,Ie,q.width,q.height):t.texImage2D(n.TEXTURE_2D,0,Ie,q.width,q.height,0,ke,Be,null));else if(C.isDataTexture)if(Tt.length>0&&He){Jt&&N&&t.texStorage2D(n.TEXTURE_2D,ye,Ie,Tt[0].width,Tt[0].height);for(let X=0,fe=Tt.length;X<fe;X++)Re=Tt[X],Jt?t.texSubImage2D(n.TEXTURE_2D,X,0,0,Re.width,Re.height,ke,Be,Re.data):t.texImage2D(n.TEXTURE_2D,X,Ie,Re.width,Re.height,0,ke,Be,Re.data);C.generateMipmaps=!1}else Jt?(N&&t.texStorage2D(n.TEXTURE_2D,ye,Ie,q.width,q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,q.width,q.height,ke,Be,q.data)):t.texImage2D(n.TEXTURE_2D,0,Ie,q.width,q.height,0,ke,Be,q.data);else if(C.isCompressedTexture)if(C.isCompressedArrayTexture){Jt&&N&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ye,Ie,Tt[0].width,Tt[0].height,q.depth);for(let X=0,fe=Tt.length;X<fe;X++)Re=Tt[X],C.format!==gr?null!==ke?Jt?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,X,0,0,0,Re.width,Re.height,q.depth,ke,Re.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,X,Ie,Re.width,Re.height,q.depth,0,Re.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jt?t.texSubImage3D(n.TEXTURE_2D_ARRAY,X,0,0,0,Re.width,Re.height,q.depth,ke,Be,Re.data):t.texImage3D(n.TEXTURE_2D_ARRAY,X,Ie,Re.width,Re.height,q.depth,0,ke,Be,Re.data)}else{Jt&&N&&t.texStorage2D(n.TEXTURE_2D,ye,Ie,Tt[0].width,Tt[0].height);for(let X=0,fe=Tt.length;X<fe;X++)Re=Tt[X],C.format!==gr?null!==ke?Jt?t.compressedTexSubImage2D(n.TEXTURE_2D,X,0,0,Re.width,Re.height,ke,Re.data):t.compressedTexImage2D(n.TEXTURE_2D,X,Ie,Re.width,Re.height,0,Re.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Jt?t.texSubImage2D(n.TEXTURE_2D,X,0,0,Re.width,Re.height,ke,Be,Re.data):t.texImage2D(n.TEXTURE_2D,X,Ie,Re.width,Re.height,0,ke,Be,Re.data)}else if(C.isDataArrayTexture)Jt?(N&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ye,Ie,q.width,q.height,q.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,q.width,q.height,q.depth,ke,Be,q.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,Ie,q.width,q.height,q.depth,0,ke,Be,q.data);else if(C.isData3DTexture)Jt?(N&&t.texStorage3D(n.TEXTURE_3D,ye,Ie,q.width,q.height,q.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,q.width,q.height,q.depth,ke,Be,q.data)):t.texImage3D(n.TEXTURE_3D,0,Ie,q.width,q.height,q.depth,0,ke,Be,q.data);else if(C.isFramebufferTexture){if(N)if(Jt)t.texStorage2D(n.TEXTURE_2D,ye,Ie,q.width,q.height);else{let X=q.width,fe=q.height;for(let _e=0;_e<ye;_e++)t.texImage2D(n.TEXTURE_2D,_e,Ie,X,fe,0,ke,Be,null),X>>=1,fe>>=1}}else if(Tt.length>0&&He){Jt&&N&&t.texStorage2D(n.TEXTURE_2D,ye,Ie,Tt[0].width,Tt[0].height);for(let X=0,fe=Tt.length;X<fe;X++)Re=Tt[X],Jt?t.texSubImage2D(n.TEXTURE_2D,X,0,0,ke,Be,Re):t.texImage2D(n.TEXTURE_2D,X,Ie,ke,Be,Re);C.generateMipmaps=!1}else Jt?(N&&t.texStorage2D(n.TEXTURE_2D,ye,Ie,q.width,q.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,ke,Be,q)):t.texImage2D(n.TEXTURE_2D,0,Ie,ke,Be,q);T(C,He)&&D(ae),Le.__version=le.version,C.onUpdate&&C.onUpdate(C)}R.__version=C.version}function ze(R,C,G,ae,se,le){const Le=s.convert(G.format,G.colorSpace),de=s.convert(G.type),q=L(G.internalFormat,Le,de,G.colorSpace);if(!i.get(C).__hasExternalTextures){const ke=Math.max(1,C.width>>le),Be=Math.max(1,C.height>>le);se===n.TEXTURE_3D||se===n.TEXTURE_2D_ARRAY?t.texImage3D(se,le,q,ke,Be,C.depth,0,Le,de,null):t.texImage2D(se,le,q,ke,Be,0,Le,de,null)}t.bindFramebuffer(n.FRAMEBUFFER,R),it(C)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,ae,se,i.get(G).__webglTexture,0,Ae(C)):(se===n.TEXTURE_2D||se>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&se<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,ae,se,i.get(G).__webglTexture,le),t.bindFramebuffer(n.FRAMEBUFFER,null)}function O(R,C,G){if(n.bindRenderbuffer(n.RENDERBUFFER,R),C.depthBuffer&&!C.stencilBuffer){let ae=n.DEPTH_COMPONENT16;if(G||it(C)){const se=C.depthTexture;se&&se.isDepthTexture&&(se.type===Ns?ae=n.DEPTH_COMPONENT32F:se.type===xo&&(ae=n.DEPTH_COMPONENT24));const le=Ae(C);it(C)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,le,ae,C.width,C.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,le,ae,C.width,C.height)}else n.renderbufferStorage(n.RENDERBUFFER,ae,C.width,C.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,R)}else if(C.depthBuffer&&C.stencilBuffer){const ae=Ae(C);G&&!1===it(C)?n.renderbufferStorageMultisample(n.RENDERBUFFER,ae,n.DEPTH24_STENCIL8,C.width,C.height):it(C)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ae,n.DEPTH24_STENCIL8,C.width,C.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,C.width,C.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,R)}else{const ae=!0===C.isWebGLMultipleRenderTargets?C.texture:[C.texture];for(let se=0;se<ae.length;se++){const le=ae[se],Le=s.convert(le.format,le.colorSpace),de=s.convert(le.type),q=L(le.internalFormat,Le,de,le.colorSpace),He=Ae(C);G&&!1===it(C)?n.renderbufferStorageMultisample(n.RENDERBUFFER,He,q,C.width,C.height):it(C)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,He,q,C.width,C.height):n.renderbufferStorage(n.RENDERBUFFER,q,C.width,C.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function te(R){const C=i.get(R),G=!0===R.isWebGLCubeRenderTarget;if(R.depthTexture&&!C.__autoAllocateDepthBuffer){if(G)throw new Error("target.depthTexture not supported in Cube render targets");!function he(R,C){if(C&&C.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,R),!C.depthTexture||!C.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(C.depthTexture).__webglTexture||C.depthTexture.image.width!==C.width||C.depthTexture.image.height!==C.height)&&(C.depthTexture.image.width=C.width,C.depthTexture.image.height=C.height,C.depthTexture.needsUpdate=!0),J(C.depthTexture,0);const ae=i.get(C.depthTexture).__webglTexture,se=Ae(C);if(C.depthTexture.format===ra)it(C)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ae,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ae,0);else{if(C.depthTexture.format!==Il)throw new Error("Unknown depthTexture format");it(C)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ae,0,se):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ae,0)}}(C.__webglFramebuffer,R)}else if(G){C.__webglDepthbuffer=[];for(let ae=0;ae<6;ae++)t.bindFramebuffer(n.FRAMEBUFFER,C.__webglFramebuffer[ae]),C.__webglDepthbuffer[ae]=n.createRenderbuffer(),O(C.__webglDepthbuffer[ae],R,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,C.__webglFramebuffer),C.__webglDepthbuffer=n.createRenderbuffer(),O(C.__webglDepthbuffer,R,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ae(R){return Math.min(d,R.samples)}function it(R){const C=i.get(R);return a&&R.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==C.__useRenderToTexture}function yn(R,C){const G=R.colorSpace,ae=R.format,se=R.type;return!0===R.isCompressedTexture||!0===R.isVideoTexture||1035===R.format||G!==ls&&""!==G&&(G===rn||G===gf?!1===a?!0===e.has("EXT_sRGB")&&ae===gr?(R.format=1035,R.minFilter=Rn,R.generateMipmaps=!1):C=CT.sRGBToLinear(C):(ae!==gr||se!==bo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",G)),C}this.allocateTextureUnit=function U(){const R=k;return R>=l&&console.warn("THREE.WebGLTextures: Trying to use "+R+" texture units while this GPU supports only "+l),k+=1,R},this.resetTextureUnits=function F(){k=0},this.setTexture2D=J,this.setTexture2DArray=function z(R,C){const G=i.get(R);R.version>0&&G.__version!==R.version?pt(G,R,C):t.bindTexture(n.TEXTURE_2D_ARRAY,G.__webglTexture,n.TEXTURE0+C)},this.setTexture3D=function Z(R,C){const G=i.get(R);R.version>0&&G.__version!==R.version?pt(G,R,C):t.bindTexture(n.TEXTURE_3D,G.__webglTexture,n.TEXTURE0+C)},this.setTextureCube=function ue(R,C){const G=i.get(R);R.version>0&&G.__version!==R.version?function zt(R,C,G){if(6!==C.image.length)return;const ae=Pe(R,C),se=C.source;t.bindTexture(n.TEXTURE_CUBE_MAP,R.__webglTexture,n.TEXTURE0+G);const le=i.get(se);if(se.version!==le.__version||!0===ae){t.activeTexture(n.TEXTURE0+G),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,C.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,C.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,C.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE);const Le=C.isCompressedTexture||C.image[0].isCompressedTexture,de=C.image[0]&&C.image[0].isDataTexture,q=[];for(let X=0;X<6;X++)q[X]=Le||de?de?C.image[X].image:C.image[X]:b(C.image[X],!1,!0,c),q[X]=yn(C,q[X]);const He=q[0],ke=M(He)||a,Be=s.convert(C.format,C.colorSpace),Ie=s.convert(C.type),Re=L(C.internalFormat,Be,Ie,C.colorSpace),Tt=a&&!0!==C.isVideoTexture,Jt=void 0===le.__version||!0===ae;let ye,N=S(C,He,ke);if(we(n.TEXTURE_CUBE_MAP,C,ke),Le){Tt&&Jt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,N,Re,He.width,He.height);for(let X=0;X<6;X++){ye=q[X].mipmaps;for(let fe=0;fe<ye.length;fe++){const _e=ye[fe];C.format!==gr?null!==Be?Tt?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe,0,0,_e.width,_e.height,Be,_e.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe,Re,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Tt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe,0,0,_e.width,_e.height,Be,Ie,_e.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe,Re,_e.width,_e.height,0,Be,Ie,_e.data)}}}else{ye=C.mipmaps,Tt&&Jt&&(ye.length>0&&N++,t.texStorage2D(n.TEXTURE_CUBE_MAP,N,Re,q[0].width,q[0].height));for(let X=0;X<6;X++)if(de){Tt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,q[X].width,q[X].height,Be,Ie,q[X].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,Re,q[X].width,q[X].height,0,Be,Ie,q[X].data);for(let fe=0;fe<ye.length;fe++){const Bt=ye[fe].image[X].image;Tt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe+1,0,0,Bt.width,Bt.height,Be,Ie,Bt.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe+1,Re,Bt.width,Bt.height,0,Be,Ie,Bt.data)}}else{Tt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,0,0,Be,Ie,q[X]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,0,Re,Be,Ie,q[X]);for(let fe=0;fe<ye.length;fe++){const _e=ye[fe];Tt?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe+1,0,0,Be,Ie,_e.image[X]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+X,fe+1,Re,Be,Ie,_e.image[X])}}}T(C,ke)&&D(n.TEXTURE_CUBE_MAP),le.__version=se.version,C.onUpdate&&C.onUpdate(C)}R.__version=C.version}(G,R,C):t.bindTexture(n.TEXTURE_CUBE_MAP,G.__webglTexture,n.TEXTURE0+C)},this.rebindTextures=function ce(R,C,G){const ae=i.get(R);void 0!==C&&ze(ae.__webglFramebuffer,R,R.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==G&&te(R)},this.setupRenderTarget=function re(R){const C=R.texture,G=i.get(R),ae=i.get(C);R.addEventListener("dispose",ee),!0!==R.isWebGLMultipleRenderTargets&&(void 0===ae.__webglTexture&&(ae.__webglTexture=n.createTexture()),ae.__version=C.version,o.memory.textures++);const se=!0===R.isWebGLCubeRenderTarget,le=!0===R.isWebGLMultipleRenderTargets,Le=M(R)||a;if(se){G.__webglFramebuffer=[];for(let de=0;de<6;de++)if(a&&C.mipmaps&&C.mipmaps.length>0){G.__webglFramebuffer[de]=[];for(let q=0;q<C.mipmaps.length;q++)G.__webglFramebuffer[de][q]=n.createFramebuffer()}else G.__webglFramebuffer[de]=n.createFramebuffer()}else{if(a&&C.mipmaps&&C.mipmaps.length>0){G.__webglFramebuffer=[];for(let de=0;de<C.mipmaps.length;de++)G.__webglFramebuffer[de]=n.createFramebuffer()}else G.__webglFramebuffer=n.createFramebuffer();if(le)if(r.drawBuffers){const de=R.texture;for(let q=0,He=de.length;q<He;q++){const ke=i.get(de[q]);void 0===ke.__webglTexture&&(ke.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&R.samples>0&&!1===it(R)){const de=le?C:[C];G.__webglMultisampledFramebuffer=n.createFramebuffer(),G.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,G.__webglMultisampledFramebuffer);for(let q=0;q<de.length;q++){const He=de[q];G.__webglColorRenderbuffer[q]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,G.__webglColorRenderbuffer[q]);const ke=s.convert(He.format,He.colorSpace),Be=s.convert(He.type),Ie=L(He.internalFormat,ke,Be,He.colorSpace,!0===R.isXRRenderTarget),Re=Ae(R);n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,Ie,R.width,R.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+q,n.RENDERBUFFER,G.__webglColorRenderbuffer[q])}n.bindRenderbuffer(n.RENDERBUFFER,null),R.depthBuffer&&(G.__webglDepthRenderbuffer=n.createRenderbuffer(),O(G.__webglDepthRenderbuffer,R,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(se){t.bindTexture(n.TEXTURE_CUBE_MAP,ae.__webglTexture),we(n.TEXTURE_CUBE_MAP,C,Le);for(let de=0;de<6;de++)if(a&&C.mipmaps&&C.mipmaps.length>0)for(let q=0;q<C.mipmaps.length;q++)ze(G.__webglFramebuffer[de][q],R,C,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+de,q);else ze(G.__webglFramebuffer[de],R,C,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0);T(C,Le)&&D(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(le){const de=R.texture;for(let q=0,He=de.length;q<He;q++){const ke=de[q],Be=i.get(ke);t.bindTexture(n.TEXTURE_2D,Be.__webglTexture),we(n.TEXTURE_2D,ke,Le),ze(G.__webglFramebuffer,R,ke,n.COLOR_ATTACHMENT0+q,n.TEXTURE_2D,0),T(ke,Le)&&D(n.TEXTURE_2D)}t.unbindTexture()}else{let de=n.TEXTURE_2D;if((R.isWebGL3DRenderTarget||R.isWebGLArrayRenderTarget)&&(a?de=R.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(de,ae.__webglTexture),we(de,C,Le),a&&C.mipmaps&&C.mipmaps.length>0)for(let q=0;q<C.mipmaps.length;q++)ze(G.__webglFramebuffer[q],R,C,n.COLOR_ATTACHMENT0,de,q);else ze(G.__webglFramebuffer,R,C,n.COLOR_ATTACHMENT0,de,0);T(C,Le)&&D(de),t.unbindTexture()}R.depthBuffer&&te(R)},this.updateRenderTargetMipmap=function Fe(R){const C=M(R)||a,G=!0===R.isWebGLMultipleRenderTargets?R.texture:[R.texture];for(let ae=0,se=G.length;ae<se;ae++){const le=G[ae];if(T(le,C)){const Le=R.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,de=i.get(le).__webglTexture;t.bindTexture(Le,de),D(Le),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Se(R){if(a&&R.samples>0&&!1===it(R)){const C=R.isWebGLMultipleRenderTargets?R.texture:[R.texture],G=R.width,ae=R.height;let se=n.COLOR_BUFFER_BIT;const le=[],Le=R.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,de=i.get(R),q=!0===R.isWebGLMultipleRenderTargets;if(q)for(let He=0;He<C.length;He++)t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,de.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglFramebuffer);for(let He=0;He<C.length;He++){le.push(n.COLOR_ATTACHMENT0+He),R.depthBuffer&&le.push(Le);const ke=void 0!==de.__ignoreDepthValues&&de.__ignoreDepthValues;if(!1===ke&&(R.depthBuffer&&(se|=n.DEPTH_BUFFER_BIT),R.stencilBuffer&&(se|=n.STENCIL_BUFFER_BIT)),q&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,de.__webglColorRenderbuffer[He]),!0===ke&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Le]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Le])),q){const Be=i.get(C[He]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Be,0)}n.blitFramebuffer(0,0,G,ae,0,0,G,ae,se,n.NEAREST),f&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,le)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),q)for(let He=0;He<C.length;He++){t.bindFramebuffer(n.FRAMEBUFFER,de.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.RENDERBUFFER,de.__webglColorRenderbuffer[He]);const ke=i.get(C[He]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,de.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+He,n.TEXTURE_2D,ke,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,de.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=te,this.setupFrameBufferTexture=ze,this.useMultisampledRTT=it}function Dj(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=""){let a;const l=o===rn||o===gf?1:0;if(s===bo)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===xo)return n.UNSIGNED_INT;if(s===Ns)return n.FLOAT;if(s===ku)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===gr)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===ra)return n.DEPTH_COMPONENT;if(s===Il)return n.DEPTH_STENCIL;if(1035===s)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(1===l){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return 1===l?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return 1===l?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return 1===l?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===s)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===ia?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class Pj extends Qn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Xu extends yr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Ij={type:"move"};class hv{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new Xu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new Xu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new I,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new I),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new Xu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new I,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new I),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(c&&e.hand){o=!0;for(const _ of e.hand.values()){const v=t.getJointPose(_,i),g=this._getHandJoint(c,_);null!==v&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=null!==v}const h=c.joints["index-finger-tip"].position.distanceTo(c.joints["thumb-tip"].position),f=.02,p=.005;c.inputState.pinching&&h>f+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=f-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==l&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Ij)))}return null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),null!==c&&(c.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new Xu;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Rj extends Mo{constructor(e,t,i,r,s,o,a,l,c,u){if((u=void 0!==u?u:ra)!==ra&&u!==Il)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&u===ra&&(i=xo),void 0===i&&u===Il&&(i=ia),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:In,this.minFilter=void 0!==l?l:In,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class Oj extends Ll{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,d=null,h=null,f=null,p=null;const _=t.getContextAttributes();let v=null,g=null;const x=[],b=[],M=new Qn;M.layers.enable(1),M.viewport=new $t;const E=new Qn;E.layers.enable(2),E.viewport=new $t;const T=[M,E],D=new Pj;D.layers.enable(1),D.layers.enable(2);let L=null,S=null;function A(z){const Z=b.indexOf(z.inputSource);if(-1===Z)return;const ue=x[Z];void 0!==ue&&(ue.update(z.inputSource,z.frame,c||o),ue.dispatchEvent({type:z.type,data:z.inputSource}))}function Y(){r.removeEventListener("select",A),r.removeEventListener("selectstart",A),r.removeEventListener("selectend",A),r.removeEventListener("squeeze",A),r.removeEventListener("squeezestart",A),r.removeEventListener("squeezeend",A),r.removeEventListener("end",Y),r.removeEventListener("inputsourceschange",ee);for(let z=0;z<x.length;z++){const Z=b[z];null!==Z&&(b[z]=null,x[z].disconnect(Z))}L=null,S=null,e.setRenderTarget(v),f=null,h=null,d=null,r=null,g=null,J.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function ee(z){for(let Z=0;Z<z.removed.length;Z++){const ue=z.removed[Z],oe=b.indexOf(ue);oe>=0&&(b[oe]=null,x[oe].disconnect(ue))}for(let Z=0;Z<z.added.length;Z++){const ue=z.added[Z];let oe=b.indexOf(ue);if(-1===oe){for(let Ue=0;Ue<x.length;Ue++){if(Ue>=b.length){b.push(ue),oe=Ue;break}if(null===b[Ue]){b[Ue]=ue,oe=Ue;break}}if(-1===oe)break}const xe=x[oe];xe&&xe.connect(ue)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(z){let Z=x[z];return void 0===Z&&(Z=new hv,x[z]=Z),Z.getTargetRaySpace()},this.getControllerGrip=function(z){let Z=x[z];return void 0===Z&&(Z=new hv,x[z]=Z),Z.getGripSpace()},this.getHand=function(z){let Z=x[z];return void 0===Z&&(Z=new hv,x[z]=Z),Z.getHandSpace()},this.setFramebufferScaleFactor=function(z){s=z,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(z){a=z,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(z){c=z},this.getBaseLayer=function(){return null!==h?h:f},this.getBinding=function(){return d},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=function(){var z=function X5(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(l){IC(s,i,r,o,a,"next",l)}function a(l){IC(s,i,r,o,a,"throw",l)}o(void 0)})}}(function*(Z){if(r=Z,null!==r){if(v=e.getRenderTarget(),r.addEventListener("select",A),r.addEventListener("selectstart",A),r.addEventListener("selectend",A),r.addEventListener("squeeze",A),r.addEventListener("squeezestart",A),r.addEventListener("squeezeend",A),r.addEventListener("end",Y),r.addEventListener("inputsourceschange",ee),!0!==_.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)f=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||_.antialias,alpha:!0,depth:_.depth,stencil:_.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:f}),g=new ca(f.framebufferWidth,f.framebufferHeight,{format:gr,type:bo,colorSpace:e.outputColorSpace,stencilBuffer:_.stencil});else{let ue=null,oe=null,xe=null;_.depth&&(xe=_.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ue=_.stencil?Il:ra,oe=_.stencil?ia:xo);const Ue={colorFormat:t.RGBA8,depthFormat:xe,scaleFactor:s};d=new XRWebGLBinding(r,t),h=d.createProjectionLayer(Ue),r.updateRenderState({layers:[h]}),g=new ca(h.textureWidth,h.textureHeight,{format:gr,type:bo,depthTexture:new Rj(h.textureWidth,h.textureHeight,oe,void 0,void 0,void 0,void 0,void 0,void 0,ue),stencilBuffer:_.stencil,colorSpace:e.outputColorSpace,samples:_.antialias?4:0}),e.properties.get(g).__ignoreDepthValues=h.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=yield r.requestReferenceSpace(a),J.setContext(r),J.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(Z){return z.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const B=new I,V=new I;function k(z,Z){null===Z?z.matrixWorld.copy(z.matrix):z.matrixWorld.multiplyMatrices(Z.matrixWorld,z.matrix),z.matrixWorldInverse.copy(z.matrixWorld).invert()}this.updateCamera=function(z){if(null===r)return;D.near=E.near=M.near=z.near,D.far=E.far=M.far=z.far,(L!==D.near||S!==D.far)&&(r.updateRenderState({depthNear:D.near,depthFar:D.far}),L=D.near,S=D.far);const Z=z.parent,ue=D.cameras;k(D,Z);for(let oe=0;oe<ue.length;oe++)k(ue[oe],Z);2===ue.length?function j(z,Z,ue){B.setFromMatrixPosition(Z.matrixWorld),V.setFromMatrixPosition(ue.matrixWorld);const oe=B.distanceTo(V),xe=Z.projectionMatrix.elements,Ue=ue.projectionMatrix.elements,we=xe[14]/(xe[10]-1),Pe=xe[14]/(xe[10]+1),pt=(xe[9]+1)/xe[5],zt=(xe[9]-1)/xe[5],ze=(xe[8]-1)/xe[0],O=(Ue[8]+1)/Ue[0],he=we*ze,te=we*O,ce=oe/(-ze+O),re=ce*-ze;Z.matrixWorld.decompose(z.position,z.quaternion,z.scale),z.translateX(re),z.translateZ(ce),z.matrixWorld.compose(z.position,z.quaternion,z.scale),z.matrixWorldInverse.copy(z.matrixWorld).invert();const Fe=we+ce,Se=Pe+ce;z.projectionMatrix.makePerspective(he-re,te+(oe-re),pt*Pe/Se*Fe,zt*Pe/Se*Fe,Fe,Se),z.projectionMatrixInverse.copy(z.projectionMatrix).invert()}(D,M,E):D.projectionMatrix.copy(M.projectionMatrix),function F(z,Z,ue){null===ue?z.matrix.copy(Z.matrixWorld):(z.matrix.copy(ue.matrixWorld),z.matrix.invert(),z.matrix.multiply(Z.matrixWorld)),z.matrix.decompose(z.position,z.quaternion,z.scale),z.updateMatrixWorld(!0),z.projectionMatrix.copy(Z.projectionMatrix),z.projectionMatrixInverse.copy(Z.projectionMatrixInverse),z.isPerspectiveCamera&&(z.fov=2*Nl*Math.atan(1/z.projectionMatrix.elements[5]),z.zoom=1)}(z,D,Z)},this.getCamera=function(){return D},this.getFoveation=function(){if(null!==h||null!==f)return l},this.setFoveation=function(z){l=z,null!==h&&(h.fixedFoveation=z),null!==f&&void 0!==f.fixedFoveation&&(f.fixedFoveation=z)};let U=null;const J=new jT;J.setAnimationLoop(function $(z,Z){if(u=Z.getViewerPose(c||o),p=Z,null!==u){const ue=u.views;null!==f&&(e.setRenderTargetFramebuffer(g,f.framebuffer),e.setRenderTarget(g));let oe=!1;ue.length!==D.cameras.length&&(D.cameras.length=0,oe=!0);for(let xe=0;xe<ue.length;xe++){const Ue=ue[xe];let we=null;if(null!==f)we=f.getViewport(Ue);else{const pt=d.getViewSubImage(h,Ue);we=pt.viewport,0===xe&&(e.setRenderTargetTextures(g,pt.colorTexture,h.ignoreDepthValues?void 0:pt.depthStencilTexture),e.setRenderTarget(g))}let Pe=T[xe];void 0===Pe&&(Pe=new Qn,Pe.layers.enable(xe),Pe.viewport=new $t,T[xe]=Pe),Pe.matrix.fromArray(Ue.transform.matrix),Pe.matrix.decompose(Pe.position,Pe.quaternion,Pe.scale),Pe.projectionMatrix.fromArray(Ue.projectionMatrix),Pe.projectionMatrixInverse.copy(Pe.projectionMatrix).invert(),Pe.viewport.set(we.x,we.y,we.width,we.height),0===xe&&(D.matrix.copy(Pe.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),!0===oe&&D.cameras.push(Pe)}}for(let ue=0;ue<x.length;ue++){const oe=b[ue],xe=x[ue];null!==oe&&void 0!==xe&&xe.update(oe,Z,c||o)}U&&U(z,Z),Z.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Z}),p=null}),this.setAnimationLoop=function(z){U=z},this.dispose=function(){}}}function Lj(n,e){function t(v,g){!0===v.matrixAutoUpdate&&v.updateMatrix(),g.value.copy(v.matrix)}function s(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,t(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,1===g.side&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,t(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),1===g.side&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,t(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,t(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,t(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const x=e.get(g).envMap;if(x&&(v.envMap.value=x,v.flipEnvMap.value=x.isCubeTexture&&!1===x.isRenderTargetTexture?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap){v.lightMap.value=g.lightMap;const b=!0===n._useLegacyLights?Math.PI:1;v.lightMapIntensity.value=g.lightMapIntensity*b,t(g.lightMap,v.lightMapTransform)}g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,t(g.aoMap,v.aoMapTransform))}return{refreshFogUniforms:function i(v,g){g.color.getRGB(v.fogColor.value,GT(n)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)},refreshMaterialUniforms:function r(v,g,x,b,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(v,g):g.isMeshToonMaterial?(s(v,g),function d(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}(v,g)):g.isMeshPhongMaterial?(s(v,g),function u(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}(v,g)):g.isMeshStandardMaterial?(s(v,g),function h(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,t(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,t(g.roughnessMap,v.roughnessMapTransform)),e.get(g).envMap&&(v.envMapIntensity.value=g.envMapIntensity)}(v,g),g.isMeshPhysicalMaterial&&function f(v,g,x){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,t(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,t(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,t(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,t(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,t(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),1===g.side&&v.clearcoatNormalScale.value.negate())),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,t(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,t(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=x.texture,v.transmissionSamplerSize.value.set(x.width,x.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,t(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,t(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,t(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,t(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,t(g.specularIntensityMap,v.specularIntensityMapTransform))}(v,g,M)):g.isMeshMatcapMaterial?(s(v,g),function p(v,g){g.matcap&&(v.matcap.value=g.matcap)}(v,g)):g.isMeshDepthMaterial?s(v,g):g.isMeshDistanceMaterial?(s(v,g),function _(v,g){const x=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(x.matrixWorld),v.nearDistance.value=x.shadow.camera.near,v.farDistance.value=x.shadow.camera.far}(v,g)):g.isMeshNormalMaterial?s(v,g):g.isLineBasicMaterial?(function o(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform))}(v,g),g.isLineDashedMaterial&&function a(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}(v,g)):g.isPointsMaterial?function l(v,g,x,b){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*x,v.scale.value=.5*b,g.map&&(v.map.value=g.map,t(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}(v,g,x,b):g.isSpriteMaterial?function c(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,t(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,t(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}}}function Nj(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function f(x,b,M){const E=x.value;if(void 0===M[b]){if("number"==typeof E)M[b]=E;else{const T=Array.isArray(E)?E:[E],D=[];for(let L=0;L<T.length;L++)D.push(T[L].clone());M[b]=D}return!0}if("number"==typeof E){if(M[b]!==E)return M[b]=E,!0}else{const T=Array.isArray(M[b])?M[b]:[M[b]],D=Array.isArray(E)?E:[E];for(let L=0;L<T.length;L++){const S=T[L];if(!1===S.equals(D[L]))return S.copy(D[L]),!0}}return!1}function _(x){const b={boundary:0,storage:0};return"number"==typeof x?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function v(x){const b=x.target;b.removeEventListener("dispose",v);const M=o.indexOf(b.__bindingPointIndex);o.splice(M,1),n.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}return{bind:function l(x,b){i.uniformBlockBinding(x,b.program)},update:function c(x,b){let M=r[x.id];void 0===M&&(function p(x){const b=x.uniforms;let M=0;let T=0;for(let D=0,L=b.length;D<L;D++){const S=b[D],A={boundary:0,storage:0},Y=Array.isArray(S.value)?S.value:[S.value];for(let ee=0,B=Y.length;ee<B;ee++){const j=_(Y[ee]);A.boundary+=j.boundary,A.storage+=j.storage}if(S.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),S.__offset=M,D>0){T=M%16;const ee=16-T;0!==T&&ee-A.boundary<0&&(M+=16-T,S.__offset=M)}M+=A.storage}T=M%16,T>0&&(M+=16-T),x.__size=M,x.__cache={}}(x),M=function u(x){const b=function d(){for(let x=0;x<a;x++)if(-1===o.indexOf(x))return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();x.__bindingPointIndex=b;const M=n.createBuffer(),E=x.__size,T=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,M),n.bufferData(n.UNIFORM_BUFFER,E,T),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,M),M}(x),r[x.id]=M,x.addEventListener("dispose",v)),i.updateUBOMapping(x,b.program);const T=e.render.frame;s[x.id]!==T&&(function h(x){const M=x.uniforms,E=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[x.id]);for(let T=0,D=M.length;T<D;T++){const L=M[T];if(!0===f(L,T,E)){const S=L.__offset,A=Array.isArray(L.value)?L.value:[L.value];let Y=0;for(let ee=0;ee<A.length;ee++){const B=A[ee],V=_(B);"number"==typeof B?(L.__data[0]=B,n.bufferSubData(n.UNIFORM_BUFFER,S+Y,L.__data)):B.isMatrix3?(L.__data[0]=B.elements[0],L.__data[1]=B.elements[1],L.__data[2]=B.elements[2],L.__data[3]=B.elements[0],L.__data[4]=B.elements[3],L.__data[5]=B.elements[4],L.__data[6]=B.elements[5],L.__data[7]=B.elements[0],L.__data[8]=B.elements[6],L.__data[9]=B.elements[7],L.__data[10]=B.elements[8],L.__data[11]=B.elements[0]):(B.toArray(L.__data,Y),Y+=V.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,S,L.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(x),s[x.id]=T)},dispose:function g(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}}}class wA{constructor(e={}){const{canvas:t=cH(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:o;const f=new Uint32Array(4),p=new Int32Array(4);let _=null,v=null;const g=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=rn,this._useLegacyLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const b=this;let M=!1,E=0,T=0,D=null,L=-1,S=null;const A=new $t,Y=new $t;let ee=null;const B=new Me(0);let V=0,j=t.width,k=t.height,F=1,U=null,$=null;const J=new $t(0,0,j,k),z=new $t(0,0,j,k);let Z=!1;const ue=new sv;let oe=!1,xe=!1,Ue=null;const we=new st,Pe=new ne,pt=new I,zt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ze(){return null===D?F:1}let te,ce,re,Fe,Se,Ae,it,Rt,yn,R,C,G,ae,se,le,Le,de,q,He,ke,Be,Ie,Re,Tt,O=i;function he(P,H){for(let K=0;K<P.length;K++){const Q=t.getContext(P[K],H);if(null!==Q)return Q}return null}try{const P={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r156"),t.addEventListener("webglcontextlost",ye,!1),t.addEventListener("webglcontextrestored",X,!1),t.addEventListener("webglcontextcreationerror",fe,!1),null===O){const H=["webgl2","webgl","experimental-webgl"];if(!0===b.isWebGL1Renderer&&H.shift(),O=he(H,P),null===O)throw he(H)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}"undefined"!=typeof WebGLRenderingContext&&O instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===O.getShaderPrecisionFormat&&(O.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}function Jt(){te=new qW(O),ce=new VW(O,te,e),te.init(ce),Ie=new Dj(O,te,ce),re=new Cj(O,te,ce),Fe=new ZW(O),Se=new pj,Ae=new Tj(O,te,re,Se,ce,Ie,Fe),it=new WW(b),Rt=new YW(b),yn=new BH(O,ce),Re=new zW(O,te,yn,ce),R=new $W(O,yn,Fe,Re),C=new eG(O,R,yn,Fe),He=new JW(O,ce,Ae),Le=new HW(Se),G=new fj(b,it,Rt,te,ce,Re,Le),ae=new Lj(b,Se),se=new gj,le=new xj(te,ce),q=new UW(b,it,Rt,re,C,h,l),de=new Ej(b,C,ce),Tt=new Nj(O,Fe,ce,re),ke=new BW(O,te,Fe,ce),Be=new XW(O,te,Fe,ce),Fe.programs=G.programs,b.capabilities=ce,b.extensions=te,b.properties=Se,b.renderLists=se,b.shadowMap=de,b.state=re,b.info=Fe}Jt();const N=new Oj(b,O);function ye(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function X(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const P=Fe.autoReset,H=de.enabled,K=de.autoUpdate,W=de.needsUpdate,Q=de.type;Jt(),Fe.autoReset=P,de.enabled=H,de.autoUpdate=K,de.needsUpdate=W,de.type=Q}function fe(P){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",P.statusMessage)}function _e(P){const H=P.target;H.removeEventListener("dispose",_e),function Bt(P){(function dn(P){const H=Se.get(P).programs;void 0!==H&&(H.forEach(function(K){G.releaseProgram(K)}),P.isShaderMaterial&&G.releaseShaderCache(P))})(P),Se.remove(P)}(H)}this.xr=N,this.getContext=function(){return O},this.getContextAttributes=function(){return O.getContextAttributes()},this.forceContextLoss=function(){const P=te.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){const P=te.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(P){void 0!==P&&(F=P,this.setSize(j,k,!1))},this.getSize=function(P){return P.set(j,k)},this.setSize=function(P,H,K=!0){N.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(j=P,k=H,t.width=Math.floor(P*F),t.height=Math.floor(H*F),!0===K&&(t.style.width=P+"px",t.style.height=H+"px"),this.setViewport(0,0,P,H))},this.getDrawingBufferSize=function(P){return P.set(j*F,k*F).floor()},this.setDrawingBufferSize=function(P,H,K){j=P,k=H,F=K,t.width=Math.floor(P*K),t.height=Math.floor(H*K),this.setViewport(0,0,P,H)},this.getCurrentViewport=function(P){return P.copy(A)},this.getViewport=function(P){return P.copy(J)},this.setViewport=function(P,H,K,W){P.isVector4?J.set(P.x,P.y,P.z,P.w):J.set(P,H,K,W),re.viewport(A.copy(J).multiplyScalar(F).floor())},this.getScissor=function(P){return P.copy(z)},this.setScissor=function(P,H,K,W){P.isVector4?z.set(P.x,P.y,P.z,P.w):z.set(P,H,K,W),re.scissor(Y.copy(z).multiplyScalar(F).floor())},this.getScissorTest=function(){return Z},this.setScissorTest=function(P){re.setScissorTest(Z=P)},this.setOpaqueSort=function(P){U=P},this.setTransparentSort=function(P){$=P},this.getClearColor=function(P){return P.copy(q.getClearColor())},this.setClearColor=function(){q.setClearColor.apply(q,arguments)},this.getClearAlpha=function(){return q.getClearAlpha()},this.setClearAlpha=function(){q.setClearAlpha.apply(q,arguments)},this.clear=function(P=!0,H=!0,K=!0){let W=0;if(P){let Q=!1;if(null!==D){const Ce=D.texture.format;Q=1033===Ce||1031===Ce||1029===Ce}if(Q){const Ce=D.texture.type,Ge=Ce===bo||Ce===xo||1012===Ce||Ce===ia||1017===Ce||1018===Ce,Qe=q.getClearColor(),Je=q.getClearAlpha(),At=Qe.r,Xe=Qe.g,gt=Qe.b;Ge?(f[0]=At,f[1]=Xe,f[2]=gt,f[3]=Je,O.clearBufferuiv(O.COLOR,0,f)):(p[0]=At,p[1]=Xe,p[2]=gt,p[3]=Je,O.clearBufferiv(O.COLOR,0,p))}else W|=O.COLOR_BUFFER_BIT}H&&(W|=O.DEPTH_BUFFER_BIT),K&&(W|=O.STENCIL_BUFFER_BIT),O.clear(W)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",ye,!1),t.removeEventListener("webglcontextrestored",X,!1),t.removeEventListener("webglcontextcreationerror",fe,!1),se.dispose(),le.dispose(),Se.dispose(),it.dispose(),Rt.dispose(),C.dispose(),Re.dispose(),Tt.dispose(),G.dispose(),N.dispose(),N.removeEventListener("sessionstart",on),N.removeEventListener("sessionend",ps),Ue&&(Ue.dispose(),Ue=null),Ei.stop()},this.renderBufferDirect=function(P,H,K,W,Q,Ce){null===H&&(H=zt);const Ge=Q.isMesh&&Q.matrixWorld.determinant()<0,Qe=function jY(P,H,K,W,Q){!0!==H.isScene&&(H=zt),Ae.resetTextureUnits();const Ce=H.fog,Qe=null===D?b.outputColorSpace:!0===D.isXRRenderTarget?D.texture.colorSpace:ls,Je=(W.isMeshStandardMaterial?Rt:it).get(W.envMap||(W.isMeshStandardMaterial?H.environment:null)),At=!0===W.vertexColors&&!!K.attributes.color&&4===K.attributes.color.itemSize,Xe=!!K.attributes.tangent&&(!!W.normalMap||W.anisotropy>0),gt=!!K.morphAttributes.position,vn=!!K.morphAttributes.normal,xn=!!K.morphAttributes.color;let xr=0;W.toneMapped&&(null===D||!0===D.isXRRenderTarget)&&(xr=b.toneMapping);const qs=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,Nn=void 0!==qs?qs.length:0,It=Se.get(W),C_=v.state.lights;!0!==oe||!0!==xe&&P===S||Le.setState(W,P,P===S&&W.id===L);let Fn=!1;W.version===It.__version?(It.needsLights&&It.lightsStateVersion!==C_.state.version||It.outputColorSpace!==Qe||Q.isInstancedMesh&&!1===It.instancing||!Q.isInstancedMesh&&!0===It.instancing||Q.isSkinnedMesh&&!1===It.skinning||!Q.isSkinnedMesh&&!0===It.skinning||Q.isInstancedMesh&&!0===It.instancingColor&&null===Q.instanceColor||Q.isInstancedMesh&&!1===It.instancingColor&&null!==Q.instanceColor||It.envMap!==Je||!0===W.fog&&It.fog!==Ce||void 0!==It.numClippingPlanes&&(It.numClippingPlanes!==Le.numPlanes||It.numIntersection!==Le.numIntersection)||It.vertexAlphas!==At||It.vertexTangents!==Xe||It.morphTargets!==gt||It.morphNormals!==vn||It.morphColors!==xn||It.toneMapping!==xr||!0===ce.isWebGL2&&It.morphTargetsCount!==Nn)&&(Fn=!0):(Fn=!0,It.__version=W.version);let Ia=It.currentProgram;!0===Fn&&(Ia=Wp(W,H,Q));let DP=!1,pd=!1,T_=!1;const Ci=Ia.getUniforms(),Ra=It.uniforms;if(re.useProgram(Ia.program)&&(DP=!0,pd=!0,T_=!0),W.id!==L&&(L=W.id,pd=!0),DP||S!==P){Ci.setValue(O,"projectionMatrix",P.projectionMatrix),Ci.setValue(O,"viewMatrix",P.matrixWorldInverse);const ir=Ci.map.cameraPosition;void 0!==ir&&ir.setValue(O,pt.setFromMatrixPosition(P.matrixWorld)),ce.logarithmicDepthBuffer&&Ci.setValue(O,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),(W.isMeshPhongMaterial||W.isMeshToonMaterial||W.isMeshLambertMaterial||W.isMeshBasicMaterial||W.isMeshStandardMaterial||W.isShaderMaterial)&&Ci.setValue(O,"isOrthographic",!0===P.isOrthographicCamera),S!==P&&(S=P,pd=!0,T_=!0)}if(Q.isSkinnedMesh){Ci.setOptional(O,Q,"bindMatrix"),Ci.setOptional(O,Q,"bindMatrixInverse");const ir=Q.skeleton;ir&&(ce.floatVertexTextures?(null===ir.boneTexture&&ir.computeBoneTexture(),Ci.setValue(O,"boneTexture",ir.boneTexture,Ae),Ci.setValue(O,"boneTextureSize",ir.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const A_=K.morphAttributes;if((void 0!==A_.position||void 0!==A_.normal||void 0!==A_.color&&!0===ce.isWebGL2)&&He.update(Q,K,Ia),(pd||It.receiveShadow!==Q.receiveShadow)&&(It.receiveShadow=Q.receiveShadow,Ci.setValue(O,"receiveShadow",Q.receiveShadow)),W.isMeshGouraudMaterial&&null!==W.envMap&&(Ra.envMap.value=Je,Ra.flipEnvMap.value=Je.isCubeTexture&&!1===Je.isRenderTargetTexture?-1:1),pd&&(Ci.setValue(O,"toneMappingExposure",b.toneMappingExposure),It.needsLights&&function YY(P,H){P.ambientLightColor.needsUpdate=H,P.lightProbe.needsUpdate=H,P.directionalLights.needsUpdate=H,P.directionalLightShadows.needsUpdate=H,P.pointLights.needsUpdate=H,P.pointLightShadows.needsUpdate=H,P.spotLights.needsUpdate=H,P.spotLightShadows.needsUpdate=H,P.rectAreaLights.needsUpdate=H,P.hemisphereLights.needsUpdate=H}(Ra,T_),Ce&&!0===W.fog&&ae.refreshFogUniforms(Ra,Ce),ae.refreshMaterialUniforms(Ra,W,F,k,Ue),Hf.upload(O,It.uniformsList,Ra,Ae)),W.isShaderMaterial&&!0===W.uniformsNeedUpdate&&(Hf.upload(O,It.uniformsList,Ra,Ae),W.uniformsNeedUpdate=!1),W.isSpriteMaterial&&Ci.setValue(O,"center",Q.center),Ci.setValue(O,"modelViewMatrix",Q.modelViewMatrix),Ci.setValue(O,"normalMatrix",Q.normalMatrix),Ci.setValue(O,"modelMatrix",Q.matrixWorld),W.isShaderMaterial||W.isRawShaderMaterial){const ir=W.uniformsGroups;for(let D_=0,$Y=ir.length;D_<$Y;D_++)if(ce.isWebGL2){const PP=ir[D_];Tt.update(PP,Ia),Tt.bind(PP,Ia)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ia}(P,H,K,W,Q);re.setMaterial(W,Ge);let Je=K.index,At=1;if(!0===W.wireframe){if(Je=R.getWireframeAttribute(K),void 0===Je)return;At=2}const Xe=K.drawRange,gt=K.attributes.position;let vn=Xe.start*At,xn=(Xe.start+Xe.count)*At;null!==Ce&&(vn=Math.max(vn,Ce.start*At),xn=Math.min(xn,(Ce.start+Ce.count)*At)),null!==Je?(vn=Math.max(vn,0),xn=Math.min(xn,Je.count)):null!=gt&&(vn=Math.max(vn,0),xn=Math.min(xn,gt.count));const xr=xn-vn;if(xr<0||xr===1/0)return;Re.setup(Q,W,Qe,K,Je);let qs,Nn=ke;if(null!==Je&&(qs=yn.get(Je),Nn=Be,Nn.setIndex(qs)),Q.isMesh)!0===W.wireframe?(re.setLineWidth(W.wireframeLinewidth*ze()),Nn.setMode(O.LINES)):Nn.setMode(O.TRIANGLES);else if(Q.isLine){let It=W.linewidth;void 0===It&&(It=1),re.setLineWidth(It*ze()),Nn.setMode(Q.isLineSegments?O.LINES:Q.isLineLoop?O.LINE_LOOP:O.LINE_STRIP)}else Q.isPoints?Nn.setMode(O.POINTS):Q.isSprite&&Nn.setMode(O.TRIANGLES);if(Q.isInstancedMesh)Nn.renderInstances(vn,xr,Q.count);else if(K.isInstancedBufferGeometry){const C_=Math.min(K.instanceCount,void 0!==K._maxInstanceCount?K._maxInstanceCount:1/0);Nn.renderInstances(vn,xr,C_)}else Nn.render(vn,xr)},this.compile=function(P,H){function K(W,Q,Ce){!0===W.transparent&&2===W.side&&!1===W.forceSinglePass?(W.side=1,W.needsUpdate=!0,Wp(W,Q,Ce),W.side=0,W.needsUpdate=!0,Wp(W,Q,Ce),W.side=2):Wp(W,Q,Ce)}v=le.get(P),v.init(),x.push(v),P.traverseVisible(function(W){W.isLight&&W.layers.test(H.layers)&&(v.pushLight(W),W.castShadow&&v.pushShadow(W))}),v.setupLights(b._useLegacyLights),P.traverse(function(W){const Q=W.material;if(Q)if(Array.isArray(Q))for(let Ce=0;Ce<Q.length;Ce++)K(Q[Ce],P,W);else K(Q,P,W)}),x.pop(),v=null};let Ln=null;function on(){Ei.stop()}function ps(){Ei.start()}const Ei=new jT;function EP(P,H,K,W){if(!1===P.visible)return;if(P.layers.test(H.layers))if(P.isGroup)K=P.renderOrder;else if(P.isLOD)!0===P.autoUpdate&&P.update(H);else if(P.isLight)v.pushLight(P),P.castShadow&&v.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||ue.intersectsSprite(P)){W&&pt.setFromMatrixPosition(P.matrixWorld).applyMatrix4(we);const Ge=C.update(P),Qe=P.material;Qe.visible&&_.push(P,Ge,Qe,K,pt.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(!P.frustumCulled||ue.intersectsObject(P))){const Ge=C.update(P),Qe=P.material;if(W&&(void 0!==P.boundingSphere?(null===P.boundingSphere&&P.computeBoundingSphere(),pt.copy(P.boundingSphere.center)):(null===Ge.boundingSphere&&Ge.computeBoundingSphere(),pt.copy(Ge.boundingSphere.center)),pt.applyMatrix4(P.matrixWorld).applyMatrix4(we)),Array.isArray(Qe)){const Je=Ge.groups;for(let At=0,Xe=Je.length;At<Xe;At++){const gt=Je[At],vn=Qe[gt.materialIndex];vn&&vn.visible&&_.push(P,Ge,vn,K,pt.z,gt)}}else Qe.visible&&_.push(P,Ge,Qe,K,pt.z,null)}const Ce=P.children;for(let Ge=0,Qe=Ce.length;Ge<Qe;Ge++)EP(Ce[Ge],H,K,W)}function CP(P,H,K,W){const Q=P.opaque,Ce=P.transmissive,Ge=P.transparent;v.setupLightsView(K),!0===oe&&Le.setGlobalState(b.clippingPlanes,K),Ce.length>0&&function GY(P,H,K,W){const Q=ce.isWebGL2;null===Ue&&(Ue=new ca(1,1,{generateMipmaps:!0,type:te.has("EXT_color_buffer_half_float")?ku:bo,minFilter:na,samples:Q?4:0})),b.getDrawingBufferSize(Pe),Q?Ue.setSize(Pe.x,Pe.y):Ue.setSize(_f(Pe.x),_f(Pe.y));const Ce=b.getRenderTarget();b.setRenderTarget(Ue),b.getClearColor(B),V=b.getClearAlpha(),V<1&&b.setClearColor(16777215,.5),b.clear();const Ge=b.toneMapping;b.toneMapping=0,Hp(P,K,W),Ae.updateMultisampleRenderTarget(Ue),Ae.updateRenderTargetMipmap(Ue);let Qe=!1;for(let Je=0,At=H.length;Je<At;Je++){const Xe=H[Je],gt=Xe.object,vn=Xe.geometry,xn=Xe.material,xr=Xe.group;if(2===xn.side&&gt.layers.test(W.layers)){const qs=xn.side;xn.side=1,xn.needsUpdate=!0,TP(gt,K,W,vn,xn,xr),xn.side=qs,xn.needsUpdate=!0,Qe=!0}}!0===Qe&&(Ae.updateMultisampleRenderTarget(Ue),Ae.updateRenderTargetMipmap(Ue)),b.setRenderTarget(Ce),b.setClearColor(B,V),b.toneMapping=Ge}(Q,Ce,H,K),W&&re.viewport(A.copy(W)),Q.length>0&&Hp(Q,H,K),Ce.length>0&&Hp(Ce,H,K),Ge.length>0&&Hp(Ge,H,K),re.buffers.depth.setTest(!0),re.buffers.depth.setMask(!0),re.buffers.color.setMask(!0),re.setPolygonOffset(!1)}function Hp(P,H,K){const W=!0===H.isScene?H.overrideMaterial:null;for(let Q=0,Ce=P.length;Q<Ce;Q++){const Ge=P[Q],Qe=Ge.object,Je=Ge.geometry,At=null===W?Ge.material:W,Xe=Ge.group;Qe.layers.test(K.layers)&&TP(Qe,H,K,Je,At,Xe)}}function TP(P,H,K,W,Q,Ce){P.onBeforeRender(b,H,K,W,Q,Ce),P.modelViewMatrix.multiplyMatrices(K.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),Q.onBeforeRender(b,H,K,W,P,Ce),!0===Q.transparent&&2===Q.side&&!1===Q.forceSinglePass?(Q.side=1,Q.needsUpdate=!0,b.renderBufferDirect(K,H,W,Q,P,Ce),Q.side=0,Q.needsUpdate=!0,b.renderBufferDirect(K,H,W,Q,P,Ce),Q.side=2):b.renderBufferDirect(K,H,W,Q,P,Ce),P.onAfterRender(b,H,K,W,Q,Ce)}function Wp(P,H,K){!0!==H.isScene&&(H=zt);const W=Se.get(P),Q=v.state.lights,Ge=Q.state.version,Qe=G.getParameters(P,Q.state,v.state.shadowsArray,H,K),Je=G.getProgramCacheKey(Qe);let At=W.programs;W.environment=P.isMeshStandardMaterial?H.environment:null,W.fog=H.fog,W.envMap=(P.isMeshStandardMaterial?Rt:it).get(P.envMap||W.environment),void 0===At&&(P.addEventListener("dispose",_e),At=new Map,W.programs=At);let Xe=At.get(Je);if(void 0!==Xe){if(W.currentProgram===Xe&&W.lightsStateVersion===Ge)return AP(P,Qe),Xe}else Qe.uniforms=G.getUniforms(P),P.onBuild(K,Qe,b),P.onBeforeCompile(Qe,b),Xe=G.acquireProgram(Qe,Je),At.set(Je,Xe),W.uniforms=Qe.uniforms;const gt=W.uniforms;(!P.isShaderMaterial&&!P.isRawShaderMaterial||!0===P.clipping)&&(gt.clippingPlanes=Le.uniform),AP(P,Qe),W.needsLights=function qY(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&!0===P.lights}(P),W.lightsStateVersion=Ge,W.needsLights&&(gt.ambientLightColor.value=Q.state.ambient,gt.lightProbe.value=Q.state.probe,gt.directionalLights.value=Q.state.directional,gt.directionalLightShadows.value=Q.state.directionalShadow,gt.spotLights.value=Q.state.spot,gt.spotLightShadows.value=Q.state.spotShadow,gt.rectAreaLights.value=Q.state.rectArea,gt.ltc_1.value=Q.state.rectAreaLTC1,gt.ltc_2.value=Q.state.rectAreaLTC2,gt.pointLights.value=Q.state.point,gt.pointLightShadows.value=Q.state.pointShadow,gt.hemisphereLights.value=Q.state.hemi,gt.directionalShadowMap.value=Q.state.directionalShadowMap,gt.directionalShadowMatrix.value=Q.state.directionalShadowMatrix,gt.spotShadowMap.value=Q.state.spotShadowMap,gt.spotLightMatrix.value=Q.state.spotLightMatrix,gt.spotLightMap.value=Q.state.spotLightMap,gt.pointShadowMap.value=Q.state.pointShadowMap,gt.pointShadowMatrix.value=Q.state.pointShadowMatrix);const vn=Xe.getUniforms(),xn=Hf.seqWithValue(vn.seq,gt);return W.currentProgram=Xe,W.uniformsList=xn,Xe}function AP(P,H){const K=Se.get(P);K.outputColorSpace=H.outputColorSpace,K.instancing=H.instancing,K.instancingColor=H.instancingColor,K.skinning=H.skinning,K.morphTargets=H.morphTargets,K.morphNormals=H.morphNormals,K.morphColors=H.morphColors,K.morphTargetsCount=H.morphTargetsCount,K.numClippingPlanes=H.numClippingPlanes,K.numIntersection=H.numClipIntersection,K.vertexAlphas=H.vertexAlphas,K.vertexTangents=H.vertexTangents,K.toneMapping=H.toneMapping}Ei.setAnimationLoop(function Lo(P){Ln&&Ln(P)}),"undefined"!=typeof self&&Ei.setContext(self),this.setAnimationLoop=function(P){Ln=P,N.setAnimationLoop(P),null===P?Ei.stop():Ei.start()},N.addEventListener("sessionstart",on),N.addEventListener("sessionend",ps),this.render=function(P,H){if(void 0===H||!0===H.isCamera){if(!0!==M){if(!0===P.matrixWorldAutoUpdate&&P.updateMatrixWorld(),null===H.parent&&!0===H.matrixWorldAutoUpdate&&H.updateMatrixWorld(),!0===N.enabled&&!0===N.isPresenting&&(!0===N.cameraAutoUpdate&&N.updateCamera(H),H=N.getCamera()),!0===P.isScene&&P.onBeforeRender(b,P,H,D),v=le.get(P,x.length),v.init(),x.push(v),we.multiplyMatrices(H.projectionMatrix,H.matrixWorldInverse),ue.setFromProjectionMatrix(we),xe=this.localClippingEnabled,oe=Le.init(this.clippingPlanes,xe),_=se.get(P,g.length),_.init(),g.push(_),EP(P,H,0,b.sortObjects),_.finish(),!0===b.sortObjects&&_.sort(U,$),this.info.render.frame++,!0===oe&&Le.beginShadows(),de.render(v.state.shadowsArray,P,H),!0===oe&&Le.endShadows(),!0===this.info.autoReset&&this.info.reset(),q.render(_,P),v.setupLights(b._useLegacyLights),H.isArrayCamera){const W=H.cameras;for(let Q=0,Ce=W.length;Q<Ce;Q++){const Ge=W[Q];CP(_,P,Ge,Ge.viewport)}}else CP(_,P,H);null!==D&&(Ae.updateMultisampleRenderTarget(D),Ae.updateRenderTargetMipmap(D)),!0===P.isScene&&P.onAfterRender(b,P,H),Re.resetDefaultState(),L=-1,S=null,x.pop(),v=x.length>0?x[x.length-1]:null,g.pop(),_=g.length>0?g[g.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return T},this.getRenderTarget=function(){return D},this.setRenderTargetTextures=function(P,H,K){Se.get(P.texture).__webglTexture=H,Se.get(P.depthTexture).__webglTexture=K;const W=Se.get(P);W.__hasExternalTextures=!0,W.__hasExternalTextures&&(W.__autoAllocateDepthBuffer=void 0===K,W.__autoAllocateDepthBuffer||!0===te.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),W.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(P,H){const K=Se.get(P);K.__webglFramebuffer=H,K.__useDefaultFramebuffer=void 0===H},this.setRenderTarget=function(P,H=0,K=0){D=P,E=H,T=K;let W=!0,Q=null,Ce=!1,Ge=!1;if(P){const Je=Se.get(P);void 0!==Je.__useDefaultFramebuffer?(re.bindFramebuffer(O.FRAMEBUFFER,null),W=!1):void 0===Je.__webglFramebuffer?Ae.setupRenderTarget(P):Je.__hasExternalTextures&&Ae.rebindTextures(P,Se.get(P.texture).__webglTexture,Se.get(P.depthTexture).__webglTexture);const At=P.texture;(At.isData3DTexture||At.isDataArrayTexture||At.isCompressedArrayTexture)&&(Ge=!0);const Xe=Se.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(Q=Array.isArray(Xe[H])?Xe[H][K]:Xe[H],Ce=!0):Q=ce.isWebGL2&&P.samples>0&&!1===Ae.useMultisampledRTT(P)?Se.get(P).__webglMultisampledFramebuffer:Array.isArray(Xe)?Xe[K]:Xe,A.copy(P.viewport),Y.copy(P.scissor),ee=P.scissorTest}else A.copy(J).multiplyScalar(F).floor(),Y.copy(z).multiplyScalar(F).floor(),ee=Z;if(re.bindFramebuffer(O.FRAMEBUFFER,Q)&&ce.drawBuffers&&W&&re.drawBuffers(P,Q),re.viewport(A),re.scissor(Y),re.setScissorTest(ee),Ce){const Je=Se.get(P.texture);O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_CUBE_MAP_POSITIVE_X+H,Je.__webglTexture,K)}else if(Ge){const Je=Se.get(P.texture);O.framebufferTextureLayer(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,Je.__webglTexture,K||0,H||0)}L=-1},this.readRenderTargetPixels=function(P,H,K,W,Q,Ce,Ge){if(!P||!P.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Qe=Se.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&void 0!==Ge&&(Qe=Qe[Ge]),Qe){re.bindFramebuffer(O.FRAMEBUFFER,Qe);try{const Je=P.texture,At=Je.format,Xe=Je.type;if(At!==gr&&Ie.convert(At)!==O.getParameter(O.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const gt=Xe===ku&&(te.has("EXT_color_buffer_half_float")||ce.isWebGL2&&te.has("EXT_color_buffer_float"));if(!(Xe===bo||Ie.convert(Xe)===O.getParameter(O.IMPLEMENTATION_COLOR_READ_TYPE)||Xe===Ns&&(ce.isWebGL2||te.has("OES_texture_float")||te.has("WEBGL_color_buffer_float"))||gt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");H>=0&&H<=P.width-W&&K>=0&&K<=P.height-Q&&O.readPixels(H,K,W,Q,Ie.convert(At),Ie.convert(Xe),Ce)}finally{const Je=null!==D?Se.get(D).__webglFramebuffer:null;re.bindFramebuffer(O.FRAMEBUFFER,Je)}}},this.copyFramebufferToTexture=function(P,H,K=0){const W=Math.pow(2,-K),Q=Math.floor(H.image.width*W),Ce=Math.floor(H.image.height*W);Ae.setTexture2D(H,0),O.copyTexSubImage2D(O.TEXTURE_2D,K,0,0,P.x,P.y,Q,Ce),re.unbindTexture()},this.copyTextureToTexture=function(P,H,K,W=0){const Q=H.image.width,Ce=H.image.height,Ge=Ie.convert(K.format),Qe=Ie.convert(K.type);Ae.setTexture2D(K,0),O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,K.flipY),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,K.premultiplyAlpha),O.pixelStorei(O.UNPACK_ALIGNMENT,K.unpackAlignment),H.isDataTexture?O.texSubImage2D(O.TEXTURE_2D,W,P.x,P.y,Q,Ce,Ge,Qe,H.image.data):H.isCompressedTexture?O.compressedTexSubImage2D(O.TEXTURE_2D,W,P.x,P.y,H.mipmaps[0].width,H.mipmaps[0].height,Ge,H.mipmaps[0].data):O.texSubImage2D(O.TEXTURE_2D,W,P.x,P.y,Ge,Qe,H.image),0===W&&K.generateMipmaps&&O.generateMipmap(O.TEXTURE_2D),re.unbindTexture()},this.copyTextureToTexture3D=function(P,H,K,W,Q=0){if(b.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Ce=P.max.x-P.min.x+1,Ge=P.max.y-P.min.y+1,Qe=P.max.z-P.min.z+1,Je=Ie.convert(W.format),At=Ie.convert(W.type);let Xe;if(W.isData3DTexture)Ae.setTexture3D(W,0),Xe=O.TEXTURE_3D;else{if(!W.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Ae.setTexture2DArray(W,0),Xe=O.TEXTURE_2D_ARRAY}O.pixelStorei(O.UNPACK_FLIP_Y_WEBGL,W.flipY),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,W.premultiplyAlpha),O.pixelStorei(O.UNPACK_ALIGNMENT,W.unpackAlignment);const gt=O.getParameter(O.UNPACK_ROW_LENGTH),vn=O.getParameter(O.UNPACK_IMAGE_HEIGHT),xn=O.getParameter(O.UNPACK_SKIP_PIXELS),xr=O.getParameter(O.UNPACK_SKIP_ROWS),qs=O.getParameter(O.UNPACK_SKIP_IMAGES),Nn=K.isCompressedTexture?K.mipmaps[0]:K.image;O.pixelStorei(O.UNPACK_ROW_LENGTH,Nn.width),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,Nn.height),O.pixelStorei(O.UNPACK_SKIP_PIXELS,P.min.x),O.pixelStorei(O.UNPACK_SKIP_ROWS,P.min.y),O.pixelStorei(O.UNPACK_SKIP_IMAGES,P.min.z),K.isDataTexture||K.isData3DTexture?O.texSubImage3D(Xe,Q,H.x,H.y,H.z,Ce,Ge,Qe,Je,At,Nn.data):K.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),O.compressedTexSubImage3D(Xe,Q,H.x,H.y,H.z,Ce,Ge,Qe,Je,Nn.data)):O.texSubImage3D(Xe,Q,H.x,H.y,H.z,Ce,Ge,Qe,Je,At,Nn),O.pixelStorei(O.UNPACK_ROW_LENGTH,gt),O.pixelStorei(O.UNPACK_IMAGE_HEIGHT,vn),O.pixelStorei(O.UNPACK_SKIP_PIXELS,xn),O.pixelStorei(O.UNPACK_SKIP_ROWS,xr),O.pixelStorei(O.UNPACK_SKIP_IMAGES,qs),0===Q&&W.generateMipmaps&&O.generateMipmap(Xe),re.unbindTexture()},this.initTexture=function(P){P.isCubeTexture?Ae.setTextureCube(P,0):P.isData3DTexture?Ae.setTexture3D(P,0):P.isDataArrayTexture||P.isCompressedArrayTexture?Ae.setTexture2DArray(P,0):Ae.setTexture2D(P,0),re.unbindTexture()},this.resetState=function(){E=0,T=0,D=null,re.reset(),Re.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Fs}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===rn?sa:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===sa?rn:ls}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class Fj extends wA{}).prototype.isWebGL1Renderer=!0;class bA extends yr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Wv extends $l{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Me(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Me(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new ne(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function _r(n,e,t){return Gv(n)?new n.constructor(n.subarray(e,void 0!==t?t:n.length)):n.slice(e,t)}function ba(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}function Gv(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}class cp{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class U6 extends cp{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===l)switch(this.getSettings_().endingEnd){case 2401:o=e,l=2*i-t;break;case 2402:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=.5*(i-t),u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,f=this._weightNext,p=(i-t)/(r-t),_=p*p,v=_*p,g=-h*v+2*h*_-h*p,x=(1+h)*v+(-1.5-2*h)*_+(-.5+h)*p+1,b=(-1-f)*v+(1.5+f)*_+.5*p,M=f*v-f*_;for(let E=0;E!==a;++E)s[E]=g*o[u+E]+x*o[c+E]+b*o[l+E]+M*o[d+E];return s}}class oD extends cp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),d=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*u;return s}}class z6 extends cp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class hs{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=ba(t,this.TimeBufferType),this.values=ba(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:ba(e.times,Array),values:ba(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new z6(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new oD(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new U6(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=_r(i,s,o),this.values=_r(this.values,s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if("number"==typeof l&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(null!==o&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(void 0!==r&&Gv(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=_r(this.times),t=_r(this.values),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a];if(c!==e[a+1]&&(1!==a||c!==e[0]))if(r)l=!0;else{const d=a*i,h=d-i,f=d+i;for(let p=0;p!==i;++p){const _=t[d+p];if(_!==t[h+p]||_!==t[f+p]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*i,h=o*i;for(let f=0;f!==i;++f)t[h+f]=t[d+f]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=_r(e,0,o),this.values=_r(t,0,o*i)):(this.times=e,this.values=t),this}clone(){const e=_r(this.times,0),t=_r(this.values,0),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}hs.prototype.TimeBufferType=Float32Array,hs.prototype.ValueBufferType=Float32Array,hs.prototype.DefaultInterpolation=2301;class pc extends hs{}pc.prototype.ValueTypeName="bool",pc.prototype.ValueBufferType=Array,pc.prototype.DefaultInterpolation=2300,pc.prototype.InterpolantFactoryMethodLinear=void 0,pc.prototype.InterpolantFactoryMethodSmooth=void 0;(class aD extends hs{}).prototype.ValueTypeName="color";(class up extends hs{}).prototype.ValueTypeName="number";class B6 extends cp{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Zi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class cd extends hs{InterpolantFactoryMethodLinear(e){return new B6(this.times,this.values,this.getValueSize(),e)}}cd.prototype.ValueTypeName="quaternion",cd.prototype.DefaultInterpolation=2301,cd.prototype.InterpolantFactoryMethodSmooth=void 0;class mc extends hs{}mc.prototype.ValueTypeName="string",mc.prototype.ValueBufferType=Array,mc.prototype.DefaultInterpolation=2300,mc.prototype.InterpolantFactoryMethodLinear=void 0,mc.prototype.InterpolantFactoryMethodSmooth=void 0;(class dp extends hs{}).prototype.ValueTypeName="vector";const gc={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class lD{constructor(e,t,i){const r=this;let l,s=!1,o=0,a=0;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,!1===s&&void 0!==r.onStart&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,void 0!==r.onProgress&&r.onProgress(u,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(u){void 0!==r.onError&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return-1!==d&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,h=c.length;d<h;d+=2){const f=c[d],p=c[d+1];if(f.global&&(f.lastIndex=0),f.test(u))return p}return null}}}const W6=new lD;let cD=(()=>{class n{constructor(t){this.manager=void 0!==t?t:W6,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,o){r.load(t,s,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();Error;class fp extends cD{constructor(e){super(e)}load(e,t,i,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=gc.get(e);if(void 0!==o)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=zu("img");function l(){u(),gc.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(d){u(),r&&r(d),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),"data:"!==e.slice(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class j6 extends cD{constructor(e){super(e)}load(e,t,i,r){const s=new Mo,o=new fp(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,void 0!==t&&t(s)},i,r),s}}class _D{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=wD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=wD();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function wD(){return("undefined"==typeof performance?Date:performance).now()}const Zv="\\[\\]\\.:\\/",c7=new RegExp("["+Zv+"]","g"),Kv="[^"+Zv+"]",u7="[^"+Zv.replace("\\.","")+"]",m7=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Kv)+/(WCOD+)?/.source.replace("WCOD",u7)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Kv)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Kv)+"$"),g7=["material","materials","bones","map"];class y7{constructor(e,t,i){const r=i||sn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let sn=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(c7,"")}static parseTrackName(t){const i=m7.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==g7.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const l=o[a];if(l.name===i||l.uuid===i)return l;const c=r(l.children);if(c)return c}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let u=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let d=0;d<t.length;d++)if(t[d].name===u){u=d;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==u){if(void 0===t[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[u]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}c=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(c=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=y7,n})();sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},sn.prototype.GetterByBindingType=[sn.prototype._getValue_direct,sn.prototype._getValue_array,sn.prototype._getValue_arrayElement,sn.prototype._getValue_toArray],sn.prototype.SetterByBindingTypeAndVersioning=[[sn.prototype._setValue_direct,sn.prototype._setValue_direct_setNeedsUpdate,sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_array,sn.prototype._setValue_array_setNeedsUpdate,sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_arrayElement,sn.prototype._setValue_arrayElement_setNeedsUpdate,sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[sn.prototype._setValue_fromArray,sn.prototype._setValue_fromArray_setNeedsUpdate,sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1),"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"156"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="156");let x7=(()=>{class n{constructor(t){this.el=t,this.smokeParticles=[],this.delta=0}ngOnInit(){}ngAfterViewInit(){this.init(),this.animate()}ngOnDestroy(){}init(){this.smokeGeo=new qu(300,300);const i=(new j6).load("https://s3-us-west-2.amazonaws.com/s.cdpn.io/95637/Smoke-Element.png");this.smokeMaterial=new Wv({color:16777215,map:i,transparent:!0});for(let r=0;r<150;r++){const s=new xi(this.smokeGeo,this.smokeMaterial);s.position.set(500*Math.random()-250,500*Math.random()-250,1e3*Math.random()-100),s.rotation.z=360*Math.random(),this.scene.add(s),this.smokeParticles.push(s)}this.clock=new _D,this.renderer=new wA({canvas:this.el.nativeElement.querySelector("#myCanvas")}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.scene=new bA,this.camera=new Qn(75,window.innerWidth/window.innerHeight,1,1e4),this.camera.position.z=1e3,this.scene.add(this.camera),this.geometry=new pa(200,200,200),this.material=new Wv({color:16777215,wireframe:!1}),this.mesh=new xi(this.geometry,this.material)}animate(){this.delta=this.clock.getDelta(),requestAnimationFrame(()=>this.animate()),this.evolveSmoke(),this.render()}evolveSmoke(){let t=this.smokeParticles.length;for(;t--;)this.smokeParticles[t].rotation.z+=.2*this.delta}render(){this.mesh.rotation.x+=.005,this.mesh.rotation.y+=.01,this.mesh.position.z=100+500*Math.sin(.01),this.renderer.render(this.scene,this.camera)}}return n.\u0275fac=function(t){return new(t||n)(Te(Es))},n.\u0275cmp=Yn({type:n,selectors:[["app-smoke"]],decls:22,vars:0,consts:[["id","myCanvas"],[1,"text"]],template:function(t,i){1&t&&(dt(0,"canvas",0),w(1,"div",1)(2,"span"),y(3,"A"),m(),w(4,"span"),y(5,"b"),m(),w(6,"span"),y(7,"e"),m(),w(8,"span"),y(9,"c"),m(),w(10,"span"),y(11,"a"),m(),w(12,"span"),y(13,"d"),m(),w(14,"span"),y(15,"\u0142"),m(),w(16,"span"),y(17,"o"),m(),w(18,"span"),y(19,"w"),m(),w(20,"span"),y(21,"o"),m()())},styles:['@import"https://fonts.googleapis.com/css?family=Finger+Paint";*[_ngcontent-%COMP%]{margin:0;padding:0;outline:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{width:100%;height:100%;overflow:hidden;background:black;font-family:Oswald,sans-serif;font-size:16vw}#myCanvas[_ngcontent-%COMP%]{color:#faebd7;width:1px}.text[_ngcontent-%COMP%]{position:absolute;inset:55% 0 0;margin:auto;text-align:center;color:transparent;-webkit-backface-visibility:hidden;backface-visibility:hidden}span[_ngcontent-%COMP%]{font-size:10vw;font-family:Oswald,sans-serif;display:inline-block;text-shadow:0 0 0 whitesmoke;animation:smoky 5s 3s both}span[_ngcontent-%COMP%]:nth-child(even){animation-name:smoky-mirror}span[_ngcontent-%COMP%]:nth-of-type(1){animation-delay:3.1s}span[_ngcontent-%COMP%]:nth-of-type(2){animation-delay:3.2s}span[_ngcontent-%COMP%]:nth-of-type(3){animation-delay:3.3s}span[_ngcontent-%COMP%]:nth-of-type(4){animation-delay:3.4s}span[_ngcontent-%COMP%]:nth-of-type(5){animation-delay:3.5s}span[_ngcontent-%COMP%]:nth-of-type(6){animation-delay:3.6s}span[_ngcontent-%COMP%]:nth-of-type(7){animation-delay:3.7s}span[_ngcontent-%COMP%]:nth-of-type(8){animation-delay:3.8s}span[_ngcontent-%COMP%]:nth-of-type(9){animation-delay:3.9s}span[_ngcontent-%COMP%]:nth-of-type(10){animation-delay:4s}span[_ngcontent-%COMP%]:nth-of-type(11){animation-delay:4.1s}span[_ngcontent-%COMP%]:nth-of-type(12){animation-delay:4.2s}@keyframes smoky{60%{text-shadow:0 0 40px whitesmoke}to{transform:translate(15rem,-8rem) rotate(-40deg) skew(70deg) scale(1.5);text-shadow:0 0 20px whitesmoke;opacity:0}}@keyframes smoky-mirror{60%{text-shadow:0 0 40px whitesmoke}to{transform:translate(18rem,-8rem) rotate(-40deg) skew(-70deg) scale(2);text-shadow:0 0 20px whitesmoke;opacity:0}}']}),n})();const M7=["target"];function S7(n,e){if(1&n&&(w(0,"div")(1,"div",22),y(2),dt(3,"img",23),m()()),2&n){const t=e.$implicit;Ye(1),ut("ngClass",t.bgc),Ye(1),lo(" ",t.name," "),Ye(1),ut("src",t.image,Hc)}}const E7=[{path:"",component:q5},{path:"privacy-policy",component:AC},{path:"privacy-policy-en",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-policy-privacy-en"]],decls:318,vars:0,consts:[[1,"modal-content"],["href","https://www.freeprivacypolicy.com/free-privacy-policy-generator/","target","_blank"],["href","https://webaby.io","rel","external nofollow noopener","target","_blank"],["href","https://www.freeprivacypolicy.com/blog/sample-privacy-policy-template/#Use_Of_Cookies_And_Tracking","target","_blank"]],template:function(t,i){1&t&&(w(0,"div",0),dt(1,"p"),w(2,"h1"),y(3,"Privacy Policy"),m(),w(4,"p"),y(5,"Last updated: April 10, 2024"),m(),w(6,"p"),y(7,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),m(),w(8,"p"),y(9,"We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. This Privacy Policy has been created with the help of the "),w(10,"a",1),y(11,"Free Privacy Policy Generator"),m(),y(12,"."),m(),w(13,"h2"),y(14,"Interpretation and Definitions"),m(),w(15,"h3"),y(16,"Interpretation"),m(),w(17,"p"),y(18,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),m(),w(19,"h3"),y(20,"Definitions"),m(),w(21,"p"),y(22,"For the purposes of this Privacy Policy:"),m(),w(23,"ul")(24,"li")(25,"p")(26,"strong"),y(27,"Account"),m(),y(28," means a unique account created for You to access our Service or parts of our Service."),m()(),w(29,"li")(30,"p")(31,"strong"),y(32,"Affiliate"),m(),y(33,' means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),m()(),w(34,"li")(35,"p")(36,"strong"),y(37,"Company"),m(),y(38,' (referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Webaby, ul. \u017bytnia 13, 01-181 Warszawa.'),m()(),w(39,"li")(40,"p")(41,"strong"),y(42,"Cookies"),m(),y(43," are small files that are placed on Your computer, mobile device or any other device by a website, containing the details of Your browsing history on that website among its many uses."),m()(),w(44,"li")(45,"p")(46,"strong"),y(47,"Country"),m(),y(48," refers to: Poland"),m()(),w(49,"li")(50,"p")(51,"strong"),y(52,"Device"),m(),y(53," means any device that can access the Service such as a computer, a cellphone or a digital tablet."),m()(),w(54,"li")(55,"p")(56,"strong"),y(57,"Personal Data"),m(),y(58," is any information that relates to an identified or identifiable individual."),m()(),w(59,"li")(60,"p")(61,"strong"),y(62,"Service"),m(),y(63," refers to the Website."),m()(),w(64,"li")(65,"p")(66,"strong"),y(67,"Service Provider"),m(),y(68," means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used."),m()(),w(69,"li")(70,"p")(71,"strong"),y(72,"Usage Data"),m(),y(73," refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."),m()(),w(74,"li")(75,"p")(76,"strong"),y(77,"Website"),m(),y(78," refers to Webaby, accessible from "),w(79,"a",2),y(80,"https://webaby.io"),m()()(),w(81,"li")(82,"p")(83,"strong"),y(84,"You"),m(),y(85," means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),m()()(),w(86,"h2"),y(87,"Collecting and Using Your Personal Data"),m(),w(88,"h3"),y(89,"Types of Data Collected"),m(),w(90,"h4"),y(91,"Personal Data"),m(),w(92,"p"),y(93,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),m(),w(94,"ul")(95,"li")(96,"p"),y(97,"Email address"),m()(),w(98,"li")(99,"p"),y(100,"Usage Data"),m()()(),w(101,"h4"),y(102,"Usage Data"),m(),w(103,"p"),y(104,"Usage Data is collected automatically when using the Service."),m(),w(105,"p"),y(106,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."),m(),w(107,"p"),y(108,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers and other diagnostic data."),m(),w(109,"p"),y(110,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),m(),w(111,"h4"),y(112,"Tracking Technologies and Cookies"),m(),w(113,"p"),y(114,"We use Cookies and similar tracking technologies to track the activity on Our Service and store certain information. Tracking technologies used are beacons, tags, and scripts to collect and track information and to improve and analyze Our Service. The technologies We use may include:"),m(),w(115,"ul")(116,"li")(117,"strong"),y(118,"Cookies or Browser Cookies."),m(),y(119," A cookie is a small file placed on Your Device. You can instruct Your browser to refuse all Cookies or to indicate when a Cookie is being sent. However, if You do not accept Cookies, You may not be able to use some parts of our Service. Unless you have adjusted Your browser setting so that it will refuse Cookies, our Service may use Cookies."),m(),w(120,"li")(121,"strong"),y(122,"Web Beacons."),m(),y(123," Certain sections of our Service and our emails may contain small electronic files known as web beacons (also referred to as clear gifs, pixel tags, and single-pixel gifs) that permit the Company, for example, to count users who have visited those pages or opened an email and for other related website statistics (for example, recording the popularity of a certain section and verifying system and server integrity)."),m()(),w(124,"p"),y(125,'Cookies can be "Persistent" or "Session" Cookies. Persistent Cookies remain on Your personal computer or mobile device when You go offline, while Session Cookies are deleted as soon as You close Your web browser. Learn more about cookies on the '),w(126,"a",3),y(127,"Free Privacy Policy website"),m(),y(128," article."),m(),w(129,"p"),y(130,"We use both Session and Persistent Cookies for the purposes set out below:"),m(),w(131,"ul")(132,"li")(133,"p")(134,"strong"),y(135,"Necessary / Essential Cookies"),m()(),w(136,"p"),y(137,"Type: Session Cookies"),m(),w(138,"p"),y(139,"Administered by: Us"),m(),w(140,"p"),y(141,"Purpose: These Cookies are essential to provide You with services available through the Website and to enable You to use some of its features. They help to authenticate users and prevent fraudulent use of user accounts. Without these Cookies, the services that You have asked for cannot be provided, and We only use these Cookies to provide You with those services."),m()(),w(142,"li")(143,"p")(144,"strong"),y(145,"Cookies Policy / Notice Acceptance Cookies"),m()(),w(146,"p"),y(147,"Type: Persistent Cookies"),m(),w(148,"p"),y(149,"Administered by: Us"),m(),w(150,"p"),y(151,"Purpose: These Cookies identify if users have accepted the use of cookies on the Website."),m()(),w(152,"li")(153,"p")(154,"strong"),y(155,"Functionality Cookies"),m()(),w(156,"p"),y(157,"Type: Persistent Cookies"),m(),w(158,"p"),y(159,"Administered by: Us"),m(),w(160,"p"),y(161,"Purpose: These Cookies allow us to remember choices You make when You use the Website, such as remembering your login details or language preference. The purpose of these Cookies is to provide You with a more personal experience and to avoid You having to re-enter your preferences every time You use the Website."),m()()(),w(162,"p"),y(163,"For more information about the cookies we use and your choices regarding cookies, please visit our Cookies Policy or the Cookies section of our Privacy Policy."),m(),w(164,"h3"),y(165,"Use of Your Personal Data"),m(),w(166,"p"),y(167,"The Company may use Personal Data for the following purposes:"),m(),w(168,"ul")(169,"li")(170,"p")(171,"strong"),y(172,"To provide and maintain our Service"),m(),y(173,", including to monitor the usage of our Service."),m()(),w(174,"li")(175,"p")(176,"strong"),y(177,"To manage Your Account:"),m(),y(178," to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),m()(),w(179,"li")(180,"p")(181,"strong"),y(182,"For the performance of a contract:"),m(),y(183," the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),m()(),w(184,"li")(185,"p")(186,"strong"),y(187,"To contact You:"),m(),y(188," To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),m()(),w(189,"li")(190,"p")(191,"strong"),y(192,"To provide You"),m(),y(193," with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),m()(),w(194,"li")(195,"p")(196,"strong"),y(197,"To manage Your requests:"),m(),y(198," To attend and manage Your requests to Us."),m()(),w(199,"li")(200,"p")(201,"strong"),y(202,"For business transfers:"),m(),y(203," We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),m()(),w(204,"li")(205,"p")(206,"strong"),y(207,"For other purposes"),m(),y(208,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),m()()(),w(209,"p"),y(210,"We may share Your personal information in the following situations:"),m(),w(211,"ul")(212,"li")(213,"strong"),y(214,"With Service Providers:"),m(),y(215," We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You."),m(),w(216,"li")(217,"strong"),y(218,"For business transfers:"),m(),y(219," We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company."),m(),w(220,"li")(221,"strong"),y(222,"With Affiliates:"),m(),y(223," We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us."),m(),w(224,"li")(225,"strong"),y(226,"With business partners:"),m(),y(227," We may share Your information with Our business partners to offer You certain products, services or promotions."),m(),w(228,"li")(229,"strong"),y(230,"With other users:"),m(),y(231," when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside."),m(),w(232,"li")(233,"strong"),y(234,"With Your consent"),m(),y(235,": We may disclose Your personal information for any other purpose with Your consent."),m()(),w(236,"h3"),y(237,"Retention of Your Personal Data"),m(),w(238,"p"),y(239,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),m(),w(240,"p"),y(241,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods."),m(),w(242,"h3"),y(243,"Transfer of Your Personal Data"),m(),w(244,"p"),y(245,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."),m(),w(246,"p"),y(247,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),m(),w(248,"p"),y(249,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),m(),w(250,"h3"),y(251,"Delete Your Personal Data"),m(),w(252,"p"),y(253,"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You."),m(),w(254,"p"),y(255,"Our Service may give You the ability to delete certain information about You from within the Service."),m(),w(256,"p"),y(257,"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."),m(),w(258,"p"),y(259,"Please note, however, that We may need to retain certain information when we have a legal obligation or lawful basis to do so."),m(),w(260,"h3"),y(261,"Disclosure of Your Personal Data"),m(),w(262,"h4"),y(263,"Business Transactions"),m(),w(264,"p"),y(265,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),m(),w(266,"h4"),y(267,"Law enforcement"),m(),w(268,"p"),y(269,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency)."),m(),w(270,"h4"),y(271,"Other legal requirements"),m(),w(272,"p"),y(273,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to:"),m(),w(274,"ul")(275,"li"),y(276,"Comply with a legal obligation"),m(),w(277,"li"),y(278,"Protect and defend the rights or property of the Company"),m(),w(279,"li"),y(280,"Prevent or investigate possible wrongdoing in connection with the Service"),m(),w(281,"li"),y(282,"Protect the personal safety of Users of the Service or the public"),m(),w(283,"li"),y(284,"Protect against legal liability"),m()(),w(285,"h3"),y(286,"Security of Your Personal Data"),m(),w(287,"p"),y(288,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),m(),w(289,"h2"),y(290,"Children's Privacy"),m(),w(291,"p"),y(292,"Our Service does not address anyone under the age of 13. We do not knowingly collect personally identifiable information from anyone under the age of 13. If You are a parent or guardian and You are aware that Your child has provided Us with Personal Data, please contact Us. If We become aware that We have collected Personal Data from anyone under the age of 13 without verification of parental consent, We take steps to remove that information from Our servers."),m(),w(293,"p"),y(294,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information."),m(),w(295,"h2"),y(296,"Links to Other Websites"),m(),w(297,"p"),y(298,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),m(),w(299,"p"),y(300,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),m(),w(301,"h2"),y(302,"Changes to this Privacy Policy"),m(),w(303,"p"),y(304,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),m(),w(305,"p"),y(306,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),m(),w(307,"p"),y(308,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),m(),w(309,"h2"),y(310,"Contact Us"),m(),w(311,"p"),y(312,"If you have any questions about this Privacy Policy, You can contact us:"),m(),w(313,"ul")(314,"li"),y(315,"By visiting this page on our website: "),w(316,"a",2),y(317,"https://webaby.io"),m()()()())},styles:[".modal[_ngcontent-%COMP%]{display:block;background-color:#0e215f66;color:#dde9a8;position:fixed;top:0;left:0;width:100%;height:100%}.modal-content[_ngcontent-%COMP%]{background-color:#686286;color:#a4aa8b;margin:15% auto;padding:20px;border:1px solid #888;width:80%;font-size:1.5em}.close[_ngcontent-%COMP%]{color:#aaa;float:right;font-size:28px;font-weight:700}.close[_ngcontent-%COMP%]:hover, .close[_ngcontent-%COMP%]:focus{color:#000;text-decoration:none;cursor:pointer}a[_ngcontent-%COMP%]:link{color:#d67608}a[_ngcontent-%COMP%]:visited{color:#660707}"]}),n})()},{path:"privacy-policy-basketball",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-privacy-policy-basketball"]],decls:297,vars:0,consts:[[1,"policy"],["href","https://policies.google.com/technologies/partner-sites","target","_blank"]],template:function(t,i){1&t&&(w(0,"div",0)(1,"div")(2,"p"),y(3,"Privacy Policy for Basketball shots"),m()()(),w(4,"div")(5,"div")(6,"div")(7,"h1"),y(8,"Privacy Policy"),m(),w(9,"p"),y(10,"Last updated: May 8, 2025"),m(),w(11,"p"),y(12,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),m(),w(13,"p"),y(14,"We use Your Personal Data to provide and improve the Service, including for the purpose of displaying advertisements. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. "),m(),w(15,"h2"),y(16,"Interpretation and Definitions"),m(),w(17,"h3"),y(18,"Interpretation"),m(),w(19,"p"),y(20,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),m(),w(21,"h3"),y(22,"Definitions"),m(),w(23,"p"),y(24,"For the purposes of this Privacy Policy:"),m(),w(25,"ul")(26,"li")(27,"p")(28,"strong"),y(29,"Account"),m(),y(30,"\xa0means a unique account created for You to access our Service or parts of our Service."),m()(),w(31,"li")(32,"p")(33,"strong"),y(34,"Affiliate"),m(),y(35,'\xa0means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),m()(),w(36,"li")(37,"p")(38,"strong"),y(39,"Application"),m(),y(40,"\xa0refers to Basketball shots, the software program provided by the Company."),m()(),w(41,"li")(42,"p")(43,"strong"),y(44,"Company"),m(),y(45,'\xa0(referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Webaby, Warszawa, Polska.'),m()(),w(46,"li")(47,"p")(48,"strong"),y(49,"Country"),m(),y(50,"\xa0refers to: Poland"),m()(),w(51,"li")(52,"p")(53,"strong"),y(54,"Device"),m(),y(55,"\xa0means any device that can access the Service such as a computer, a cellphone or a digital tablet."),m()(),w(56,"li")(57,"p")(58,"strong"),y(59,"Personal Data"),m(),y(60,"\xa0is any information that relates to an identified or identifiable individual."),m()(),w(61,"li")(62,"p")(63,"strong"),y(64,"Service"),m(),y(65,"\xa0refers to the Application."),m()(),w(66,"li")(67,"p")(68,"strong"),y(69,"Service Provider"),m(),y(70,"\xa0means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used. "),w(71,"strong"),y(72,"In the context of displaying advertisements, Service Providers include third-party ad network providers like Google AdMob."),m()()(),w(73,"li")(74,"p")(75,"strong"),y(76,"Usage Data"),m(),y(77,"\xa0refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit). "),w(78,"strong"),y(79,"Usage Data may also include information used for the purpose of displaying advertisements."),m()()(),w(80,"li")(81,"p")(82,"strong"),y(83,"You"),m(),y(84,"\xa0means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),m()()(),w(85,"h2"),y(86,"Collecting and Using Your Personal Data"),m(),w(87,"h3"),y(88,"Types of Data Collected"),m(),w(89,"h4"),y(90,"Personal Data"),m(),w(91,"p"),y(92,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),m(),w(93,"ul")(94,"li")(95,"p"),y(96,"Email address"),m()(),w(97,"li")(98,"p"),y(99,"First name and last name"),m()(),w(100,"li")(101,"p"),y(102,"Phone number"),m()()(),w(103,"h4"),y(104,"Usage Data"),m(),w(105,"p"),y(106,"Usage Data is collected automatically when using the Service."),m(),w(107,"p"),y(108,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers, **advertising identifiers (such as Android Advertising ID/AAID, IDFA),** and other diagnostic data."),m(),w(109,"p"),y(110,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers, **advertising identifiers**, and other diagnostic data."),m(),w(111,"p"),y(112,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),m(),w(113,"h3"),y(114,"Use of Your Personal Data"),m(),w(115,"p"),y(116,"The Company may use Personal Data for the following purposes:"),m(),w(117,"ul")(118,"li")(119,"p")(120,"strong"),y(121,"To provide and maintain our Service"),m(),y(122,", including to monitor the usage of our Service."),m()(),w(123,"li")(124,"p")(125,"strong"),y(126,"To manage Your Account:"),m(),y(127,"\xa0to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),m()(),w(128,"li")(129,"p")(130,"strong"),y(131,"For the performance of a contract:"),m(),y(132,"\xa0the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),m()(),w(133,"li")(134,"p")(135,"strong"),y(136,"To contact You:"),m(),y(137,"\xa0To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),m()(),w(138,"li")(139,"p")(140,"strong"),y(141,"To provide You"),m(),y(142,"\xa0with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),m()(),w(143,"li")(144,"p")(145,"strong"),y(146,"To manage Your requests:"),m(),y(147,"\xa0To attend and manage Your requests to Us."),m()(),w(148,"li")(149,"p")(150,"strong"),y(151,"For business transfers:"),m(),y(152,"\xa0We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),m()(),w(153,"li")(154,"p")(155,"strong"),y(156,"For other purposes"),m(),y(157,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),m()(),w(158,"li")(159,"p")(160,"strong"),y(161,"To display advertisements:"),m(),y(162,' We use Your data, including Usage Data and device identifiers (such as advertising identifiers), to deliver advertisements within Our Service through third-party providers like Google AdMob. For users in the European Economic Area (EEA), the United Kingdom, and Switzerland, **we rely on your consent (collected using a Consent Management Platform - CMP) to display personalized advertisements.** If consent for personalization is not given, we may display non-personalized ads, which may still require the use of data (e.g., for frequency capping). See the "Advertising, Consent, and Your Choices" section below for more details.'),m()()(),w(163,"h3"),y(164,"Sharing Your Personal Data"),m(),w(165,"p"),y(166,"We may share Your personal information in the following situations:"),m(),w(167,"ul")(168,"li")(169,"strong"),y(170,"With Service Providers:"),m(),y(171,"\xa0We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You. **This also includes sharing data (such as advertising identifiers and Usage Data) with third-party ad service providers, like Google AdMob, to enable the display and measurement of advertisements within the Service.**"),m(),w(172,"li")(173,"strong"),y(174,"For business transfers:"),m(),y(175,"\xa0We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company."),m(),w(176,"li")(177,"strong"),y(178,"With Affiliates:"),m(),y(179,"\xa0We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us."),m(),w(180,"li")(181,"strong"),y(182,"With business partners:"),m(),y(183,"\xa0We may share Your information with Our business partners to offer You certain products, services or promotions."),m(),w(184,"li")(185,"strong"),y(186,"With other users:"),m(),y(187,"\xa0when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside."),m(),w(188,"li")(189,"strong"),y(190,"With Your consent"),m(),y(191,": We may disclose Your personal information for any other purpose with Your consent."),m()(),w(192,"h2"),y(193,"Advertising, Consent, and Your Choices (for Users in EEA, UK, and Switzerland)"),m(),w(194,"p"),y(195,"In accordance with data protection regulations, such as the General Data Protection Regulation (GDPR) in the EEA, the UK GDPR, and similar applicable laws, we are required to obtain your consent to process your data for the purpose of displaying personalized advertisements."),m(),w(196,"p"),y(197," We use a certified Consent Management Platform (CMP) integrated with Google AdMob (via the Google User Messaging Platform - UMP SDK) to manage your consent preferences for advertising. When you first use the Application within the relevant regions (EEA, UK, Switzerland) or when required, you will be presented with a consent form. This form allows you to express (or refuse) your consent for various data processing purposes, including the personalization of ads. "),m(),w(198,"p")(199,"strong"),y(200,"Your Choices:"),m()(),w(201,"ul")(202,"li"),y(203,"If you consent to personalized advertising, you may see ads tailored to your interests based on your data."),m(),w(204,"li"),y(205,"If you refuse consent for personalization, you may still see ads, but they will be non-personalized (less relevant). Non-personalized ads may still require the use of some data (e.g., for frequency capping), for which consent may also be requested depending on the specific setup and your choices in the CMP form."),m(),w(206,"li"),y(207,"If you refuse consent for all data processing necessary for advertising (including non-personalized ads, e.g., the use of cookies), we may not be able to display any ads to you."),m()(),w(208,"p")(209,"strong"),y(210,"Changing Your Consent:"),m(),y(211,' You have the right to change your advertising consent preferences at any time. You can typically do this within the Application by visiting the **[Insert name of section/button in your app to change consent settings, e.g., "Privacy Settings", "Manage Consent", "Ad Settings"]** section or by clicking a designated button. Clicking this will usually re-display the consent form, allowing you to update your choices. '),m(),w(212,"p"),y(213," We work with Google AdMob. Google's use of data from apps and sites using their services is governed by Google's policies. You can find more information about how Google uses data at: "),w(214,"a",1),y(215,"Google's partner sites policy"),m(),y(216,". "),m(),w(217,"h3"),y(218,"Retention of Your Personal Data"),m(),w(219,"p"),y(220,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),m(),w(221,"p"),y(222,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods. **Data related to ad serving (including advertising identifiers and usage data) may be retained by Google AdMob for periods consistent with their policies.** "),m(),w(223,"h3"),y(224,"Transfer of Your Personal Data"),m(),w(225,"p"),y(226,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction. **This particularly applies to data processed by external service providers such as Google AdMob, who operate globally.**"),m(),w(227,"p"),y(228,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),m(),w(229,"p"),y(230,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),m(),w(231,"h3"),y(232,"Delete Your Personal Data"),m(),w(233,"p"),y(234,"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You."),m(),w(235,"p"),y(236,"Our Service may give You the ability to delete certain information about You from within the Service."),m(),w(237,"p"),y(238,"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."),m(),w(239,"p"),y(240,"Please note, however, that We may need to retain certain information when we have a legal obligation or lawful basis to do so."),m(),w(241,"h3"),y(242,"Disclosure of Your Personal Data"),m(),w(243,"h4"),y(244,"Business Transactions"),m(),w(245,"p"),y(246,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),m(),w(247,"h4"),y(248,"Law enforcement"),m(),w(249,"p"),y(250,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency). "),m(),w(251,"h4"),y(252,"Other legal requirements"),m(),w(253,"p"),y(254,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to: "),m(),w(255,"ul")(256,"li"),y(257,"Comply with a legal obligation"),m(),w(258,"li"),y(259,"Protect and defend the rights or property of the Company"),m(),w(260,"li"),y(261,"Prevent or investigate possible wrongdoing in connection with the Service"),m(),w(262,"li"),y(263,"Protect the personal safety of Users of the Service or the public"),m(),w(264,"li"),y(265,"Protect against legal liability"),m()(),w(266,"h3"),y(267,"Security of Your Personal Data"),m(),w(268,"p"),y(269,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),m(),w(270,"h2"),y(271,"Children's Privacy"),m(),w(272,"p"),y(273,"Our Service is available for users of all ages, including children. We are committed to protecting the privacy of all users, including minors. We do not knowingly collect personally identifiable information from children without appropriate consent from a parent or guardian where required by law. If you are a parent or guardian and become aware that your child has provided us with personal information without your consent, please contact us, and we will take steps to delete the information in accordance with applicable laws."),m(),w(274,"p"),y(275,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information. "),m(),w(276,"h2"),y(277,"Links to Other Websites"),m(),w(278,"p"),y(279,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),m(),w(280,"p"),y(281,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),m(),w(282,"h2"),y(283,"Changes to this Privacy Policy"),m(),w(284,"p"),y(285,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),m(),w(286,"p"),y(287,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),m(),w(288,"p"),y(289,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),m(),w(290,"h2"),y(291,"Contact Us"),m(),w(292,"p"),y(293,"If you have any questions about this Privacy Policy, You can contact us:"),m(),w(294,"ul")(295,"li"),y(296,"By email:\xa0contact@webaby.io"),m()()()()())},styles:["div[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{color:#141212!important;background-color:#a4aa8b!important;font-size:1.2em}"]}),n})()},{path:"privacy-policy-system-of-equations",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-privacy-policy-equations"]],decls:264,vars:0,consts:[[1,"policy"]],template:function(t,i){1&t&&(w(0,"div",0)(1,"div")(2,"p"),y(3,"Privacy Policy for System of Equations"),m()()(),w(4,"div")(5,"div")(6,"div")(7,"h1"),y(8,"Privacy Policy"),m(),w(9,"p"),y(10,"Last updated: August 11, 2024"),m(),w(11,"p"),y(12,"This Privacy Policy describes Our policies and procedures on the collection, use and disclosure of Your information when You use the Service and tells You about Your privacy rights and how the law protects You."),m(),w(13,"p"),y(14,"We use Your Personal data to provide and improve the Service. By using the Service, You agree to the collection and use of information in accordance with this Privacy Policy. "),m(),w(15,"h2"),y(16,"Interpretation and Definitions"),m(),w(17,"h3"),y(18,"Interpretation"),m(),w(19,"p"),y(20,"The words of which the initial letter is capitalized have meanings defined under the following conditions. The following definitions shall have the same meaning regardless of whether they appear in singular or in plural."),m(),w(21,"h3"),y(22,"Definitions"),m(),w(23,"p"),y(24,"For the purposes of this Privacy Policy:"),m(),w(25,"ul")(26,"li")(27,"p")(28,"strong"),y(29,"Account"),m(),y(30,"\xa0means a unique account created for You to access our Service or parts of our Service."),m()(),w(31,"li")(32,"p")(33,"strong"),y(34,"Affiliate"),m(),y(35,'\xa0means an entity that controls, is controlled by or is under common control with a party, where "control" means ownership of 50% or more of the shares, equity interest or other securities entitled to vote for election of directors or other managing authority.'),m()(),w(36,"li")(37,"p")(38,"strong"),y(39,"Application"),m(),y(40,"\xa0refers to System of Equations, the software program provided by the Company."),m()(),w(41,"li")(42,"p")(43,"strong"),y(44,"Company"),m(),y(45,'\xa0(referred to as either "the Company", "We", "Us" or "Our" in this Agreement) refers to Webaby, Warszawa, Polska.'),m()(),w(46,"li")(47,"p")(48,"strong"),y(49,"Country"),m(),y(50,"\xa0refers to: Poland"),m()(),w(51,"li")(52,"p")(53,"strong"),y(54,"Device"),m(),y(55,"\xa0means any device that can access the Service such as a computer, a cellphone or a digital tablet."),m()(),w(56,"li")(57,"p")(58,"strong"),y(59,"Personal Data"),m(),y(60,"\xa0is any information that relates to an identified or identifiable individual."),m()(),w(61,"li")(62,"p")(63,"strong"),y(64,"Service"),m(),y(65,"\xa0refers to the Application."),m()(),w(66,"li")(67,"p")(68,"strong"),y(69,"Service Provider"),m(),y(70,"\xa0means any natural or legal person who processes the data on behalf of the Company. It refers to third-party companies or individuals employed by the Company to facilitate the Service, to provide the Service on behalf of the Company, to perform services related to the Service or to assist the Company in analyzing how the Service is used. "),m()(),w(71,"li")(72,"p")(73,"strong"),y(74,"Usage Data"),m(),y(75,"\xa0refers to data collected automatically, either generated by the use of the Service or from the Service infrastructure itself (for example, the duration of a page visit)."),m()(),w(76,"li")(77,"p")(78,"strong"),y(79,"You"),m(),y(80,"\xa0means the individual accessing or using the Service, or the company, or other legal entity on behalf of which such individual is accessing or using the Service, as applicable."),m()()(),w(81,"h2"),y(82,"Collecting and Using Your Personal Data"),m(),w(83,"h3"),y(84,"Types of Data Collected"),m(),w(85,"h4"),y(86,"Personal Data"),m(),w(87,"p"),y(88,"While using Our Service, We may ask You to provide Us with certain personally identifiable information that can be used to contact or identify You. Personally identifiable information may include, but is not limited to:"),m(),w(89,"ul")(90,"li")(91,"p"),y(92,"Email address"),m()(),w(93,"li")(94,"p"),y(95,"First name and last name"),m()(),w(96,"li")(97,"p"),y(98,"Phone number"),m()(),w(99,"li")(100,"p"),y(101,"Usage Data"),m()()(),w(102,"h4"),y(103,"Usage Data"),m(),w(104,"p"),y(105,"Usage Data is collected automatically when using the Service."),m(),w(106,"p"),y(107,"Usage Data may include information such as Your Device's Internet Protocol address (e.g. IP address), browser type, browser version, the pages of our Service that You visit, the time and date of Your visit, the time spent on those pages, unique device identifiers and other diagnostic data."),m(),w(108,"p"),y(109,"When You access the Service by or through a mobile device, We may collect certain information automatically, including, but not limited to, the type of mobile device You use, Your mobile device unique ID, the IP address of Your mobile device, Your mobile operating system, the type of mobile Internet browser You use, unique device identifiers and other diagnostic data."),m(),w(110,"p"),y(111,"We may also collect information that Your browser sends whenever You visit our Service or when You access the Service by or through a mobile device."),m(),w(112,"h3"),y(113,"Use of Your Personal Data"),m(),w(114,"p"),y(115,"The Company may use Personal Data for the following purposes:"),m(),w(116,"ul")(117,"li")(118,"p")(119,"strong"),y(120,"To provide and maintain our Service"),m(),y(121,", including to monitor the usage of our Service."),m()(),w(122,"li")(123,"p")(124,"strong"),y(125,"To manage Your Account:"),m(),y(126,"\xa0to manage Your registration as a user of the Service. The Personal Data You provide can give You access to different functionalities of the Service that are available to You as a registered user."),m()(),w(127,"li")(128,"p")(129,"strong"),y(130,"For the performance of a contract:"),m(),y(131,"\xa0the development, compliance and undertaking of the purchase contract for the products, items or services You have purchased or of any other contract with Us through the Service."),m()(),w(132,"li")(133,"p")(134,"strong"),y(135,"To contact You:"),m(),y(136,"\xa0To contact You by email, telephone calls, SMS, or other equivalent forms of electronic communication, such as a mobile application's push notifications regarding updates or informative communications related to the functionalities, products or contracted services, including the security updates, when necessary or reasonable for their implementation."),m()(),w(137,"li")(138,"p")(139,"strong"),y(140,"To provide You"),m(),y(141,"\xa0with news, special offers and general information about other goods, services and events which we offer that are similar to those that you have already purchased or enquired about unless You have opted not to receive such information."),m()(),w(142,"li")(143,"p")(144,"strong"),y(145,"To manage Your requests:"),m(),y(146,"\xa0To attend and manage Your requests to Us."),m()(),w(147,"li")(148,"p")(149,"strong"),y(150,"For business transfers:"),m(),y(151,"\xa0We may use Your information to evaluate or conduct a merger, divestiture, restructuring, reorganization, dissolution, or other sale or transfer of some or all of Our assets, whether as a going concern or as part of bankruptcy, liquidation, or similar proceeding, in which Personal Data held by Us about our Service users is among the assets transferred."),m()(),w(152,"li")(153,"p")(154,"strong"),y(155,"For other purposes"),m(),y(156,": We may use Your information for other purposes, such as data analysis, identifying usage trends, determining the effectiveness of our promotional campaigns and to evaluate and improve our Service, products, services, marketing and your experience."),m()()(),w(157,"p"),y(158,"We may share Your personal information in the following situations:"),m(),w(159,"ul")(160,"li")(161,"strong"),y(162,"With Service Providers:"),m(),y(163,"\xa0We may share Your personal information with Service Providers to monitor and analyze the use of our Service, to contact You."),m(),w(164,"li")(165,"strong"),y(166,"For business transfers:"),m(),y(167,"\xa0We may share or transfer Your personal information in connection with, or during negotiations of, any merger, sale of Company assets, financing, or acquisition of all or a portion of Our business to another company."),m(),w(168,"li")(169,"strong"),y(170,"With Affiliates:"),m(),y(171,"\xa0We may share Your information with Our affiliates, in which case we will require those affiliates to honor this Privacy Policy. Affiliates include Our parent company and any other subsidiaries, joint venture partners or other companies that We control or that are under common control with Us."),m(),w(172,"li")(173,"strong"),y(174,"With business partners:"),m(),y(175,"\xa0We may share Your information with Our business partners to offer You certain products, services or promotions."),m(),w(176,"li")(177,"strong"),y(178,"With other users:"),m(),y(179,"\xa0when You share personal information or otherwise interact in the public areas with other users, such information may be viewed by all users and may be publicly distributed outside."),m(),w(180,"li")(181,"strong"),y(182,"With Your consent"),m(),y(183,": We may disclose Your personal information for any other purpose with Your consent."),m()(),w(184,"h3"),y(185,"Retention of Your Personal Data"),m(),w(186,"p"),y(187,"The Company will retain Your Personal Data only for as long as is necessary for the purposes set out in this Privacy Policy. We will retain and use Your Personal Data to the extent necessary to comply with our legal obligations (for example, if we are required to retain your data to comply with applicable laws), resolve disputes, and enforce our legal agreements and policies."),m(),w(188,"p"),y(189,"The Company will also retain Usage Data for internal analysis purposes. Usage Data is generally retained for a shorter period of time, except when this data is used to strengthen the security or to improve the functionality of Our Service, or We are legally obligated to retain this data for longer time periods. "),m(),w(190,"h3"),y(191,"Transfer of Your Personal Data"),m(),w(192,"p"),y(193,"Your information, including Personal Data, is processed at the Company's operating offices and in any other places where the parties involved in the processing are located. It means that this information may be transferred to \u2014 and maintained on \u2014 computers located outside of Your state, province, country or other governmental jurisdiction where the data protection laws may differ than those from Your jurisdiction."),m(),w(194,"p"),y(195,"Your consent to this Privacy Policy followed by Your submission of such information represents Your agreement to that transfer."),m(),w(196,"p"),y(197,"The Company will take all steps reasonably necessary to ensure that Your data is treated securely and in accordance with this Privacy Policy and no transfer of Your Personal Data will take place to an organization or a country unless there are adequate controls in place including the security of Your data and other personal information."),m(),w(198,"h3"),y(199,"Delete Your Personal Data"),m(),w(200,"p"),y(201,"You have the right to delete or request that We assist in deleting the Personal Data that We have collected about You."),m(),w(202,"p"),y(203,"Our Service may give You the ability to delete certain information about You from within the Service."),m(),w(204,"p"),y(205,"You may update, amend, or delete Your information at any time by signing in to Your Account, if you have one, and visiting the account settings section that allows you to manage Your personal information. You may also contact Us to request access to, correct, or delete any personal information that You have provided to Us."),m(),w(206,"p"),y(207,"Please note, however, that We may need to retain certain information when we have a legal obligation or lawful basis to do so."),m(),w(208,"h3"),y(209,"Disclosure of Your Personal Data"),m(),w(210,"h4"),y(211,"Business Transactions"),m(),w(212,"p"),y(213,"If the Company is involved in a merger, acquisition or asset sale, Your Personal Data may be transferred. We will provide notice before Your Personal Data is transferred and becomes subject to a different Privacy Policy."),m(),w(214,"h4"),y(215,"Law enforcement"),m(),w(216,"p"),y(217,"Under certain circumstances, the Company may be required to disclose Your Personal Data if required to do so by law or in response to valid requests by public authorities (e.g. a court or a government agency). "),m(),w(218,"h4"),y(219,"Other legal requirements"),m(),w(220,"p"),y(221,"The Company may disclose Your Personal Data in the good faith belief that such action is necessary to: "),m(),w(222,"ul")(223,"li"),y(224,"Comply with a legal obligation"),m(),w(225,"li"),y(226,"Protect and defend the rights or property of the Company"),m(),w(227,"li"),y(228,"Prevent or investigate possible wrongdoing in connection with the Service"),m(),w(229,"li"),y(230,"Protect the personal safety of Users of the Service or the public"),m(),w(231,"li"),y(232,"Protect against legal liability"),m()(),w(233,"h3"),y(234,"Security of Your Personal Data"),m(),w(235,"p"),y(236,"The security of Your Personal Data is important to Us, but remember that no method of transmission over the Internet, or method of electronic storage is 100% secure. While We strive to use commercially acceptable means to protect Your Personal Data, We cannot guarantee its absolute security."),m(),w(237,"h2"),y(238,"Children's Privacy"),m(),w(239,"p"),y(240,"Children's Privacy Our Service is available for users of all ages, including children. We are committed to protecting the privacy of all users, including minors. We do not knowingly collect personally identifiable information from children without appropriate consent from a parent or guardian where required by law. If you are a parent or guardian and become aware that your child has provided us with personal information without your consent, please contact us, and we will take steps to delete the information in accordance with applicable laws."),m(),w(241,"p"),y(242,"If We need to rely on consent as a legal basis for processing Your information and Your country requires consent from a parent, We may require Your parent's consent before We collect and use that information. "),m(),w(243,"h2"),y(244,"Links to Other Websites"),m(),w(245,"p"),y(246,"Our Service may contain links to other websites that are not operated by Us. If You click on a third party link, You will be directed to that third party's site. We strongly advise You to review the Privacy Policy of every site You visit."),m(),w(247,"p"),y(248,"We have no control over and assume no responsibility for the content, privacy policies or practices of any third party sites or services."),m(),w(249,"h2"),y(250,"Changes to this Privacy Policy"),m(),w(251,"p"),y(252,"We may update Our Privacy Policy from time to time. We will notify You of any changes by posting the new Privacy Policy on this page."),m(),w(253,"p"),y(254,'We will let You know via email and/or a prominent notice on Our Service, prior to the change becoming effective and update the "Last updated" date at the top of this Privacy Policy.'),m(),w(255,"p"),y(256,"You are advised to review this Privacy Policy periodically for any changes. Changes to this Privacy Policy are effective when they are posted on this page."),m(),w(257,"h2"),y(258,"Contact Us"),m(),w(259,"p"),y(260,"If you have any questions about this Privacy Policy, You can contact us:"),m(),w(261,"ul")(262,"li"),y(263,"By email:\xa0contact@webaby.io"),m()()()()())},styles:["div[_ngcontent-%COMP%], p[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{color:#141212!important;background-color:#a4aa8b!important;font-size:1.2em}"]}),n})()},{path:"logo",component:bC},{path:"game",component:(()=>{class n{constructor(){this.show=!1,this.buttonsState="hidden",this.grayImage="./../../assets/runningNicponColor.png",this.colorImage="./../../assets/runningNicponbw.png",this.maskHeight=0,this.imageWidth=10,this.abecadlowo=["A","b","e","c","a","d","\u0142","o","w","o"],this.cardTable=[{name:"Game Description",bgc:"card-yellow",image:"./../../assets/bird-face.png"},{name:"Next releases",bgc:"card-red",image:"./../../assets/NicponRunWithSword.png"},{name:"Best practices",bgc:"card-cyan",image:"./../../assets/eyesLettersMaterial.png"},{name:"Tips & Tricks",bgc:"card-violet",image:"./../../assets/frog-face.png"}],this.imageHeight=3/4*this.imageWidth,this.viewBox=`0 0 ${this.imageWidth} ${this.imageHeight}`}animateMask(){this.maskHeight<this.imageHeight?(this.maskHeight+=3/4*.2,requestAnimationFrame(()=>this.animateMask())):this.buttonsState="visible"}ngAfterViewInit(){this.animateMask(),this.viewBox=`0 0 ${this.imageWidth} ${this.imageHeight}`,this.animateMask(),this.imageHeight=3/4*this.imageWidth,x0().init()}scrollToElement(t){t.scrollIntoView({behavior:"smooth",block:"start"})}togleShow(){this.show=!this.show}showBounce(){this.show=!0}hideBounce(){this.show=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=Yn({type:n,selectors:[["app-game"]],viewQuery:function(t,i){if(1&t&&cy(M7,5),2&t){let r;cu(r=uu())&&(i.target=r.first)}},decls:48,vars:8,consts:[[1,"image-container"],[1,"allOnBackgroundImage"],["tabindex","0",1,"game-title",3,"mouseover","mouseout"],[3,"hidden"],[1,"bounce-container",3,"hidden"],[1,"bounce"],[1,"game-subtitle"],[1,"button-container"],[1,"transparent-button",3,"click"],[1,"transparent-button"],["src","./../../assets/icons/appStoreIco.ico",1,"storesIcons"],["src","./../../assets/icons/googlePayIco.ico",1,"storesIcons"],["preserveAspectRatio","xMidYMid meet",2,"width","100vw","height","auto"],["id","revealMask"],["x","0","y","0","width","100","height","100","fill","white"],["x","0","y","0","width","100","fill","black"],["x","0","y","0","height","100%","width","100%"],["x","0","y","0","height","100%","width","100%","mask","url(#revealMask)"],[1,"badges-container"],["target",""],[4,"ngFor","ngForOf"],["bgClass","alternate-bg"],["data-aos-duration","3000","data-aos","fade-up",1,"card","cardS",3,"ngClass"],["alt","Card image cap",1,"card-img-top",3,"src"]],template:function(t,i){if(1&t){const r=qo();w(0,"div",0)(1,"div",1)(2,"div",2),Yi("mouseover",function(){return i.showBounce()})("mouseout",function(){return i.hideBounce()}),w(3,"div",3),y(4,"Abecad\u0142owo"),m(),w(5,"div",4)(6,"div",5)(7,"span"),y(8,"A"),m(),w(9,"span"),y(10,"b"),m(),w(11,"span"),y(12,"e"),m(),w(13,"span"),y(14,"c"),m(),w(15,"span"),y(16,"a"),m(),w(17,"span"),y(18,"d"),m(),w(19,"span"),y(20,"\u0142"),m(),w(21,"span"),y(22,"o"),m(),w(23,"span"),y(24,"w"),m(),w(25,"span"),y(26,"o"),m()()(),w(27,"div",6),y(28,"Zagubione literki"),m()(),w(29,"div",7)(30,"button",8),Yi("click",function(){Wo(r);const o=is(44);return i.scrollToElement(o)}),y(31," O grze "),m(),w(32,"button",9),dt(33,"img",10),m(),w(34,"button",9),dt(35,"img",11),m()()(),function ww(){$e.lFrame.currentNamespace="svg"}(),w(36,"svg",12)(37,"defs")(38,"mask",13),dt(39,"rect",14)(40,"rect",15),m()(),dt(41,"image",16)(42,"image",17),m()(),function bw(){!function sR(){$e.lFrame.currentNamespace=null}()}(),w(43,"div",18,19),Ut(45,S7,4,3,"div",20),m(),dt(46,"app-smoke")(47,"app-footer",21)}2&t&&(Ye(3),ut("hidden",i.show),Ye(2),ut("hidden",!i.show),Ye(24),ut("@fadeIn",i.buttonsState),Ye(7),Yo("viewBox",i.viewBox),Ye(4),Yo("height",i.maskHeight),Ye(1),Yo("href",i.grayImage),Ye(1),Yo("href",i.colorImage),Ye(3),ut("ngForOf",i.cardTable))},directives:[Fh,Nh,x7,PC],styles:['@import"https://fonts.googleapis.com/css2?family=Oswald&display=swap";@font-face{font-family:Handjet;src:url(Handjet-SemiBold.4221ed7fe89296db.ttf)}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{background-color:#000!important;cursor:url(cursorSword4.dc7dda58db9fbab4.png),auto;font-size:9px}app-root[_ngcontent-%COMP%]{background:#051223;cursor:url(cursorSword4.dc7dda58db9fbab4.png)!important}.body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{background-color:#000!important;width:100vw;height:auto;margin:0;padding:0}.button-container[_ngcontent-%COMP%]{position:absolute;top:45%;left:5%;z-index:1;display:flex;flex-direction:row;align-items:center;justify-content:center;width:70%;height:auto}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:2vh 2vw;opacity:70%;border-radius:5%/10%;box-shadow:4% 4% 4% #6d560c;border:solid .2 bisque;border-color:bisque;color:bisque;align-items:center}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#d8984a66;color:#d1dcff}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:active{background-color:#9608b3}@media only screen and (max-width: 600px){.button-container[_ngcontent-%COMP%]{flex-direction:column;align-items:center}}.image-container[_ngcontent-%COMP%]{position:relative;width:100vw;height:auto;display:flex;flex-direction:column;align-items:self-start;justify-content:center}.image-container[_ngcontent-%COMP%]   .color-image[_ngcontent-%COMP%]{position:relative;display:block;width:10vw;height:10vh;z-index:1}.image-container[_ngcontent-%COMP%]   .color-image[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:0%;background:url(nicpon-11-png.455db8e36df3a2f0.png) no-repeat center/cover;z-index:2;animation:revealGrayScale 5s forwards}@keyframes revealGrayScale{to{height:100%}}.abcLand[_ngcontent-%COMP%]{font-size:3vw;font-weight:20%;font-family:Oswald,sans-serif;z-index:100;color:#faebd7;opacity:100%}svg[_ngcontent-%COMP%]{background-color:#000!important}.transparent-button[_ngcontent-%COMP%]{background-color:transparent;border:2% solid #333;padding:1%;font-size:2rem;color:#333;cursor:pointer;transition:.3s;width:auto;height:13%}.transparent-button[_ngcontent-%COMP%]:hover{background-color:#3333331a}.transparent-button[_ngcontent-%COMP%]:focus{animation:pulse 1s;box-shadow:0 0 0 2em transparent}@keyframes pulse{0%{box-shadow:0 0 0 0 var(--hover)}}.game-title[_ngcontent-%COMP%]{z-index:1;padding-left:5%;padding-top:5%;top:5%;left:5%;width:46vh;height:auto;padding-bottom:10%;font-size:3vw;font-family:Oswald,sans-serif;line-height:100%;color:#fff;align-self:flex-start}.game-subtitle[_ngcontent-%COMP%]{font-size:1.5vw;letter-spacing:30%;color:#deb887;line-height:80%}.storesIcons[_ngcontent-%COMP%]{width:100%;height:100%}.allOnBackgroundImage[_ngcontent-%COMP%]{width:100%;height:20vh;display:flex;flex-direction:column;align-items:center;align-content:center}@media only screen and (max-width: 600px){.allOnBackgroundImage[_ngcontent-%COMP%]{display:flex;align-content:center;align-items:center}}.badges-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;gap:2%;margin:.5em;width:100vw;height:100vh;background-color:#000;border:black;font-size:2em;word-spacing:2%;font-family:Oswald,sans-serif}.card[_ngcontent-%COMP%]{border-radius:3% 4%;padding:3%;line-height:90%}.card[_ngcontent-%COMP%]:hover{background-color:#051223;color:#e6a749;display:inline-block;animation:rotation .8s linear}@keyframes rotation{30%{transform:rotate(360deg);opacity:0}50%{opacity:.1}to{transform:rotate(0);opacity:1}}.card-yellow[_ngcontent-%COMP%]{background-color:#b4a911}.card-cyan[_ngcontent-%COMP%]{background-color:#10aeb9}.card-violet[_ngcontent-%COMP%]{background-color:#4b1046;color:#faebd7}.card-red[_ngcontent-%COMP%]{background-color:#7c0404;color:#faebd7}.cardS[_ngcontent-%COMP%]{width:22vw;height:22vw}.card-img-top[_ngcontent-%COMP%]{width:80%;height:auto}.abecadlowo[_ngcontent-%COMP%]{display:flex}bounce-container[_ngcontent-%COMP%]{width:100%;height:100%;background:#FF7777;-webkit-font-smoothing:antialiased;display:flex;justify-content:center;align-items:center}.bounce[_ngcontent-%COMP%]:hover{height:100px}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:relative;top:20px;display:inline-block;animation:bounce .3s ease infinite alternate;font-family:Oswald,sans-serif;font-size:3vw;color:#fff}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.1s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.2s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(4){animation-delay:.3s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(5){animation-delay:.4s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(6){animation-delay:.5s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(7){animation-delay:.6s}.bounce[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(8){animation-delay:.7s}@keyframes bounce{to{top:-20px}}'],data:{animation:[SC("fadeIn",[of("hidden",Al({opacity:0,transform:"translateY(-50px)"})),of("visible",Al({opacity:1,transform:"translateY(0)"})),w0("hidden => visible",[_0("0.5s")])])]}}),n})()},{path:"abecadlowo",component:xC},{path:"**",component:$5}];let C7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({imports:[[pC.forRoot(E7)],pC]}),n})();const Pt=!1;function LD(n){return new Ee(3e3,Pt)}function o9(){return"undefined"!=typeof window&&void 0!==window.document}function t_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Io(n){switch(n.length){case 0:return new Nu;case 1:return n[0];default:return new TC(n)}}function ND(n,e,t,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(u=>{const d=u.offset,h=d==l,f=h&&c||{};Object.keys(u).forEach(p=>{let _=p,v=u[p];if("offset"!==p)switch(_=e.normalizePropertyName(_,o),v){case"!":v=r[p];break;case Rs:v=s[p];break;default:v=e.normalizeStyleValue(p,_,v,o)}f[_]=v}),h||a.push(f),c=f,l=d}),o.length)throw function X7(n){return new Ee(3502,Pt)}();return a}function n_(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&i_(t,"start",n)));break;case"done":n.onDone(()=>i(t&&i_(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&i_(t,"destroy",n)))}}function i_(n,e,t){const i=t.totalTime,s=r_(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==i?n.totalTime:i,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function r_(n,e,t,i,r="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function tr(n,e,t){let i;return n instanceof Map?(i=n.get(e),i||n.set(e,i=t)):(i=n[e],i||(i=n[e]=t)),i}function FD(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let s_=(n,e)=>!1,kD=(n,e,t)=>[],UD=null;function o_(n){const e=n.parentNode||n.host;return e===UD?null:e}(t_()||"undefined"!=typeof Element)&&(o9()?(UD=(()=>document.documentElement)(),s_=(n,e)=>{for(;e;){if(e===n)return!0;e=o_(e)}return!1}):s_=(n,e)=>n.contains(e),kD=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ta=null,zD=!1;function BD(n){Ta||(Ta=function l9(){return"undefined"!=typeof document?document.body:null}()||{},zD=!!Ta.style&&"WebkitAppearance"in Ta.style);let e=!0;return Ta.style&&!function a9(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ta.style,!e&&zD&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Ta.style)),e}const VD=s_,HD=kD;let WD=(()=>{class n{validateStyleProperty(t){return BD(t)}matchesElement(t,i){return!1}containsElement(t,i){return VD(t,i)}getParentElement(t){return o_(t)}query(t,i,r){return HD(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,s,o,a=[],l){return new Nu(r,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),a_=(()=>{class n{}return n.NOOP=new WD,n})();const l_="ng-enter",xp="ng-leave",Mp="ng-trigger",Sp=".ng-trigger",jD="ng-animating",c_=".ng-animating";function Aa(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:u_(parseFloat(e[1]),e[2])}function u_(n,e){return"s"===e?1e3*n:n}function Ep(n,e,t){return n.hasOwnProperty("duration")?n:function d9(n,e,t){let r,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(LD()),{duration:0,delay:0,easing:""};r=u_(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(s=u_(parseFloat(l),a[4]));const c=a[5];c&&(o=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function T7(){return new Ee(3100,Pt)}()),a=!0),s<0&&(e.push(function A7(){return new Ee(3101,Pt)}()),a=!0),a&&e.splice(l,0,LD())}return{duration:r,delay:s,easing:o}}(n,e,t)}function yc(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Ro(n,e,t={}){if(e)for(let i in n)t[i]=n[i];else yc(n,t);return t}function qD(n,e,t){return t?e+":"+t+";":""}function $D(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=qD(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=qD(0,p9(t),n.style[t]));n.setAttribute("style",e)}function fs(n,e,t){n.style&&(Object.keys(e).forEach(i=>{const r=h_(i);t&&!t.hasOwnProperty(i)&&(t[i]=n.style[r]),n.style[r]=e[i]}),t_()&&$D(n))}function Da(n,e){n.style&&(Object.keys(e).forEach(t=>{const i=h_(t);n.style[i]=""}),t_()&&$D(n))}function dd(n){return Array.isArray(n)?1==n.length?n[0]:EC(n):n}const d_=new RegExp("{{\\s*(.+?)\\s*}}","g");function XD(n){let e=[];if("string"==typeof n){let t;for(;t=d_.exec(n);)e.push(t[1]);d_.lastIndex=0}return e}function Cp(n,e,t){const i=n.toString(),r=i.replace(d_,(s,o)=>{let a=e[o];return e.hasOwnProperty(o)||(t.push(function P7(n){return new Ee(3003,Pt)}()),a=""),a.toString()});return r==i?n:r}function Tp(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const f9=/-+([a-z0-9])/g;function h_(n){return n.replace(f9,(...e)=>e[1].toUpperCase())}function p9(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nr(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function I7(n){return new Ee(3004,Pt)}()}}function ZD(n,e){return window.getComputedStyle(n)[e]}function w9(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function b9(n,e,t){if(":"==n[0]){const l=function x9(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function j7(n){return new Ee(3016,Pt)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function G7(n){return new Ee(3015,Pt)}()),e;const r=i[1],s=i[2],o=i[3];e.push(KD(r,o));"<"==s[0]&&!("*"==r&&"*"==o)&&e.push(KD(o,r))}(i,t,e)):t.push(n),t}const Ip=new Set(["true","1"]),Rp=new Set(["false","0"]);function KD(n,e){const t=Ip.has(n)||Rp.has(n),i=Ip.has(e)||Rp.has(e);return(r,s)=>{let o="*"==n||n==r,a="*"==e||e==s;return!o&&t&&"boolean"==typeof r&&(o=r?Ip.has(n):Rp.has(n)),!a&&i&&"boolean"==typeof s&&(a=s?Ip.has(e):Rp.has(e)),o&&a}}const M9=new RegExp("s*:selfs*,?","g");function f_(n,e,t,i){return new S9(n).build(e,t,i)}class S9{constructor(e){this._driver=e}build(e,t,i){const r=new T9(t);this._resetContextStyleTimingState(r);const s=nr(this,dd(e),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function O7(){return new Ee(3006,Pt)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,s.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,o.push(l)}else t.errors.push(function L7(){return new Ee(3007,Pt)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,o=r||{};i.styles.forEach(a=>{if(Op(a)){const l=a;Object.keys(l).forEach(c=>{XD(l[c]).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}}),s.size&&(Tp(s.values()),t.errors.push(function N7(n,e){return new Ee(3008,Pt)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=nr(this,dd(e.animation),t);return{type:1,matchers:w9(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Pa(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>nr(this,i,t)),options:Pa(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const s=e.steps.map(o=>{t.currentTime=i;const a=nr(this,o,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:s,options:Pa(e.options)}}visitAnimate(e,t){const i=function D9(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return p_(Ep(n,e).duration,0,"");const i=n;if(i.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=p_(0,0,"");return s.dynamic=!0,s.strValue=i,s}return t=t||Ep(i,e),p_(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,s=e.styles?e.styles:Al({});if(5==s.type)r=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const c={};i.easing&&(c.easing=i.easing),o=Al(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(o,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[];Array.isArray(e.styles)?e.styles.forEach(o=>{"string"==typeof o?o==Rs?i.push(o):t.errors.push(function F7(n){return new Ee(3002,Pt)}()):i.push(o)}):i.push(e.styles);let r=!1,s=null;return i.forEach(o=>{if(Op(o)){const a=o,l=a.easing;if(l&&(s=l,delete a.easing),!r)for(let c in a)if(a[c].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,s=t.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(o=>{"string"!=typeof o&&Object.keys(o).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete o[a],void t.unsupportedCSSPropertiesFound.add(a);const l=t.collectedStyles[t.currentQuerySelector],c=l[a];let u=!0;c&&(s!=r&&s>=c.startTime&&r<=c.endTime&&(t.errors.push(function k7(n,e,t,i,r){return new Ee(3010,Pt)}()),u=!1),s=c.startTime),u&&(l[a]={startTime:s,endTime:r}),t.options&&function h9(n,e,t){const i=e.params||{},r=XD(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||t.push(function D7(n){return new Ee(3001,Pt)}())})}(o[a],t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function U7(){return new Ee(3011,Pt)}()),i;let s=0;const o=[];let a=!1,l=!1,c=0;const u=e.steps.map(g=>{const x=this._makeStyleAst(g,t);let b=null!=x.offset?x.offset:function A9(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Op(t)&&t.hasOwnProperty("offset")){const i=t;e=parseFloat(i.offset),delete i.offset}});else if(Op(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(x.styles),M=0;return null!=b&&(s++,M=x.offset=b),l=l||M<0||M>1,a=a||M<c,c=M,o.push(M),x});l&&t.errors.push(function z7(){return new Ee(3012,Pt)}()),a&&t.errors.push(function B7(){return new Ee(3200,Pt)}());const d=e.steps.length;let h=0;s>0&&s<d?t.errors.push(function V7(){return new Ee(3202,Pt)}()):0==s&&(h=1/(d-1));const f=d-1,p=t.currentTime,_=t.currentAnimateTimings,v=_.duration;return u.forEach((g,x)=>{const b=h>0?x==f?1:h*x:o[x],M=b*v;t.currentTime=p+_.delay+M,_.duration=M,this._validateStyleAst(g,t),g.offset=b,i.styles.push(g)}),i}visitReference(e,t){return{type:8,animation:nr(this,dd(e.animation),t),options:Pa(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Pa(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Pa(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function E9(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(M9,"")),n=n.replace(/@\*/g,Sp).replace(/@\w+/g,t=>Sp+"-"+t.substr(1)).replace(/:animating/g,c_),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+s:s,tr(t.collectedStyles,t.currentQuerySelector,{});const a=nr(this,dd(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:Pa(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function H7(){return new Ee(3013,Pt)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ep(e.timings,t.errors,!0);return{type:12,animation:nr(this,dd(e.animation),t),timings:i,options:null}}}class T9{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Op(n){return!Array.isArray(n)&&"object"==typeof n}function Pa(n){return n?(n=yc(n)).params&&(n.params=function C9(n){return n?yc(n):null}(n.params)):n={},n}function p_(n,e,t){return{duration:n,delay:e,easing:t}}function m_(n,e,t,i,r,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class Lp{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const R9=new RegExp(":enter","g"),L9=new RegExp(":leave","g");function g_(n,e,t,i,r,s={},o={},a,l,c=[]){return(new N9).buildKeyframes(n,e,t,i,r,s,o,a,l,c)}class N9{buildKeyframes(e,t,i,r,s,o,a,l,c,u=[]){c=c||new Lp;const d=new y_(e,t,c,r,s,u,[]);d.options=l,d.currentTimeline.setStyles([o],null,d.errors,l),nr(this,i,d);const h=d.timelines.filter(f=>f.containsAnimation());if(Object.keys(a).length){let f;for(let p=h.length-1;p>=0;p--){const _=h[p];if(_.element===t){f=_;break}}f&&!f.allowOnlyTimelineStyles()&&f.setStyles([a],null,d.errors,l)}return h.length?h.map(f=>f.buildKeyframes()):[m_(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(i,r,r.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let s=t.currentTimeline.currentTime;const o=null!=i.duration?Aa(i.duration):null,a=null!=i.delay?Aa(i.delay):null;return 0!==o&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,o,a);s=Math.max(s,c.duration+c.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),nr(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const s=e.options;if(s&&(s.params||s.delay)&&(r=t.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Np);const o=Aa(s.delay);r.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>nr(this,o,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Aa(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),nr(this,o,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Ep(t.params?Cp(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(i.duration),this.visitStyle(s,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,s=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*s),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+s),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},s=r.delay?Aa(r.delay):0;s&&(6===t.previousNode.type||0==i&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Np);let o=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);s&&d.delayNextStep(s),c===t.element&&(l=d.currentTimeline),nr(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let l=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;nr(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const Np={};class y_{constructor(e,t,i,r,s,o,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Np,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Fp(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Aa(i.duration)),null!=i.delay&&(r.delay=Aa(i.delay));const s=i.params;if(s){let o=r.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=Cp(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,s=new y_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Np,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+e.delay,easing:""},s=new F9(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,s,o){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(R9,"."+this._enterClassName)).replace(L9,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!s&&0==a.length&&o.push(function W7(n){return new Ee(3014,Pt)}()),a}}class Fp{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Fp(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Rs,this._currentKeyframe[t]=Rs}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&(this._previousKeyframe.easing=t);const s=r&&r.params||{},o=function k9(n,e){const t={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(e),i.forEach(s=>{t[s]=Rs})):Ro(r,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(o).forEach(a=>{const l=Cp(o[a],s,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:Rs),this._updateStyle(a,l)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(i=>{this._currentKeyframe[i]=e[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const i=this._styleSummary[t],r=e._styleSummary[t];(!i||r.time>i.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=Ro(a,!0);Object.keys(c).forEach(u=>{const d=c[u];"!"==d?e.add(u):d==Rs&&t.add(u)}),i||(c.offset=l/this.duration),r.push(c)});const s=e.size?Tp(e.values()):[],o=t.size?Tp(t.values()):[];if(i){const a=r[0],l=yc(a);a.offset=0,l.offset=1,r=[a,l]}return m_(this.element,r,s,o,this.duration,this.startTime,this.easing,!1)}}class F9 extends Fp{constructor(e,t,i,r,s,o,a=!1){super(e,t,o.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=i+t,a=t/o,l=Ro(e[0],!1);l.offset=0,s.push(l);const c=Ro(e[0],!1);c.offset=eP(a),s.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=Ro(e[d],!1);h.offset=eP((t+h.offset*i)/o),s.push(h)}i=o,t=0,r="",e=s}return m_(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function eP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class v_{}class U9 extends v_{normalizePropertyName(e,t){return h_(e)}normalizeStyleValue(e,t,i,r){let s="";const o=i.toString().trim();if(z9[t]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function R7(n,e){return new Ee(3005,Pt)}())}return o+s}}const z9=(()=>function B9(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function tP(n,e,t,i,r,s,o,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const __={};class nP{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function V9(n,e,t,i,r){return n.some(s=>s(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){const r=this._stateStyles["*"],s=this._stateStyles[e],o=r?r.buildStyles(t,i):{};return s?s.buildStyles(t,i):o}build(e,t,i,r,s,o,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||__,p=this.buildStyles(i,a&&a.params||__,d),_=l&&l.params||__,v=this.buildStyles(r,_,d),g=new Set,x=new Map,b=new Map,M="void"===r,E={params:Object.assign(Object.assign({},h),_)},T=u?[]:g_(e,t,this.ast.animation,s,o,p,v,E,c,d);let D=0;if(T.forEach(S=>{D=Math.max(S.duration+S.delay,D)}),d.length)return tP(t,this._triggerName,i,r,M,p,v,[],[],x,b,D,d);T.forEach(S=>{const A=S.element,Y=tr(x,A,{});S.preStyleProps.forEach(B=>Y[B]=!0);const ee=tr(b,A,{});S.postStyleProps.forEach(B=>ee[B]=!0),A!==t&&g.add(A)});const L=Tp(g.values());return tP(t,this._triggerName,i,r,M,p,v,T,L,x,b,D)}}class H9{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i={},r=yc(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!=o&&(r[s]=o)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const o=s;Object.keys(o).forEach(a=>{let l=o[a];l.length>1&&(l=Cp(l,r,t));const c=this.normalizer.normalizePropertyName(a,t);l=this.normalizer.normalizeStyleValue(a,c,l,t),i[c]=l})}}),i}}class G9{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states={},t.states.forEach(r=>{this.states[r.name]=new H9(r.style,r.options&&r.options.params||{},i)}),iP(this.states,"true","1"),iP(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new nP(e,r,this.states))}),this.fallbackTransition=function j9(n,e,t){return new nP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(o=>o.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function iP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Y9=new Lp;class q9{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(e,t){const i=[],s=f_(this._driver,t,i,[]);if(i.length)throw function Z7(n){return new Ee(3503,Pt)}();this._animations[e]=s}_buildPlayer(e,t,i){const r=e.element,s=ND(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],s=this._animations[e];let o;const a=new Map;if(s?(o=g_(this._driver,t,s,l_,xp,{},{},i,Y9,r),o.forEach(u=>{const d=tr(a,u.element,{});u.postStyleProps.forEach(h=>d[h]=null)})):(r.push(function K7(){return new Ee(3300,Pt)}()),o=[]),r.length)throw function Q7(n){return new Ee(3504,Pt)}();a.forEach((u,d)=>{Object.keys(u).forEach(h=>{u[h]=this._driver.computeStyle(d,h,Rs)})});const c=Io(o.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,{},d)}));return this._playersById[e]=c,c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function J7(n){return new Ee(3301,Pt)}();return t}listen(e,t,i,r){const s=r_(t,"","","");return n_(this._getPlayer(e),i,s,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const rP="ng-animate-queued",w_="ng-animate-disabled",Q9=[],sP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},J9={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},wr="__ng_removed";class b_{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function iY(n){return null!=n?n:null}(i?e.value:e),i){const s=yc(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const hd="void",x_=new b_(hd);class eY{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,br(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.hasOwnProperty(t))throw function e9(n,e){return new Ee(3302,Pt)}();if(null==i||0==i.length)throw function t9(n){return new Ee(3303,Pt)}();if(!function rY(n){return"start"==n||"done"==n}(i))throw function n9(n,e){return new Ee(3400,Pt)}();const s=tr(this._elementListeners,e,[]),o={name:t,phase:i,callback:r};s.push(o);const a=tr(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(br(e,Mp),br(e,Mp+"-"+t),a[t]=x_),()=>{this._engine.afterFlush(()=>{const l=s.indexOf(o);l>=0&&s.splice(l,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function i9(n){return new Ee(3401,Pt)}();return t}trigger(e,t,i,r=!0){const s=this._getTrigger(t),o=new M_(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(br(e,Mp),br(e,Mp+"-"+t),this._engine.statesByElement.set(e,a={}));let l=a[t];const c=new b_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a[t]=c,l||(l=x_),c.value!==hd&&l.value===c.value){if(!function aY(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const s=t[r];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(l.params,c.params)){const _=[],v=s.matchStyles(l.value,l.params,_),g=s.matchStyles(c.value,c.params,_);_.length?this._engine.reportError(_):this._engine.afterFlush(()=>{Da(e,v),fs(e,g)})}return}const h=tr(this._engine.playersByElement,e,[]);h.forEach(_=>{_.namespaceId==this.id&&_.triggerName==t&&_.queued&&_.destroy()});let f=s.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=s.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:o,isFallbackTransition:p}),p||(br(e,rP),o.onStart(()=>{vc(e,rP)})),o.onDone(()=>{let _=this.players.indexOf(o);_>=0&&this.players.splice(_,1);const v=this._engine.playersByElement.get(e);if(v){let g=v.indexOf(o);g>=0&&v.splice(g,1)}}),this.players.push(o),h.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,i)=>{delete t[e]}),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,Sp,!0);i.forEach(r=>{if(r[wr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(o=>o.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(Object.keys(s).forEach(l=>{if(o.set(l,s[l].value),this._triggers[l]){const c=this.trigger(e,l,hd,r);c&&a.push(c)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),i&&Io(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(s=>{const o=s.name;if(r.has(o))return;r.add(o);const l=this._triggers[o].fallbackTransition,c=i[o]||x_,u=new b_(hd),d=new M_(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let o=e;for(;o=o.parentNode;)if(i.statesByElement.get(o)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const s=e[wr];(!s||s===sP)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){br(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==i.triggerName){const l=r_(s,i.triggerName,i.fromState.value,i.toState.value);l._data=e,n_(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const s=i.transition.ast.depCount,o=r.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class tY{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new eY(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let o=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}}else for(let a=s;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,t)){i.splice(a+1,0,e),o=!0;break}o||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const o=i[r[s]].namespaceId;if(o){const a=this._fetchNamespace(o);a&&t.add(a)}}}return t}trigger(e,t,i,r){if(kp(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!kp(t))return;const s=t[wr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),br(e,w_)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vc(e,w_))}removeNode(e,t,i,r){if(kp(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,s){this.collectedLeaveElements.push(t),t[wr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,i,r,s){return kp(t)?this._fetchNamespace(e).listen(t,i,r,s):()=>{}}_buildInstruction(e,t,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,Sp,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,c_,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Io(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const i=e[wr];if(i&&i.setForRemoval){if(e[wr]=sP,i.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,i.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(w_))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)br(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Io(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function r9(n){return new Ee(3402,Pt)}()}_flushAnimations(e,t){const i=new Lp,r=[],s=new Map,o=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(k=>{u.add(k);const F=this.driver.query(k,".ng-animate-queued",!0);for(let U=0;U<F.length;U++)u.add(F[U])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=lP(h,this.collectedEnterElements),p=new Map;let _=0;f.forEach((k,F)=>{const U=l_+_++;p.set(F,U),k.forEach($=>br($,U))});const v=[],g=new Set,x=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const F=this.collectedLeaveElements[k],U=F[wr];U&&U.setForRemoval&&(v.push(F),g.add(F),U.hasAnimation?this.driver.query(F,".ng-star-inserted",!0).forEach($=>g.add($)):x.add(F))}const b=new Map,M=lP(h,Array.from(g));M.forEach((k,F)=>{const U=xp+_++;b.set(F,U),k.forEach($=>br($,U))}),e.push(()=>{f.forEach((k,F)=>{const U=p.get(F);k.forEach($=>vc($,U))}),M.forEach((k,F)=>{const U=b.get(F);k.forEach($=>vc($,U))}),v.forEach(k=>{this.processLeaveNode(k)})});const E=[],T=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(t).forEach(U=>{const $=U.player,J=U.element;if(E.push($),this.collectedEnterElements.length){const we=J[wr];if(we&&we.setForMove){if(we.previousTriggersValues&&we.previousTriggersValues.has(U.triggerName)){const Pe=we.previousTriggersValues.get(U.triggerName),pt=this.statesByElement.get(U.element);pt&&pt[U.triggerName]&&(pt[U.triggerName].value=Pe)}return void $.destroy()}}const z=!d||!this.driver.containsElement(d,J),Z=b.get(J),ue=p.get(J),oe=this._buildInstruction(U,i,ue,Z,z);if(oe.errors&&oe.errors.length)return void T.push(oe);if(z)return $.onStart(()=>Da(J,oe.fromStyles)),$.onDestroy(()=>fs(J,oe.toStyles)),void r.push($);if(U.isFallbackTransition)return $.onStart(()=>Da(J,oe.fromStyles)),$.onDestroy(()=>fs(J,oe.toStyles)),void r.push($);const xe=[];oe.timelines.forEach(we=>{we.stretchStartingKeyframe=!0,this.disabledNodes.has(we.element)||xe.push(we)}),oe.timelines=xe,i.append(J,oe.timelines),o.push({instruction:oe,player:$,element:J}),oe.queriedElements.forEach(we=>tr(a,we,[]).push($)),oe.preStyleProps.forEach((we,Pe)=>{const pt=Object.keys(we);if(pt.length){let zt=l.get(Pe);zt||l.set(Pe,zt=new Set),pt.forEach(ze=>zt.add(ze))}}),oe.postStyleProps.forEach((we,Pe)=>{const pt=Object.keys(we);let zt=c.get(Pe);zt||c.set(Pe,zt=new Set),pt.forEach(ze=>zt.add(ze))})});if(T.length){const k=[];T.forEach(F=>{k.push(function s9(n,e){return new Ee(3505,Pt)}())}),E.forEach(F=>F.destroy()),this.reportError(k)}const D=new Map,L=new Map;o.forEach(k=>{const F=k.element;i.has(F)&&(L.set(F,F),this._beforeAnimationBuild(k.player.namespaceId,k.instruction,D))}),r.forEach(k=>{const F=k.element;this._getPreviousPlayers(F,!1,k.namespaceId,k.triggerName,null).forEach($=>{tr(D,F,[]).push($),$.destroy()})});const S=v.filter(k=>uP(k,l,c)),A=new Map;aP(A,this.driver,x,c,Rs).forEach(k=>{uP(k,l,c)&&S.push(k)});const ee=new Map;f.forEach((k,F)=>{aP(ee,this.driver,new Set(k),l,"!")}),S.forEach(k=>{const F=A.get(k),U=ee.get(k);A.set(k,Object.assign(Object.assign({},F),U))});const B=[],V=[],j={};o.forEach(k=>{const{element:F,player:U,instruction:$}=k;if(i.has(F)){if(u.has(F))return U.onDestroy(()=>fs(F,$.toStyles)),U.disabled=!0,U.overrideTotalTime($.totalTime),void r.push(U);let J=j;if(L.size>1){let Z=F;const ue=[];for(;Z=Z.parentNode;){const oe=L.get(Z);if(oe){J=oe;break}ue.push(Z)}ue.forEach(oe=>L.set(oe,J))}const z=this._buildAnimation(U.namespaceId,$,D,s,ee,A);if(U.setRealPlayer(z),J===j)B.push(U);else{const Z=this.playersByElement.get(J);Z&&Z.length&&(U.parentPlayer=Io(Z)),r.push(U)}}else Da(F,$.fromStyles),U.onDestroy(()=>fs(F,$.toStyles)),V.push(U),u.has(F)&&r.push(U)}),V.forEach(k=>{const F=s.get(k.element);if(F&&F.length){const U=Io(F);k.setRealPlayer(U)}}),r.forEach(k=>{k.parentPlayer?k.syncPlayerEvents(k.parentPlayer):k.destroy()});for(let k=0;k<v.length;k++){const F=v[k],U=F[wr];if(vc(F,xp),U&&U.hasAnimation)continue;let $=[];if(a.size){let z=a.get(F);z&&z.length&&$.push(...z);let Z=this.driver.query(F,c_,!0);for(let ue=0;ue<Z.length;ue++){let oe=a.get(Z[ue]);oe&&oe.length&&$.push(...oe)}}const J=$.filter(z=>!z.destroyed);J.length?sY(this,F,J):this.processLeaveNode(F)}return v.length=0,B.forEach(k=>{this.players.push(k),k.onDone(()=>{k.destroy();const F=this.players.indexOf(k);this.players.splice(F,1)}),k.play()}),B}elementContainsData(e,t){let i=!1;const r=t[wr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const l=!s||s==hd;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||o.push(c)})}}return(i||r)&&(o=o.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),o}_beforeAnimationBuild(e,t,i){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==s,d=tr(i,c,[]);this._getPreviousPlayers(c,u,o,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Da(s,t.fromStyles)}_buildAnimation(e,t,i,r,s,o){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const _=p.element;u.add(_);const v=_[wr];if(v&&v.removedBeforeQueried)return new Nu(p.duration,p.delay);const g=_!==l,x=function oY(n){const e=[];return cP(n,e),e}((i.get(_)||Q9).map(D=>D.getRealPlayer())).filter(D=>!!D.element&&D.element===_),b=s.get(_),M=o.get(_),E=ND(0,this._normalizer,0,p.keyframes,b,M),T=this._buildPlayer(p,E,x);if(p.subTimeline&&r&&d.add(_),g){const D=new M_(e,a,_);D.setRealPlayer(T),c.push(D)}return T});c.forEach(p=>{tr(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function nY(n,e,t){let i;if(n instanceof Map){if(i=n.get(e),i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}}else if(i=n[e],i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&delete n[e]}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>br(p,jD));const f=Io(h);return f.onDestroy(()=>{u.forEach(p=>vc(p,jD)),fs(l,t.toStyles)}),d.forEach(p=>{tr(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Nu(e.duration,e.delay)}}class M_{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Nu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(i=>n_(e,t,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){tr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function kp(n){return n&&1===n.nodeType}function oP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function aP(n,e,t,i,r){const s=[];t.forEach(l=>s.push(oP(l)));const o=[];i.forEach((l,c)=>{const u={};l.forEach(d=>{const h=u[d]=e.computeStyle(c,d,r);(!h||0==h.length)&&(c[wr]=J9,o.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>oP(l,s[a++])),o}function lP(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),s=new Map;function o(a){if(!a)return 1;let l=s.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:o(c),s.set(a,l),l}return e.forEach(a=>{const l=o(a);1!==l&&t.get(l).push(a)}),t}function br(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function vc(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function sY(n,e,t){Io(t).onDone(()=>n.processLeaveNode(e))}function cP(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof TC?cP(i.players,e):e.push(i)}}function uP(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(s=>r.add(s)):e.set(n,i),t.delete(n),!0}class Up{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new tY(e,t,i),this._timelineEngine=new q9(e,t,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,t,i,r,s){const o=e+"-"+r;let a=this._triggerCache[o];if(!a){const l=[],u=f_(this._driver,s,l,[]);if(l.length)throw function $7(n,e){return new Ee(3404,Pt)}();a=function W9(n,e,t){return new G9(n,e,t)}(r,u,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[s,o]=FD(i);this._timelineEngine.command(s,t,o,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,s){if("@"==i.charAt(0)){const[o,a]=FD(i);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let cY=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&fs(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fs(this._element,this._initialStyles),this._endStyles&&(fs(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Da(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Da(this._element,this._endStyles),this._endStyles=null),fs(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function S_(n){let e=null;const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];uY(r)&&(e=e||{},e[r]=n[r])}return e}function uY(n){return"display"===n||"position"===n}class dP{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,i){return e.animate(t,i)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(i=>{"offset"!=i&&(e[i]=this._finished?t[i]:ZD(this.element,i))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class dY{validateStyleProperty(e){return BD(e)}matchesElement(e,t){return!1}containsElement(e,t){return VD(e,t)}getParentElement(e){return o_(e)}query(e,t,i){return HD(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,s,o=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(l.easing=s);const c={},u=o.filter(h=>h instanceof dP);(function m9(n,e){return 0===n||0===e})(i,r)&&u.forEach(h=>{let f=h.currentSnapshot;Object.keys(f).forEach(p=>c[p]=f[p])}),t=function g9(n,e,t){const i=Object.keys(t);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(a=>{s.hasOwnProperty(a)||o.push(a),s[a]=t[a]}),o.length)for(var r=1;r<e.length;r++){let a=e[r];o.forEach(function(l){a[l]=ZD(n,l)})}}return e}(e,t=t.map(h=>Ro(h,!1)),c);const d=function lY(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=S_(e[0]),e.length>1&&(i=S_(e[e.length-1]))):e&&(t=S_(e)),t||i?new cY(n,t,i):null}(e,t);return new dP(e,t,l,d)}}let hY=(()=>{class n extends MC{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Er.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?EC(t):t;return hP(this._renderer,null,i,"register",[r]),new fY(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(Oe(su),Oe(Pi))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class fY extends class v5{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new pY(this._id,e,t||{},this._renderer)}}class pY{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return hP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function hP(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const fP="@.disabled";let mY=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,o)=>{const a=null==o?void 0:o.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,i){const s=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(s);return u||(u=new pP("",s,this.engine),this._rendererCache.set(s,u)),u}const o=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(o,a,t,u.name,u)};return i.data.animation.forEach(l),new gY(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(Oe(su),Oe(Up),Oe(An))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class pP{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==fP?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class gY extends pP{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==fP?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.substr(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function yY(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vY(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let _Y=(()=>{class n extends Up{constructor(t,i,r){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(Oe(Pi),Oe(a_),Oe(v_))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();const mP=new Lt("AnimationModuleType"),gP=[{provide:MC,useClass:hY},{provide:v_,useFactory:function wY(){return new U9}},{provide:Up,useClass:_Y},{provide:su,useFactory:function bY(n,e,t){return new mY(n,e,t)},deps:[Vh,Up,An]}],yP=[{provide:a_,useFactory:()=>new dY},{provide:mP,useValue:"BrowserAnimations"},...gP],xY=[{provide:a_,useClass:WD},{provide:mP,useValue:"NoopAnimations"},...gP];let MY=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xY:yP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({providers:yP,imports:[oE]}),n})();const SY=["addListener","removeListener"],EY=["addEventListener","removeEventListener"],CY=["on","off"];function Bp(n,e,t,i){if(me(t)&&(i=t,t=void 0),i)return Bp(n,e,t).pipe(cE(i));const[r,s]=function DY(n){return me(n.addEventListener)&&me(n.removeEventListener)}(n)?EY.map(o=>a=>n[o](e,a,t)):function TY(n){return me(n.addListener)&&me(n.removeListener)}(n)?SY.map(vP(n,e)):function AY(n){return me(n.on)&&me(n.off)}(n)?CY.map(vP(n,e)):[];if(!r&&Yp(n))return En(o=>Bp(o,e,t))(sr(n));if(!r)throw new TypeError("Invalid event target");return new Yt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function vP(n,e){return t=>i=>n[t](e,i)}const Oo=new Yt(kn),IY={connector:()=>new ln};function _P(n,e=IY){const{connector:t}=e;return _t((i,r)=>{const s=t();sr(n(function PY(n){return new Yt(e=>n.subscribe(e))}(s))).subscribe(r),r.add(i.subscribe(s))})}function wP(n,e){return e?t=>bu(e.pipe(zr(1),function LY(){return _t((n,e)=>{n.subscribe(Ft(e,kn))})}()),t.pipe(wP(n))):En((t,i)=>n(t,i).pipe(zr(1),function NY(n){return rt(()=>n)}(t)))}const fd="Service workers are disabled or not supported by this browser";class Vp{constructor(e){if(this.serviceWorker=e,e){const i=Bp(e,"controllerchange").pipe(rt(()=>e.controller)),s=bu(Wh(()=>nt(e.controller)),i);this.worker=s.pipe(pr(u=>!!u)),this.registration=this.worker.pipe(Ur(()=>e.getRegistration()));const c=Bp(e,"message").pipe(rt(u=>u.data)).pipe(pr(u=>u&&u.type)).pipe(function OY(n){return n?e=>_P(n)(e):e=>function RY(n,e){const t=me(n)?n:()=>n;return me(e)?_P(e,{connector:t}):i=>new hE(i,t)}(new ln)(e)}());c.connect(),this.events=c}else this.worker=this.events=this.registration=function kY(n){return Wh(()=>wu(new Error(n)))}(fd)}postMessage(e,t){return this.worker.pipe(zr(1),Ri(i=>{i.postMessage(Object.assign({action:e},t))})).toPromise().then(()=>{})}postMessageWithOperation(e,t,i){const r=this.waitForOperationCompleted(i),s=this.postMessage(e,t);return Promise.all([s,r]).then(([,o])=>o)}generateNonce(){return Math.round(1e7*Math.random())}eventsOfType(e){let t;return t="string"==typeof e?i=>i.type===e:i=>e.includes(i.type),this.events.pipe(pr(t))}nextEventOfType(e){return this.eventsOfType(e).pipe(zr(1))}waitForOperationCompleted(e){return this.eventsOfType("OPERATION_COMPLETED").pipe(pr(t=>t.nonce===e),zr(1),rt(t=>{if(void 0!==t.result)return t.result;throw new Error(t.error)})).toPromise()}get isEnabled(){return!!this.serviceWorker}}let UY=(()=>{class n{constructor(t){if(this.sw=t,this.subscriptionChanges=new ln,!t.isEnabled)return this.messages=Oo,this.notificationClicks=Oo,void(this.subscription=Oo);this.messages=this.sw.eventsOfType("PUSH").pipe(rt(r=>r.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(rt(r=>r.data)),this.pushManager=this.sw.registration.pipe(rt(r=>r.pushManager));const i=this.pushManager.pipe(Ur(r=>r.getSubscription()));this.subscription=$p(i,this.subscriptionChanges)}get isEnabled(){return this.sw.isEnabled}requestSubscription(t){if(!this.sw.isEnabled)return Promise.reject(new Error(fd));const i={userVisibleOnly:!0};let r=this.decodeBase64(t.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),s=new Uint8Array(new ArrayBuffer(r.length));for(let o=0;o<r.length;o++)s[o]=r.charCodeAt(o);return i.applicationServerKey=s,this.pushManager.pipe(Ur(o=>o.subscribe(i)),zr(1)).toPromise().then(o=>(this.subscriptionChanges.next(o),o))}unsubscribe(){return this.sw.isEnabled?this.subscription.pipe(zr(1),Ur(i=>{if(null===i)throw new Error("Not subscribed to push notifications.");return i.unsubscribe().then(r=>{if(!r)throw new Error("Unsubscribe failed!");this.subscriptionChanges.next(null)})})).toPromise():Promise.reject(new Error(fd))}decodeBase64(t){return atob(t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Vp))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})(),zY=(()=>{class n{constructor(t){if(this.sw=t,!t.isEnabled)return this.versionUpdates=Oo,this.available=Oo,this.activated=Oo,void(this.unrecoverable=Oo);this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY"]),this.available=this.versionUpdates.pipe(pr(i=>"VERSION_READY"===i.type),rt(i=>({type:"UPDATE_AVAILABLE",current:i.currentVersion,available:i.latestVersion}))),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED"),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}get isEnabled(){return this.sw.isEnabled}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:t},t)}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(fd));const t=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:t},t)}}return n.\u0275fac=function(t){return new(t||n)(Oe(Vp))},n.\u0275prov=lt({token:n,factory:n.\u0275fac}),n})();class E_{}const bP=new Lt("NGSW_REGISTER_SCRIPT");function BY(n,e,t,i){return()=>{if(!$S(i)||!("serviceWorker"in navigator)||!1===t.enabled)return;let s;if(navigator.serviceWorker.addEventListener("controllerchange",()=>{null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})}),"function"==typeof t.registrationStrategy)s=t.registrationStrategy();else{const[a,...l]=(t.registrationStrategy||"registerWhenStable:30000").split(":");switch(a){case"registerImmediately":s=nt(null);break;case"registerWithDelay":s=xP(+l[0]||0);break;case"registerWhenStable":s=l[0]?$p(MP(n),xP(+l[0])):MP(n);break;default:throw new Error(`Unknown ServiceWorker registration strategy: ${t.registrationStrategy}`)}}n.get(An).runOutsideAngular(()=>s.pipe(zr(1)).subscribe(()=>navigator.serviceWorker.register(e,{scope:t.scope}).catch(a=>console.error("Service worker registration failed with:",a))))}}function xP(n){return nt(null).pipe(function FY(n,e=vC){const t=_C(n,e);return wP(()=>t)}(n))}function MP(n){return n.get(bh).isStable.pipe(pr(t=>t))}function VY(n,e){return new Vp($S(e)&&!1!==n.enabled?navigator.serviceWorker:void 0)}let HY=(()=>{class n{static register(t,i={}){return{ngModule:n,providers:[{provide:bP,useValue:t},{provide:E_,useValue:i},{provide:Vp,useFactory:VY,deps:[E_,fu]},{provide:wh,useFactory:BY,deps:[yi,bP,E_,fu],multi:!0}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ws({type:n}),n.\u0275inj=Xr({providers:[UY,zY]}),n})();let WY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=ws({type:n,bootstrap:[xC]}),n.\u0275inj=Xr({providers:[],imports:[[oE,C7,MY,HY.register("ngsw-worker.js",{enabled:true,registrationStrategy:"registerWhenStable:30000"})]]}),n})();(function f3(){vS=!1})(),Cz().bootstrapModule(WY).catch(n=>console.error(n))},123:function(_c){_c.exports=function(Mn){function bt(We){if(me[We])return me[We].exports;var St=me[We]={exports:{},id:We,loaded:!1};return Mn[We].call(St.exports,St,St.exports,bt),St.loaded=!0,St.exports}var me={};return bt.m=Mn,bt.c=me,bt.p="dist/",bt(0)}([function(Mn,bt,me){"use strict";function We(qe){return qe&&qe.__esModule?qe:{default:qe}}var St=Object.assign||function(qe){for(var jn=1;jn<arguments.length;jn++){var hi=arguments[jn];for(var Jn in hi)Object.prototype.hasOwnProperty.call(hi,Jn)&&(qe[Jn]=hi[Jn])}return qe},Vt=(We(me(1)),me(6)),Ze=We(Vt),ot=We(me(7)),vt=We(me(8)),kn=We(me(9)),$s=We(me(10)),ms=We(me(11)),Mr=We(me(14)),ui=[],Gr=!1,en={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},di=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(Gr=!0),Gr)return ui=(0,ms.default)(ui,en),(0,$s.default)(ui,en.once),ui},jr=function(){ui=(0,Mr.default)(),di()};Mn.exports={init:function(qe){en=St(en,qe),ui=(0,Mr.default)();var jn=document.all&&!window.atob;return function(qe){return!0===qe||"mobile"===qe&&kn.default.mobile()||"phone"===qe&&kn.default.phone()||"tablet"===qe&&kn.default.tablet()||"function"==typeof qe&&!0===qe()}(en.disable)||jn?void ui.forEach(function(qe,jn){qe.node.removeAttribute("data-aos"),qe.node.removeAttribute("data-aos-easing"),qe.node.removeAttribute("data-aos-duration"),qe.node.removeAttribute("data-aos-delay")}):(en.disableMutationObserver||vt.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),en.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",en.easing),document.querySelector("body").setAttribute("data-aos-duration",en.duration),document.querySelector("body").setAttribute("data-aos-delay",en.delay),"DOMContentLoaded"===en.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?di(!0):"load"===en.startEvent?window.addEventListener(en.startEvent,function(){di(!0)}):document.addEventListener(en.startEvent,function(){di(!0)}),window.addEventListener("resize",(0,ot.default)(di,en.debounceDelay,!0)),window.addEventListener("orientationchange",(0,ot.default)(di,en.debounceDelay,!0)),window.addEventListener("scroll",(0,Ze.default)(function(){(0,$s.default)(ui,en.once)},en.throttleDelay)),en.disableMutationObserver||vt.default.ready("[data-aos]",jr),ui)},refresh:di,refreshHard:jr}},function(Mn,bt){},,,,,function(Mn,bt){(function(me){"use strict";function We(be,Nt,qe){function jn(kt){var ei=Ti,$r=ln;return Ti=ln=void 0,qr=kt,Sn=be.apply($r,ei)}function hi(kt){return qr=kt,_t=setTimeout(Yr,Nt),rt?jn(kt):Sn}function Xs(kt){var ei=kt-Ft;return void 0===Ft||ei>=Nt||ei<0||Ui&&kt-qr>=ki}function Yr(){var kt=Ne();return Xs(kt)?Yt(kt):void(_t=setTimeout(Yr,function Jn(kt){var md=Nt-(kt-Ft);return Ui?jr(md,ki-(kt-qr)):md}(kt)))}function Yt(kt){return _t=void 0,tn&&Ti?jn(kt):(Ti=ln=void 0,Sn)}function rr(){var kt=Ne(),ei=Xs(kt);if(Ti=arguments,ln=this,Ft=kt,ei){if(void 0===_t)return hi(Ft);if(Ui)return _t=setTimeout(Yr,Nt),jn(Ft)}return void 0===_t&&(_t=setTimeout(Yr,Nt)),Sn}var Ti,ln,ki,Sn,_t,Ft,qr=0,rt=!1,Ui=!1,tn=!0;if("function"!=typeof be)throw new TypeError(yt);return Nt=Ht(Nt)||0,Gt(qe)&&(rt=!!qe.leading,ki=(Ui="maxWait"in qe)?di(Ht(qe.maxWait)||0,Nt):ki,tn="trailing"in qe?!!qe.trailing:tn),rr.cancel=function Oa(){void 0!==_t&&clearTimeout(_t),qr=0,Ti=Ft=ln=_t=void 0},rr.flush=function Fo(){return void 0===_t?Sn:Yt(Ne())},rr}function Gt(be){var Nt=void 0===be?"undefined":ot(be);return!!be&&("object"==Nt||"function"==Nt)}function Ze(be){return"symbol"==(void 0===be?"undefined":ot(be))||function Vt(be){return!!be&&"object"==(void 0===be?"undefined":ot(be))}(be)&&en.call(be)==jt}function Ht(be){if("number"==typeof be)return be;if(Ze(be))return vt;if(Gt(be)){var Nt="function"==typeof be.valueOf?be.valueOf():be;be=Gt(Nt)?Nt+"":Nt}if("string"!=typeof be)return 0===be?be:+be;be=be.replace(kn,"");var qe=$s.test(be);return qe||No.test(be)?ms(be.slice(2),qe?2:8):ci.test(be)?vt:+be}var ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(be){return typeof be}:function(be){return be&&"function"==typeof Symbol&&be.constructor===Symbol&&be!==Symbol.prototype?"symbol":typeof be},yt="Expected a function",vt=NaN,jt="[object Symbol]",kn=/^\s+|\s+$/g,ci=/^[-+]0x[0-9a-f]+$/i,$s=/^0b[01]+$/i,No=/^0o[0-7]+$/i,ms=parseInt,Fi="object"==(void 0===me?"undefined":ot(me))&&me&&me.Object===Object&&me,Mr="object"==("undefined"==typeof self?"undefined":ot(self))&&self&&self.Object===Object&&self,ui=Fi||Mr||Function("return this")(),en=Object.prototype.toString,di=Math.max,jr=Math.min,Ne=function(){return ui.Date.now()};Mn.exports=function St(be,Nt,qe){var jn=!0,hi=!0;if("function"!=typeof be)throw new TypeError(yt);return Gt(qe)&&(jn="leading"in qe?!!qe.leading:jn,hi="trailing"in qe?!!qe.trailing:hi),We(be,Nt,{leading:jn,maxWait:Nt,trailing:hi})}}).call(bt,function(){return this}())},function(Mn,bt){(function(me){"use strict";function St(Ne){var be=void 0===Ne?"undefined":Ht(Ne);return!!Ne&&("object"==be||"function"==be)}function Vt(Ne){return"symbol"==(void 0===Ne?"undefined":Ht(Ne))||function Gt(Ne){return!!Ne&&"object"==(void 0===Ne?"undefined":Ht(Ne))}(Ne)&&Gr.call(Ne)==vt}function Ze(Ne){if("number"==typeof Ne)return Ne;if(Vt(Ne))return yt;if(St(Ne)){var be="function"==typeof Ne.valueOf?Ne.valueOf():Ne;Ne=St(be)?be+"":be}if("string"!=typeof Ne)return 0===Ne?Ne:+Ne;Ne=Ne.replace(jt,"");var Nt=ci.test(Ne);return Nt||$s.test(Ne)?No(Ne.slice(2),Nt?2:8):kn.test(Ne)?yt:+Ne}var Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ne){return typeof Ne}:function(Ne){return Ne&&"function"==typeof Symbol&&Ne.constructor===Symbol&&Ne!==Symbol.prototype?"symbol":typeof Ne},ot="Expected a function",yt=NaN,vt="[object Symbol]",jt=/^\s+|\s+$/g,kn=/^[-+]0x[0-9a-f]+$/i,ci=/^0b[01]+$/i,$s=/^0o[0-7]+$/i,No=parseInt,ms="object"==(void 0===me?"undefined":Ht(me))&&me&&me.Object===Object&&me,Fi="object"==("undefined"==typeof self?"undefined":Ht(self))&&self&&self.Object===Object&&self,Mr=ms||Fi||Function("return this")(),Gr=Object.prototype.toString,en=Math.max,di=Math.min,jr=function(){return Mr.Date.now()};Mn.exports=function We(Ne,be,Nt){function qe(tn){var kt=rr,ei=Ti;return rr=Ti=void 0,Ft=tn,ki=Ne.apply(ei,kt)}function jn(tn){return Ft=tn,Sn=setTimeout(Xs,be),qr?qe(tn):ki}function Jn(tn){var kt=tn-_t;return void 0===_t||kt>=be||kt<0||rt&&tn-Ft>=ln}function Xs(){var tn=jr();return Jn(tn)?Yr(tn):void(Sn=setTimeout(Xs,function hi(tn){var $r=be-(tn-_t);return rt?di($r,ln-(tn-Ft)):$r}(tn)))}function Yr(tn){return Sn=void 0,Ui&&rr?qe(tn):(rr=Ti=void 0,ki)}function Fo(){var tn=jr(),kt=Jn(tn);if(rr=arguments,Ti=this,_t=tn,kt){if(void 0===Sn)return jn(_t);if(rt)return Sn=setTimeout(Xs,be),qe(_t)}return void 0===Sn&&(Sn=setTimeout(Xs,be)),ki}var rr,Ti,ln,ki,Sn,_t,Ft=0,qr=!1,rt=!1,Ui=!0;if("function"!=typeof Ne)throw new TypeError(ot);return be=Ze(be)||0,St(Nt)&&(qr=!!Nt.leading,ln=(rt="maxWait"in Nt)?en(Ze(Nt.maxWait)||0,be):ln,Ui="trailing"in Nt?!!Nt.trailing:Ui),Fo.cancel=function Yt(){void 0!==Sn&&clearTimeout(Sn),Ft=0,rr=_t=Ti=Sn=void 0},Fo.flush=function Oa(){return void 0===Sn?ki:Yr(jr())},Fo}}).call(bt,function(){return this}())},function(Mn,bt){"use strict";function me(Ht){var ot=void 0,yt=void 0;for(ot=0;ot<Ht.length;ot+=1)if((yt=Ht[ot]).dataset&&yt.dataset.aos||yt.children&&me(yt.children))return!0;return!1}function We(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Vt(Ht){Ht&&Ht.forEach(function(ot){var yt=Array.prototype.slice.call(ot.addedNodes),vt=Array.prototype.slice.call(ot.removedNodes);if(me(yt.concat(vt)))return Ze()})}Object.defineProperty(bt,"__esModule",{value:!0});var Ze=function(){};bt.default={isSupported:function St(){return!!We()},ready:function Gt(Ht,ot){var yt=window.document,jt=new(We())(Vt);Ze=ot,jt.observe(yt.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Mn,bt){"use strict";function We(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(bt,"__esModule",{value:!0});var St=function(){function yt(vt,jt){for(var kn=0;kn<jt.length;kn++){var ci=jt[kn];ci.enumerable=ci.enumerable||!1,ci.configurable=!0,"value"in ci&&(ci.writable=!0),Object.defineProperty(vt,ci.key,ci)}}return function(vt,jt,kn){return jt&&yt(vt.prototype,jt),kn&&yt(vt,kn),vt}}(),Gt=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Vt=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ze=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Ht=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ot=function(){function yt(){!function me(yt,vt){if(!(yt instanceof vt))throw new TypeError("Cannot call a class as a function")}(this,yt)}return St(yt,[{key:"phone",value:function(){var vt=We();return!(!Gt.test(vt)&&!Vt.test(vt.substr(0,4)))}},{key:"mobile",value:function(){var vt=We();return!(!Ze.test(vt)&&!Ht.test(vt.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),yt}();bt.default=new ot},function(Mn,bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.default=function(St,Gt){var Vt=window.pageYOffset,Ze=window.innerHeight;St.forEach(function(Ht,ot){!function(St,Gt,Vt){var Ze=St.node.getAttribute("data-aos-once");Gt>St.position?St.node.classList.add("aos-animate"):void 0!==Ze&&("false"===Ze||!Vt&&"true"!==Ze)&&St.node.classList.remove("aos-animate")}(Ht,Ze+Vt,Gt)})}},function(Mn,bt,me){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var Gt=function We(Ze){return Ze&&Ze.__esModule?Ze:{default:Ze}}(me(12));bt.default=function(Ze,Ht){return Ze.forEach(function(ot,yt){ot.node.classList.add("aos-init"),ot.position=(0,Gt.default)(ot.node,Ht.offset)}),Ze}},function(Mn,bt,me){"use strict";Object.defineProperty(bt,"__esModule",{value:!0});var Gt=function We(Ze){return Ze&&Ze.__esModule?Ze:{default:Ze}}(me(13));bt.default=function(Ze,Ht){var ot=0,yt=0,vt=window.innerHeight,jt={offset:Ze.getAttribute("data-aos-offset"),anchor:Ze.getAttribute("data-aos-anchor"),anchorPlacement:Ze.getAttribute("data-aos-anchor-placement")};switch(jt.offset&&!isNaN(jt.offset)&&(yt=parseInt(jt.offset)),jt.anchor&&document.querySelectorAll(jt.anchor)&&(Ze=document.querySelectorAll(jt.anchor)[0]),ot=(0,Gt.default)(Ze).top,jt.anchorPlacement){case"top-bottom":break;case"center-bottom":ot+=Ze.offsetHeight/2;break;case"bottom-bottom":ot+=Ze.offsetHeight;break;case"top-center":ot+=vt/2;break;case"bottom-center":ot+=vt/2+Ze.offsetHeight;break;case"center-center":ot+=vt/2+Ze.offsetHeight/2;break;case"top-top":ot+=vt;break;case"bottom-top":ot+=Ze.offsetHeight+vt;break;case"center-top":ot+=Ze.offsetHeight/2+vt}return jt.anchorPlacement||jt.offset||isNaN(Ht)||(yt=Ht),ot+yt}},function(Mn,bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(We){for(var St=0,Gt=0;We&&!isNaN(We.offsetLeft)&&!isNaN(We.offsetTop);)St+=We.offsetLeft-("BODY"!=We.tagName?We.scrollLeft:0),Gt+=We.offsetTop-("BODY"!=We.tagName?We.scrollTop:0),We=We.offsetParent;return{top:Gt,left:St}}},function(Mn,bt){"use strict";Object.defineProperty(bt,"__esModule",{value:!0}),bt.default=function(We){return We=We||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(We,function(St){return{node:St}})}}])}},_c=>{_c(_c.s=197)}]);